var FR=Object.defineProperty;var BR=(e,t,n)=>t in e?FR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kt=(e,t,n)=>(BR(e,typeof t!="symbol"?t+"":t,n),n);function ZW(){import("data:text/javascript,")}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var kn=Object.freeze({}),st=Array.isArray;function Qe(e){return e==null}function Q(e){return e!=null}function Jt(e){return e===!0}function zR(e){return e===!1}function ef(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function At(e){return typeof e=="function"}function qn(e){return e!==null&&typeof e=="object"}var D_=Object.prototype.toString;function sr(e){return D_.call(e)==="[object Object]"}function UR(e){return D_.call(e)==="[object RegExp]"}function xM(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function $m(e){return Q(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function GR(e){return e==null?"":Array.isArray(e)||sr(e)&&e.toString===D_?JSON.stringify(e,null,2):String(e)}function tc(e){var t=parseFloat(e);return isNaN(t)?e:t}function Mi(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(a){return n[a.toLowerCase()]}:function(a){return n[a]}}Mi("slot,component",!0);var HR=Mi("key,ref,slot,slot-scope,is");function gs(e,t){var n=e.length;if(n){if(t===e[n-1]){e.length=n-1;return}var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var kR=Object.prototype.hasOwnProperty;function rr(e,t){return kR.call(e,t)}function yo(e){var t=Object.create(null);return function(r){var i=t[r];return i||(t[r]=e(r))}}var WR=/-(\w)/g,ao=yo(function(e){return e.replace(WR,function(t,n){return n?n.toUpperCase():""})}),VR=yo(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),$R=/\B([A-Z])/g,tf=yo(function(e){return e.replace($R,"-$1").toLowerCase()});function jR(e,t){function n(r){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return n._length=e.length,n}function qR(e,t){return e.bind(t)}var wM=Function.prototype.bind?qR:jR;function jm(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function Wt(e,t){for(var n in t)e[n]=t[n];return e}function bM(e){for(var t={},n=0;n<e.length;n++)e[n]&&Wt(t,e[n]);return t}function Xt(e,t,n){}var Kf=function(e,t,n){return!1},MM=function(e){return e};function so(e,t){if(e===t)return!0;var n=qn(e),r=qn(t);if(n&&r)try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every(function(c,f){return so(c,t[f])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!i&&!a){var s=Object.keys(e),u=Object.keys(t);return s.length===u.length&&s.every(function(c){return so(e[c],t[c])})}else return!1}catch(c){return!1}else return!n&&!r?String(e)===String(t):!1}function SM(e,t){for(var n=0;n<e.length;n++)if(so(e[n],t))return n;return-1}function Qh(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function qm(e,t){return e===t?e===0&&1/e!==1/t:e===e||t===t}var uw="data-server-rendered",sp=["component","directive","filter"],TM=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],ni={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Kf,isReservedAttr:Kf,isUnknownElement:Kf,getTagNamespace:Xt,parsePlatformTagName:MM,mustUseProp:Kf,async:!0,_lifecycleHooks:TM},XR=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function EM(e){var t=(e+"").charCodeAt(0);return t===36||t===95}function hn(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var YR=new RegExp("[^".concat(XR.source,".$_\\d]"));function ZR(e){if(!YR.test(e)){var t=e.split(".");return function(n){for(var r=0;r<t.length;r++){if(!n)return;n=n[t[r]]}return n}}}var JR="__proto__"in{},_r=typeof window<"u",Xn=_r&&window.navigator.userAgent.toLowerCase(),Ku=Xn&&/msie|trident/.test(Xn),Qu=Xn&&Xn.indexOf("msie 9.0")>0,N_=Xn&&Xn.indexOf("edge/")>0;Xn&&Xn.indexOf("android")>0;var KR=Xn&&/iphone|ipad|ipod|ios/.test(Xn);Xn&&/chrome\/\d+/.test(Xn);Xn&&/phantomjs/.test(Xn);var lw=Xn&&Xn.match(/firefox\/(\d+)/),Xm={}.watch,AM=!1;if(_r)try{var cw={};Object.defineProperty(cw,"passive",{get:function(){AM=!0}}),window.addEventListener("test-passive",null,cw)}catch(e){}var Qf,_s=function(){return Qf===void 0&&(!_r&&typeof global<"u"?Qf=global.process&&global.process.env.VUE_ENV==="server":Qf=!1),Qf},ed=_r&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function wu(e){return typeof e=="function"&&/native code/.test(e.toString())}var nf=typeof Symbol<"u"&&wu(Symbol)&&typeof Reflect<"u"&&wu(Reflect.ownKeys),nc;typeof Set<"u"&&wu(Set)?nc=Set:nc=function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(t){return this.set[t]===!0},e.prototype.add=function(t){this.set[t]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pn=null;function QR(){return pn&&{proxy:pn}}function os(e){e===void 0&&(e=null),e||pn&&pn._scope.off(),pn=e,e&&e._scope.on()}var Nr=function(){function e(t,n,r,i,a,s,u,c){this.tag=t,this.data=n,this.children=r,this.text=i,this.elm=a,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=u,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),Zs=function(e){e===void 0&&(e="");var t=new Nr;return t.text=e,t.isComment=!0,t};function fu(e){return new Nr(void 0,void 0,void 0,String(e))}function Ym(e){var t=new Nr(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var eO=0,Wh=[],tO=function(){for(var e=0;e<Wh.length;e++){var t=Wh[e];t.subs=t.subs.filter(function(n){return n}),t._pending=!1}Wh.length=0},Ui=function(){function e(){this._pending=!1,this.id=eO++,this.subs=[]}return e.prototype.addSub=function(t){this.subs.push(t)},e.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,Wh.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(t){for(var n=this.subs.filter(function(s){return s}),r=0,i=n.length;r<i;r++){var a=n[r];a.update()}},e}();Ui.target=null;var Vh=[];function el(e){Vh.push(e),Ui.target=e}function tl(){Vh.pop(),Ui.target=Vh[Vh.length-1]}var CM=Array.prototype,td=Object.create(CM),nO=["push","pop","shift","unshift","splice","sort","reverse"];nO.forEach(function(e){var t=CM[e];hn(td,e,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=t.apply(this,r),s=this.__ob__,u;switch(e){case"push":case"unshift":u=r;break;case"splice":u=r.slice(2);break}return u&&s.observeArray(u),s.dep.notify(),a})});var fw=Object.getOwnPropertyNames(td),PM={},F_=!0;function us(e){F_=e}var rO={notify:Xt,depend:Xt,addSub:Xt,removeSub:Xt},hw=function(){function e(t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!1),this.value=t,this.shallow=n,this.mock=r,this.dep=r?rO:new Ui,this.vmCount=0,hn(t,"__ob__",this),st(t)){if(!r)if(JR)t.__proto__=td;else for(var i=0,a=fw.length;i<a;i++){var s=fw[i];hn(t,s,td[s])}n||this.observeArray(t)}else for(var u=Object.keys(t),i=0;i<u.length;i++){var s=u[i];ls(t,s,PM,void 0,n,r)}}return e.prototype.observeArray=function(t){for(var n=0,r=t.length;n<r;n++)ya(t[n],!1,this.mock)},e}();function ya(e,t,n){if(e&&rr(e,"__ob__")&&e.__ob__ instanceof hw)return e.__ob__;if(F_&&(n||!_s())&&(st(e)||sr(e))&&Object.isExtensible(e)&&!e.__v_skip&&!Fn(e)&&!(e instanceof Nr))return new hw(e,t,n)}function ls(e,t,n,r,i,a){var s=new Ui,u=Object.getOwnPropertyDescriptor(e,t);if(!(u&&u.configurable===!1)){var c=u&&u.get,f=u&&u.set;(!c||f)&&(n===PM||arguments.length===2)&&(n=e[t]);var h=!i&&ya(n,!1,a);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var v=c?c.call(e):n;return Ui.target&&(s.depend(),h&&(h.dep.depend(),st(v)&&LM(v))),Fn(v)&&!i?v.value:v},set:function(v){var m=c?c.call(e):n;if(!!qm(m,v)){if(f)f.call(e,v);else{if(c)return;if(!i&&Fn(m)&&!Fn(v)){m.value=v;return}else n=v}h=!i&&ya(v,!1,a),s.notify()}}}),s}}function op(e,t,n){if(!xo(e)){var r=e.__ob__;return st(e)&&xM(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),r&&!r.shallow&&r.mock&&ya(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||r&&r.vmCount?n:r?(ls(r.value,t,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(e[t]=n,n)}}function B_(e,t){if(st(e)&&xM(t)){e.splice(t,1);return}var n=e.__ob__;e._isVue||n&&n.vmCount||xo(e)||!rr(e,t)||(delete e[t],n&&n.dep.notify())}function LM(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),st(t)&&LM(t)}function iO(e){return RM(e,!1),e}function z_(e){return RM(e,!0),hn(e,"__v_isShallow",!0),e}function RM(e,t){xo(e)||ya(e,t,_s())}function Js(e){return xo(e)?Js(e.__v_raw):!!(e&&e.__ob__)}function nd(e){return!!(e&&e.__v_isShallow)}function xo(e){return!!(e&&e.__v_isReadonly)}function aO(e){return Js(e)||xo(e)}function OM(e){var t=e&&e.__v_raw;return t?OM(t):e}function sO(e){return Object.isExtensible(e)&&hn(e,"__v_skip",!0),e}var rf="__v_isRef";function Fn(e){return!!(e&&e.__v_isRef===!0)}function oO(e){return IM(e,!1)}function uO(e){return IM(e,!0)}function IM(e,t){if(Fn(e))return e;var n={};return hn(n,rf,!0),hn(n,"__v_isShallow",t),hn(n,"dep",ls(n,"value",e,null,t,_s())),n}function lO(e){e.dep&&e.dep.notify()}function cO(e){return Fn(e)?e.value:e}function fO(e){if(Js(e))return e;for(var t={},n=Object.keys(e),r=0;r<n.length;r++)rd(t,e,n[r]);return t}function rd(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var r=t[n];if(Fn(r))return r.value;var i=r&&r.__ob__;return i&&i.dep.depend(),r},set:function(r){var i=t[n];Fn(i)&&!Fn(r)?i.value=r:t[n]=r}})}function hO(e){var t=new Ui,n=e(function(){t.depend()},function(){t.notify()}),r=n.get,i=n.set,a={get value(){return r()},set value(s){i(s)}};return hn(a,rf,!0),a}function dO(e){var t=st(e)?new Array(e.length):{};for(var n in e)t[n]=DM(e,n);return t}function DM(e,t,n){var r=e[t];if(Fn(r))return r;var i={get value(){var a=e[t];return a===void 0?n:a},set value(a){e[t]=a}};return hn(i,rf,!0),i}var pO="__v_rawToReadonly",vO="__v_rawToShallowReadonly";function NM(e){return FM(e,!1)}function FM(e,t){if(!sr(e)||xo(e))return e;var n=t?vO:pO,r=e[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(e));hn(e,n,i),hn(i,"__v_isReadonly",!0),hn(i,"__v_raw",e),Fn(e)&&hn(i,rf,!0),(t||nd(e))&&hn(i,"__v_isShallow",!0);for(var a=Object.keys(e),s=0;s<a.length;s++)mO(i,e,a[s],t);return i}function mO(e,t,n,r){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var i=t[n];return r||!sr(i)?i:NM(i)},set:function(){}})}function gO(e){return FM(e,!0)}function _O(e,t){var n,r,i=At(e);i?(n=e,r=Xt):(n=e.get,r=e.set);var a=_s()?null:new af(pn,n,Xt,{lazy:!0}),s={effect:a,get value(){return a?(a.dirty&&a.evaluate(),Ui.target&&a.depend(),a.value):n()},set value(u){r(u)}};return hn(s,rf,!0),hn(s,"__v_isReadonly",i),s}var up="watcher",dw="".concat(up," callback"),pw="".concat(up," getter"),yO="".concat(up," cleanup");function xO(e,t){return lp(e,null,t)}function BM(e,t){return lp(e,null,{flush:"post"})}function wO(e,t){return lp(e,null,{flush:"sync"})}var vw={};function bO(e,t,n){return lp(e,t,n)}function lp(e,t,n){var r=n===void 0?kn:n,i=r.immediate,a=r.deep,s=r.flush,u=s===void 0?"pre":s;r.onTrack,r.onTrigger;var c=pn,f=function(M,E,S){return S===void 0&&(S=null),xa(M,null,S,c,E)},h,d=!1,v=!1;if(Fn(e)?(h=function(){return e.value},d=nd(e)):Js(e)?(h=function(){return e.__ob__.dep.depend(),e},a=!0):st(e)?(v=!0,d=e.some(function(M){return Js(M)||nd(M)}),h=function(){return e.map(function(M){if(Fn(M))return M.value;if(Js(M))return Au(M);if(At(M))return f(M,pw)})}):At(e)?t?h=function(){return f(e,pw)}:h=function(){if(!(c&&c._isDestroyed))return _&&_(),f(e,up,[g])}:h=Xt,t&&a){var m=h;h=function(){return Au(m())}}var _,g=function(M){_=y.onStop=function(){f(M,yO)}};if(_s())return g=Xt,t?i&&f(t,dw,[h(),v?[]:void 0,g]):h(),Xt;var y=new af(pn,h,Xt,{lazy:!0});y.noRecurse=!t;var w=v?[]:vw;return y.run=function(){if(!!y.active)if(t){var M=y.get();(a||d||(v?M.some(function(E,S){return qm(E,w[S])}):qm(M,w)))&&(_&&_(),f(t,dw,[M,w===vw?void 0:w,g]),w=M)}else y.get()},u==="sync"?y.update=y.run:u==="post"?(y.post=!0,y.update=function(){return rg(y)}):y.update=function(){if(c&&c===pn&&!c._isMounted){var M=c._preWatchers||(c._preWatchers=[]);M.indexOf(y)<0&&M.push(y)}else rg(y)},t?i?y.run():w=y.get():u==="post"&&c?c.$once("hook:mounted",function(){return y.get()}):y.get(),function(){y.teardown()}}var Hn,U_=function(){function e(t){t===void 0&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Hn,!t&&Hn&&(this.index=(Hn.scopes||(Hn.scopes=[])).push(this)-1)}return e.prototype.run=function(t){if(this.active){var n=Hn;try{return Hn=this,t()}finally{Hn=n}}},e.prototype.on=function(){Hn=this},e.prototype.off=function(){Hn=this.parent},e.prototype.stop=function(t){if(this.active){var n=void 0,r=void 0;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].teardown();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},e}();function MO(e){return new U_(e)}function SO(e,t){t===void 0&&(t=Hn),t&&t.active&&t.effects.push(e)}function TO(){return Hn}function EO(e){Hn&&Hn.cleanups.push(e)}function AO(e,t){pn&&(zM(pn)[e]=t)}function zM(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function CO(e,t,n){n===void 0&&(n=!1);var r=pn;if(r){var i=r.$parent&&r.$parent._provided;if(i&&e in i)return i[e];if(arguments.length>1)return n&&At(t)?t.call(r):t}}var mw=yo(function(e){var t=e.charAt(0)==="&";e=t?e.slice(1):e;var n=e.charAt(0)==="~";e=n?e.slice(1):e;var r=e.charAt(0)==="!";return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}});function Zm(e,t){function n(){var r=n.fns;if(st(r))for(var i=r.slice(),a=0;a<i.length;a++)xa(i[a],null,arguments,t,"v-on handler");else return xa(r,null,arguments,t,"v-on handler")}return n.fns=e,n}function UM(e,t,n,r,i,a){var s,u,c,f;for(s in e)u=e[s],c=t[s],f=mw(s),Qe(u)||(Qe(c)?(Qe(u.fns)&&(u=e[s]=Zm(u,a)),Jt(f.once)&&(u=e[s]=i(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==c&&(c.fns=u,e[s]=c));for(s in t)Qe(e[s])&&(f=mw(s),r(f.name,t[s],f.capture))}function Ya(e,t,n){e instanceof Nr&&(e=e.data.hook||(e.data.hook={}));var r,i=e[t];function a(){n.apply(this,arguments),gs(r.fns,a)}Qe(i)?r=Zm([a]):Q(i.fns)&&Jt(i.merged)?(r=i,r.fns.push(a)):r=Zm([i,a]),r.merged=!0,e[t]=r}function PO(e,t,n){var r=t.options.props;if(!Qe(r)){var i={},a=e.attrs,s=e.props;if(Q(a)||Q(s))for(var u in r){var c=tf(u);gw(i,s,u,c,!0)||gw(i,a,u,c,!1)}return i}}function gw(e,t,n,r,i){if(Q(t)){if(rr(t,n))return e[n]=t[n],i||delete t[n],!0;if(rr(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function LO(e){for(var t=0;t<e.length;t++)if(st(e[t]))return Array.prototype.concat.apply([],e);return e}function G_(e){return ef(e)?[fu(e)]:st(e)?GM(e):void 0}function Sl(e){return Q(e)&&Q(e.text)&&zR(e.isComment)}function GM(e,t){var n=[],r,i,a,s;for(r=0;r<e.length;r++)i=e[r],!(Qe(i)||typeof i=="boolean")&&(a=n.length-1,s=n[a],st(i)?i.length>0&&(i=GM(i,"".concat(t||"","_").concat(r)),Sl(i[0])&&Sl(s)&&(n[a]=fu(s.text+i[0].text),i.shift()),n.push.apply(n,i)):ef(i)?Sl(s)?n[a]=fu(s.text+i):i!==""&&n.push(fu(i)):Sl(i)&&Sl(s)?n[a]=fu(s.text+i.text):(Jt(e._isVList)&&Q(i.tag)&&Qe(i.key)&&Q(t)&&(i.key="__vlist".concat(t,"_").concat(r,"__")),n.push(i)));return n}function RO(e,t){var n=null,r,i,a,s;if(st(e)||typeof e=="string")for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if(typeof e=="number")for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(qn(e))if(nf&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),c=u.next();!c.done;)n.push(t(c.value,n.length)),c=u.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=t(e[s],s,r);return Q(n)||(n=[]),n._isVList=!0,n}function OO(e,t,n,r){var i=this.$scopedSlots[e],a;i?(n=n||{},r&&(n=Wt(Wt({},r),n)),a=i(n)||(At(t)?t():t)):a=this.$slots[e]||(At(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},a):a}function IO(e){return od(this.$options,"filters",e)||MM}function _w(e,t){return st(e)?e.indexOf(t)===-1:e!==t}function DO(e,t,n,r,i){var a=ni.keyCodes[t]||n;return i&&r&&!ni.keyCodes[t]?_w(i,r):a?_w(a,e):r?tf(r)!==t:e===void 0}function NO(e,t,n,r,i){if(n&&qn(n)){st(n)&&(n=bM(n));var a=void 0,s=function(c){if(c==="class"||c==="style"||HR(c))a=e;else{var f=e.attrs&&e.attrs.type;a=r||ni.mustUseProp(t,f,c)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var h=ao(c),d=tf(c);if(!(h in a)&&!(d in a)&&(a[c]=n[c],i)){var v=e.on||(e.on={});v["update:".concat(c)]=function(m){n[c]=m}}};for(var u in n)s(u)}return e}function FO(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),HM(r,"__static__".concat(e),!1)),r}function BO(e,t,n){return HM(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function HM(e,t,n){if(st(e))for(var r=0;r<e.length;r++)e[r]&&typeof e[r]!="string"&&yw(e[r],"".concat(t,"_").concat(r),n);else yw(e,t,n)}function yw(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function zO(e,t){if(t&&sr(t)){var n=e.on=e.on?Wt({},e.on):{};for(var r in t){var i=n[r],a=t[r];n[r]=i?[].concat(i,a):a}}return e}function kM(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var a=e[i];st(a)?kM(a,t,n):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return r&&(t.$key=r),t}function UO(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];typeof r=="string"&&r&&(e[t[n]]=t[n+1])}return e}function GO(e,t){return typeof e=="string"?t+e:e}function WM(e){e._o=BO,e._n=tc,e._s=GR,e._l=RO,e._t=OO,e._q=so,e._i=SM,e._m=FO,e._f=IO,e._k=DO,e._b=NO,e._v=fu,e._e=Zs,e._u=kM,e._g=zO,e._d=UO,e._p=GO}function H_(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,(a.context===t||a.fnContext===t)&&s&&s.slot!=null){var u=s.slot,c=n[u]||(n[u]=[]);a.tag==="template"?c.push.apply(c,a.children||[]):c.push(a)}else(n.default||(n.default=[])).push(a)}for(var f in n)n[f].every(HO)&&delete n[f];return n}function HO(e){return e.isComment&&!e.asyncFactory||e.text===" "}function rc(e){return e.isComment&&e.asyncFactory}function jl(e,t,n,r){var i,a=Object.keys(n).length>0,s=t?!!t.$stable:!a,u=t&&t.$key;if(!t)i={};else{if(t._normalized)return t._normalized;if(s&&r&&r!==kn&&u===r.$key&&!a&&!r.$hasNormal)return r;i={};for(var c in t)t[c]&&c[0]!=="$"&&(i[c]=kO(e,n,c,t[c]))}for(var f in n)f in i||(i[f]=WO(n,f));return t&&Object.isExtensible(t)&&(t._normalized=i),hn(i,"$stable",s),hn(i,"$key",u),hn(i,"$hasNormal",a),i}function kO(e,t,n,r){var i=function(){var a=pn;os(e);var s=arguments.length?r.apply(null,arguments):r({});s=s&&typeof s=="object"&&!st(s)?[s]:G_(s);var u=s&&s[0];return os(a),s&&(!u||s.length===1&&u.isComment&&!rc(u))?void 0:s};return r.proxy&&Object.defineProperty(t,n,{get:i,enumerable:!0,configurable:!0}),i}function WO(e,t){return function(){return e[t]}}function VO(e){var t=e.$options,n=t.setup;if(n){var r=e._setupContext=VM(e);os(e),el();var i=xa(n,null,[e._props||z_({}),r],e,"setup");if(tl(),os(),At(i))t.render=i;else if(qn(i))if(e._setupState=i,i.__sfc){var s=e._setupProxy={};for(var a in i)a!=="__sfc"&&rd(s,i,a)}else for(var a in i)EM(a)||rd(e,i,a)}}function VM(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};hn(t,"_v_attr_proxy",!0),id(t,e.$attrs,kn,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var t=e._listenersProxy={};id(t,e.$listeners,kn,e,"$listeners")}return e._listenersProxy},get slots(){return jO(e)},emit:wM(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach(function(n){return rd(e,t,n)})}}}function id(e,t,n,r,i){var a=!1;for(var s in t)s in e?t[s]!==n[s]&&(a=!0):(a=!0,$O(e,s,r,i));for(var s in e)s in t||(a=!0,delete e[s]);return a}function $O(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}function jO(e){return e._slotsProxy||$M(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function $M(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function qO(){return k_().slots}function XO(){return k_().attrs}function YO(){return k_().listeners}function k_(){var e=pn;return e._setupContext||(e._setupContext=VM(e))}function ZO(e,t){var n=st(e)?e.reduce(function(a,s){return a[s]={},a},{}):e;for(var r in t){var i=n[r];i?st(i)||At(i)?n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(n[r]={default:t[r]})}return n}function JO(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=H_(t._renderChildren,r),e.$scopedSlots=n?jl(e.$parent,n.data.scopedSlots,e.$slots):kn,e._c=function(a,s,u,c){return ic(e,a,s,u,c,!1)},e.$createElement=function(a,s,u,c){return ic(e,a,s,u,c,!0)};var i=n&&n.data;ls(e,"$attrs",i&&i.attrs||kn,null,!0),ls(e,"$listeners",t._parentListeners||kn,null,!0)}var Jm=null;function KO(e){WM(e.prototype),e.prototype.$nextTick=function(t){return cp(t,this)},e.prototype._render=function(){var t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&t._isMounted&&(t.$scopedSlots=jl(t.$parent,i.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&$M(t._slotsProxy,t.$scopedSlots)),t.$vnode=i;var a;try{os(t),Jm=t,a=r.call(t._renderProxy,t.$createElement)}catch(s){oo(s,t,"render"),a=t._vnode}finally{Jm=null,os()}return st(a)&&a.length===1&&(a=a[0]),a instanceof Nr||(a=Zs()),a.parent=i,a}}function qv(e,t){return(e.__esModule||nf&&e[Symbol.toStringTag]==="Module")&&(e=e.default),qn(e)?t.extend(e):e}function QO(e,t,n,r,i){var a=Zs();return a.asyncFactory=e,a.asyncMeta={data:t,context:n,children:r,tag:i},a}function eI(e,t){if(Jt(e.error)&&Q(e.errorComp))return e.errorComp;if(Q(e.resolved))return e.resolved;var n=Jm;if(n&&Q(e.owners)&&e.owners.indexOf(n)===-1&&e.owners.push(n),Jt(e.loading)&&Q(e.loadingComp))return e.loadingComp;if(n&&!Q(e.owners)){var r=e.owners=[n],i=!0,a=null,s=null;n.$on("hook:destroyed",function(){return gs(r,n)});var u=function(d){for(var v=0,m=r.length;v<m;v++)r[v].$forceUpdate();d&&(r.length=0,a!==null&&(clearTimeout(a),a=null),s!==null&&(clearTimeout(s),s=null))},c=Qh(function(d){e.resolved=qv(d,t),i?r.length=0:u(!0)}),f=Qh(function(d){Q(e.errorComp)&&(e.error=!0,u(!0))}),h=e(c,f);return qn(h)&&($m(h)?Qe(e.resolved)&&h.then(c,f):$m(h.component)&&(h.component.then(c,f),Q(h.error)&&(e.errorComp=qv(h.error,t)),Q(h.loading)&&(e.loadingComp=qv(h.loading,t),h.delay===0?e.loading=!0:a=setTimeout(function(){a=null,Qe(e.resolved)&&Qe(e.error)&&(e.loading=!0,u(!1))},h.delay||200)),Q(h.timeout)&&(s=setTimeout(function(){s=null,Qe(e.resolved)&&f(null)},h.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function jM(e){if(st(e))for(var t=0;t<e.length;t++){var n=e[t];if(Q(n)&&(Q(n.componentOptions)||rc(n)))return n}}var tI=1,qM=2;function ic(e,t,n,r,i,a){return(st(n)||ef(n))&&(i=r,r=n,n=void 0),Jt(a)&&(i=qM),nI(e,t,n,r,i)}function nI(e,t,n,r,i){if(Q(n)&&Q(n.__ob__)||(Q(n)&&Q(n.is)&&(t=n.is),!t))return Zs();st(r)&&At(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===qM?r=G_(r):i===tI&&(r=LO(r));var a,s;if(typeof t=="string"){var u=void 0;s=e.$vnode&&e.$vnode.ns||ni.getTagNamespace(t),ni.isReservedTag(t)?a=new Nr(ni.parsePlatformTagName(t),n,r,void 0,void 0,e):(!n||!n.pre)&&Q(u=od(e.$options,"components",t))?a=Aw(u,n,e,r,t):a=new Nr(t,n,r,void 0,void 0,e)}else a=Aw(t,n,e,r);return st(a)?a:Q(a)?(Q(s)&&XM(a,s),Q(n)&&rI(n),a):Zs()}function XM(e,t,n){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,n=!0),Q(e.children))for(var r=0,i=e.children.length;r<i;r++){var a=e.children[r];Q(a.tag)&&(Qe(a.ns)||Jt(n)&&a.tag!=="svg")&&XM(a,t,n)}}function rI(e){qn(e.style)&&Au(e.style),qn(e.class)&&Au(e.class)}function iI(e,t,n){return ic(pn,e,t,n,2,!0)}function oo(e,t,n){el();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var s=i[a].call(r,e,t,n)===!1;if(s)return}catch(u){xw(u,r,"errorCaptured hook")}}xw(e,t,n)}finally{tl()}}function xa(e,t,n,r,i){var a;try{a=n?e.apply(t,n):e.call(t),a&&!a._isVue&&$m(a)&&!a._handled&&(a.catch(function(s){return oo(s,r,i+" (Promise/async)")}),a._handled=!0)}catch(s){oo(s,r,i)}return a}function xw(e,t,n){if(ni.errorHandler)try{return ni.errorHandler.call(null,e,t,n)}catch(r){r!==e&&ww(r)}ww(e)}function ww(e,t,n){if(_r&&typeof console<"u")console.error(e);else throw e}var Km=!1,Qm=[],eg=!1;function eh(){eg=!1;var e=Qm.slice(0);Qm.length=0;for(var t=0;t<e.length;t++)e[t]()}var Hl;if(typeof Promise<"u"&&wu(Promise)){var aI=Promise.resolve();Hl=function(){aI.then(eh),KR&&setTimeout(Xt)},Km=!0}else if(!Ku&&typeof MutationObserver<"u"&&(wu(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var th=1,sI=new MutationObserver(eh),bw=document.createTextNode(String(th));sI.observe(bw,{characterData:!0}),Hl=function(){th=(th+1)%2,bw.data=String(th)},Km=!0}else typeof setImmediate<"u"&&wu(setImmediate)?Hl=function(){setImmediate(eh)}:Hl=function(){setTimeout(eh,0)};function cp(e,t){var n;if(Qm.push(function(){if(e)try{e.call(t)}catch(r){oo(r,t,"nextTick")}else n&&n(t)}),eg||(eg=!0,Hl()),!e&&typeof Promise<"u")return new Promise(function(r){n=r})}function oI(e){e===void 0&&(e="$style");{if(!pn)return kn;var t=pn[e];return t||kn}}function uI(e){if(!!_r){var t=pn;!t||BM(function(){var n=t.$el,r=e(t,t._setupProxy);if(n&&n.nodeType===1){var i=n.style;for(var a in r)i.setProperty("--".concat(a),r[a])}})}}function lI(e){At(e)&&(e={loader:e});var t=e.loader,n=e.loadingComponent,r=e.errorComponent,i=e.delay,a=i===void 0?200:i,s=e.timeout;e.suspensible;var u=e.onError,c=null,f=0,h=function(){return f++,c=null,d()},d=function(){var v;return c||(v=c=t().catch(function(m){if(m=m instanceof Error?m:new Error(String(m)),u)return new Promise(function(_,g){var y=function(){return _(h())},w=function(){return g(m)};u(m,y,w,f+1)});throw m}).then(function(m){return v!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),m)}))};return function(){var v=d();return{component:v,delay:a,timeout:s,error:r,loading:n}}}function ui(e){return function(t,n){if(n===void 0&&(n=pn),!!n)return cI(n,e,t)}}function cI(e,t,n){var r=e.$options;r[t]=nS(r[t],n)}var fI=ui("beforeMount"),hI=ui("mounted"),dI=ui("beforeUpdate"),pI=ui("updated"),vI=ui("beforeDestroy"),mI=ui("destroyed"),gI=ui("activated"),_I=ui("deactivated"),yI=ui("serverPrefetch"),xI=ui("renderTracked"),wI=ui("renderTriggered"),bI=ui("errorCaptured");function MI(e,t){t===void 0&&(t=pn),bI(e,t)}var YM="2.7.14";function SI(e){return e}var Mw=new nc;function Au(e){return $h(e,Mw),Mw.clear(),e}function $h(e,t){var n,r,i=st(e);if(!(!i&&!qn(e)||e.__v_skip||Object.isFrozen(e)||e instanceof Nr)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(i)for(n=e.length;n--;)$h(e[n],t);else if(Fn(e))$h(e.value,t);else for(r=Object.keys(e),n=r.length;n--;)$h(e[r[n]],t)}}var TI=0,af=function(){function e(t,n,r,i,a){SO(this,Hn&&!Hn._vm?Hn:t?t._scope:void 0),(this.vm=t)&&a&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++TI,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new nc,this.newDepIds=new nc,this.expression="",At(n)?this.getter=n:(this.getter=ZR(n),this.getter||(this.getter=Xt)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){el(this);var t,n=this.vm;try{t=this.getter.call(n,n)}catch(r){if(this.user)oo(r,n,'getter for watcher "'.concat(this.expression,'"'));else throw r}finally{this.deep&&Au(t),tl(),this.cleanupDeps()}return t},e.prototype.addDep=function(t){var n=t.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(t),this.depIds.has(n)||t.addSub(this))},e.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():rg(this)},e.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||qn(t)||this.deep){var n=this.value;if(this.value=t,this.user){var r='callback for watcher "'.concat(this.expression,'"');xa(this.cb,this.vm,[t,n],this.vm,r)}else this.cb.call(this.vm,t,n)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&gs(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function EI(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ZM(e,t)}var ac;function AI(e,t){ac.$on(e,t)}function CI(e,t){ac.$off(e,t)}function PI(e,t){var n=ac;return function r(){var i=t.apply(null,arguments);i!==null&&n.$off(e,r)}}function ZM(e,t,n){ac=e,UM(t,n||{},AI,CI,PI,e),ac=void 0}function LI(e){var t=/^hook:/;e.prototype.$on=function(n,r){var i=this;if(st(n))for(var a=0,s=n.length;a<s;a++)i.$on(n[a],r);else(i._events[n]||(i._events[n]=[])).push(r),t.test(n)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(n,r){var i=this;function a(){i.$off(n,a),r.apply(i,arguments)}return a.fn=r,i.$on(n,a),i},e.prototype.$off=function(n,r){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(st(n)){for(var a=0,s=n.length;a<s;a++)i.$off(n[a],r);return i}var u=i._events[n];if(!u)return i;if(!r)return i._events[n]=null,i;for(var c,f=u.length;f--;)if(c=u[f],c===r||c.fn===r){u.splice(f,1);break}return i},e.prototype.$emit=function(n){var r=this,i=r._events[n];if(i){i=i.length>1?jm(i):i;for(var a=jm(arguments,1),s='event handler for "'.concat(n,'"'),u=0,c=i.length;u<c;u++)xa(i[u],r,a,r,s)}return r}}var Ks=null;function JM(e){var t=Ks;return Ks=e,function(){Ks=t}}function RI(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function OI(e){e.prototype._update=function(t,n){var r=this,i=r.$el,a=r._vnode,s=JM(r);r._vnode=t,a?r.$el=r.__patch__(a,t):r.$el=r.__patch__(r.$el,t,n,!1),s(),i&&(i.__vue__=null),r.$el&&(r.$el.__vue__=r);for(var u=r;u&&u.$vnode&&u.$parent&&u.$vnode===u.$parent._vnode;)u.$parent.$el=u.$el,u=u.$parent},e.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){yi(t,"beforeDestroy"),t._isBeingDestroyed=!0;var n=t.$parent;n&&!n._isBeingDestroyed&&!t.$options.abstract&&gs(n.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),yi(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function II(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Zs),yi(e,"beforeMount");var r;r=function(){e._update(e._render(),n)};var i={before:function(){e._isMounted&&!e._isDestroyed&&yi(e,"beforeUpdate")}};new af(e,r,Xt,i,!0),n=!1;var a=e._preWatchers;if(a)for(var s=0;s<a.length;s++)a[s].run();return e.$vnode==null&&(e._isMounted=!0,yi(e,"mounted")),e}function DI(e,t,n,r,i){var a=r.data.scopedSlots,s=e.$scopedSlots,u=!!(a&&!a.$stable||s!==kn&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),c=!!(i||e.$options._renderChildren||u),f=e.$vnode;e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i;var h=r.data.attrs||kn;e._attrsProxy&&id(e._attrsProxy,h,f.data&&f.data.attrs||kn,e,"$attrs")&&(c=!0),e.$attrs=h,n=n||kn;var d=e.$options._parentListeners;if(e._listenersProxy&&id(e._listenersProxy,n,d||kn,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,ZM(e,n,d),t&&e.$options.props){us(!1);for(var v=e._props,m=e.$options._propKeys||[],_=0;_<m.length;_++){var g=m[_],y=e.$options.props;v[g]=X_(g,y,t,e)}us(!0),e.$options.propsData=t}c&&(e.$slots=H_(i,r.context),e.$forceUpdate())}function KM(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function W_(e,t){if(t){if(e._directInactive=!1,KM(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(var n=0;n<e.$children.length;n++)W_(e.$children[n]);yi(e,"activated")}}function QM(e,t){if(!(t&&(e._directInactive=!0,KM(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)QM(e.$children[n]);yi(e,"deactivated")}}function yi(e,t,n,r){r===void 0&&(r=!0),el();var i=pn;r&&os(e);var a=e.$options[t],s="".concat(t," hook");if(a)for(var u=0,c=a.length;u<c;u++)xa(a[u],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),r&&os(i),tl()}var ga=[],V_=[],ad={},tg=!1,$_=!1,hu=0;function NI(){hu=ga.length=V_.length=0,ad={},tg=$_=!1}var eS=0,ng=Date.now;if(_r&&!Ku){var Xv=window.performance;Xv&&typeof Xv.now=="function"&&ng()>document.createEvent("Event").timeStamp&&(ng=function(){return Xv.now()})}var FI=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function BI(){eS=ng(),$_=!0;var e,t;for(ga.sort(FI),hu=0;hu<ga.length;hu++)e=ga[hu],e.before&&e.before(),t=e.id,ad[t]=null,e.run();var n=V_.slice(),r=ga.slice();NI(),GI(n),zI(r),tO(),ed&&ni.devtools&&ed.emit("flush")}function zI(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&yi(r,"updated")}}function UI(e){e._inactive=!1,V_.push(e)}function GI(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,W_(e[t],!0)}function rg(e){var t=e.id;if(ad[t]==null&&!(e===Ui.target&&e.noRecurse)){if(ad[t]=!0,!$_)ga.push(e);else{for(var n=ga.length-1;n>hu&&ga[n].id>e.id;)n--;ga.splice(n+1,0,e)}tg||(tg=!0,cp(BI))}}function HI(e){var t=e.$options.provide;if(t){var n=At(t)?t.call(e):t;if(!qn(n))return;for(var r=zM(e),i=nf?Reflect.ownKeys(n):Object.keys(n),a=0;a<i.length;a++){var s=i[a];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}function kI(e){var t=tS(e.$options.inject,e);t&&(us(!1),Object.keys(t).forEach(function(n){ls(e,n,t[n])}),us(!0))}function tS(e,t){if(e){for(var n=Object.create(null),r=nf?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var a=r[i];if(a!=="__ob__"){var s=e[a].from;if(s in t._provided)n[a]=t._provided[s];else if("default"in e[a]){var u=e[a].default;n[a]=At(u)?u.call(t):u}}}return n}}function j_(e,t,n,r,i){var a=this,s=i.options,u;rr(r,"_uid")?(u=Object.create(r),u._original=r):(u=r,r=r._original);var c=Jt(s._compiled),f=!c;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||kn,this.injections=tS(s.inject,r),this.slots=function(){return a.$slots||jl(r,e.scopedSlots,a.$slots=H_(n,r)),a.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return jl(r,e.scopedSlots,this.slots())}}),c&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=jl(r,e.scopedSlots,this.$slots)),s._scopeId?this._c=function(h,d,v,m){var _=ic(u,h,d,v,m,f);return _&&!st(_)&&(_.fnScopeId=s._scopeId,_.fnContext=r),_}:this._c=function(h,d,v,m){return ic(u,h,d,v,m,f)}}WM(j_.prototype);function WI(e,t,n,r,i){var a=e.options,s={},u=a.props;if(Q(u))for(var c in u)s[c]=X_(c,u,t||kn);else Q(n.attrs)&&Tw(s,n.attrs),Q(n.props)&&Tw(s,n.props);var f=new j_(n,s,i,r,e),h=a.render.call(null,f._c,f);if(h instanceof Nr)return Sw(h,n,f.parent,a);if(st(h)){for(var d=G_(h)||[],v=new Array(d.length),m=0;m<d.length;m++)v[m]=Sw(d[m],n,f.parent,a);return v}}function Sw(e,t,n,r,i){var a=Ym(e);return a.fnContext=n,a.fnOptions=r,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function Tw(e,t){for(var n in t)e[ao(n)]=t[n]}function sd(e){return e.name||e.__name||e._componentTag}var q_={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;q_.prepatch(n,n)}else{var r=e.componentInstance=VI(e,Ks);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;DI(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,yi(n,"mounted")),e.data.keepAlive&&(t._isMounted?UI(n):W_(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?QM(t,!0):t.$destroy())}},Ew=Object.keys(q_);function Aw(e,t,n,r,i){if(!Qe(e)){var a=n.$options._base;if(qn(e)&&(e=a.extend(e)),typeof e=="function"){var s;if(Qe(e.cid)&&(s=e,e=eI(s,a),e===void 0))return QO(s,t,n,r,i);t=t||{},Z_(e),Q(t.model)&&qI(e.options,t);var u=PO(t,e);if(Jt(e.options.functional))return WI(e,u,t,n,r);var c=t.on;if(t.on=t.nativeOn,Jt(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}$I(t);var h=sd(e.options)||i,d=new Nr("vue-component-".concat(e.cid).concat(h?"-".concat(h):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:u,listeners:c,tag:i,children:r},s);return d}}}function VI(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return Q(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function $I(e){for(var t=e.hook||(e.hook={}),n=0;n<Ew.length;n++){var r=Ew[n],i=t[r],a=q_[r];i!==a&&!(i&&i._merged)&&(t[r]=i?jI(a,i):a)}}function jI(e,t){var n=function(r,i){e(r,i),t(r,i)};return n._merged=!0,n}function qI(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),a=i[r],s=t.model.callback;Q(a)?(st(a)?a.indexOf(s)===-1:a!==s)&&(i[r]=[s].concat(a)):i[r]=s}var XI=Xt,Di=ni.optionMergeStrategies;function sc(e,t,n){if(n===void 0&&(n=!0),!t)return e;for(var r,i,a,s=nf?Reflect.ownKeys(t):Object.keys(t),u=0;u<s.length;u++)r=s[u],r!=="__ob__"&&(i=e[r],a=t[r],!n||!rr(e,r)?op(e,r,a):i!==a&&sr(i)&&sr(a)&&sc(i,a));return e}function Cw(e,t,n){return n?function(){var i=At(t)?t.call(n,n):t,a=At(e)?e.call(n,n):e;return i?sc(i,a):a}:t?e?function(){return sc(At(t)?t.call(this,this):t,At(e)?e.call(this,this):e)}:t:e}Di.data=function(e,t,n){return n?Cw(e,t,n):t&&typeof t!="function"?e:Cw(e,t)};function nS(e,t){var n=t?e?e.concat(t):st(t)?t:[t]:e;return n&&YI(n)}function YI(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}TM.forEach(function(e){Di[e]=nS});function ZI(e,t,n,r){var i=Object.create(e||null);return t?Wt(i,t):i}sp.forEach(function(e){Di[e+"s"]=ZI});Di.watch=function(e,t,n,r){if(e===Xm&&(e=void 0),t===Xm&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};Wt(i,e);for(var a in t){var s=i[a],u=t[a];s&&!st(s)&&(s=[s]),i[a]=s?s.concat(u):st(u)?u:[u]}return i};Di.props=Di.methods=Di.inject=Di.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return Wt(i,e),t&&Wt(i,t),i};Di.provide=function(e,t){return e?function(){var n=Object.create(null);return sc(n,At(e)?e.call(this):e),t&&sc(n,At(t)?t.call(this):t,!1),n}:t};var JI=function(e,t){return t===void 0?e:t};function KI(e,t){var n=e.props;if(!!n){var r={},i,a,s;if(st(n))for(i=n.length;i--;)a=n[i],typeof a=="string"&&(s=ao(a),r[s]={type:null});else if(sr(n))for(var u in n)a=n[u],s=ao(u),r[s]=sr(a)?a:{type:a};e.props=r}}function QI(e,t){var n=e.inject;if(!!n){var r=e.inject={};if(st(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(sr(n))for(var a in n){var s=n[a];r[a]=sr(s)?Wt({from:a},s):{from:s}}}}function eD(e){var t=e.directives;if(t)for(var n in t){var r=t[n];At(r)&&(t[n]={bind:r,update:r})}}function uo(e,t,n){if(At(t)&&(t=t.options),KI(t),QI(t),eD(t),!t._base&&(t.extends&&(e=uo(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=uo(e,t.mixins[r],n);var a={},s;for(s in e)u(s);for(s in t)rr(e,s)||u(s);function u(c){var f=Di[c]||JI;a[c]=f(e[c],t[c],n,c)}return a}function od(e,t,n,r){if(typeof n=="string"){var i=e[t];if(rr(i,n))return i[n];var a=ao(n);if(rr(i,a))return i[a];var s=VR(a);if(rr(i,s))return i[s];var u=i[n]||i[a]||i[s];return u}}function X_(e,t,n,r){var i=t[e],a=!rr(n,e),s=n[e],u=Lw(Boolean,i.type);if(u>-1){if(a&&!rr(i,"default"))s=!1;else if(s===""||s===tf(e)){var c=Lw(String,i.type);(c<0||u<c)&&(s=!0)}}if(s===void 0){s=tD(r,i,e);var f=F_;us(!0),ya(s),us(f)}return s}function tD(e,t,n){if(!!rr(t,"default")){var r=t.default;return e&&e.$options.propsData&&e.$options.propsData[n]===void 0&&e._props[n]!==void 0?e._props[n]:At(r)&&ig(t.type)!=="Function"?r.call(e):r}}var nD=/^\s*function (\w+)/;function ig(e){var t=e&&e.toString().match(nD);return t?t[1]:""}function Pw(e,t){return ig(e)===ig(t)}function Lw(e,t){if(!st(t))return Pw(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Pw(t[n],e))return n;return-1}var ja={enumerable:!0,configurable:!0,get:Xt,set:Xt};function Y_(e,t,n){ja.get=function(){return this[t][n]},ja.set=function(i){this[t][n]=i},Object.defineProperty(e,n,ja)}function rD(e){var t=e.$options;if(t.props&&iD(e,t.props),VO(e),t.methods&&lD(e,t.methods),t.data)aD(e);else{var n=ya(e._data={});n&&n.vmCount++}t.computed&&uD(e,t.computed),t.watch&&t.watch!==Xm&&cD(e,t.watch)}function iD(e,t){var n=e.$options.propsData||{},r=e._props=z_({}),i=e.$options._propKeys=[],a=!e.$parent;a||us(!1);var s=function(c){i.push(c);var f=X_(c,t,n,e);ls(r,c,f),c in e||Y_(e,"_props",c)};for(var u in t)s(u);us(!0)}function aD(e){var t=e.$options.data;t=e._data=At(t)?sD(t,e):t||{},sr(t)||(t={});var n=Object.keys(t),r=e.$options.props;e.$options.methods;for(var i=n.length;i--;){var a=n[i];r&&rr(r,a)||EM(a)||Y_(e,"_data",a)}var s=ya(t);s&&s.vmCount++}function sD(e,t){el();try{return e.call(t,t)}catch(n){return oo(n,t,"data()"),{}}finally{tl()}}var oD={lazy:!0};function uD(e,t){var n=e._computedWatchers=Object.create(null),r=_s();for(var i in t){var a=t[i],s=At(a)?a:a.get;r||(n[i]=new af(e,s||Xt,Xt,oD)),i in e||rS(e,i,a)}}function rS(e,t,n){var r=!_s();At(n)?(ja.get=r?Rw(t):Ow(n),ja.set=Xt):(ja.get=n.get?r&&n.cache!==!1?Rw(t):Ow(n.get):Xt,ja.set=n.set||Xt),Object.defineProperty(e,t,ja)}function Rw(e){return function(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),Ui.target&&n.depend(),n.value}}function Ow(e){return function(){return e.call(this,this)}}function lD(e,t){e.$options.props;for(var n in t)e[n]=typeof t[n]!="function"?Xt:wM(t[n],e)}function cD(e,t){for(var n in t){var r=t[n];if(st(r))for(var i=0;i<r.length;i++)ag(e,n,r[i]);else ag(e,n,r)}}function ag(e,t,n,r){return sr(n)&&(r=n,n=n.handler),typeof n=="string"&&(n=e[n]),e.$watch(t,n,r)}function fD(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=op,e.prototype.$delete=B_,e.prototype.$watch=function(r,i,a){var s=this;if(sr(i))return ag(s,r,i,a);a=a||{},a.user=!0;var u=new af(s,r,i,a);if(a.immediate){var c='callback for immediate watcher "'.concat(u.expression,'"');el(),xa(i,s,[u.value],s,c),tl()}return function(){u.teardown()}}}var hD=0;function dD(e){e.prototype._init=function(t){var n=this;n._uid=hD++,n._isVue=!0,n.__v_skip=!0,n._scope=new U_(!0),n._scope._vm=!0,t&&t._isComponent?pD(n,t):n.$options=uo(Z_(n.constructor),t||{},n),n._renderProxy=n,n._self=n,RI(n),EI(n),JO(n),yi(n,"beforeCreate",void 0,!1),kI(n),rD(n),HI(n),yi(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}function pD(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Z_(e){var t=e.options;if(e.super){var n=Z_(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=vD(e);i&&Wt(e.extendOptions,i),t=e.options=uo(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function vD(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function bt(e){this._init(e)}dD(bt);fD(bt);LI(bt);OI(bt);KO(bt);function mD(e){e.use=function(t){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(t)>-1)return this;var r=jm(arguments,1);return r.unshift(this),At(t.install)?t.install.apply(t,r):At(t)&&t.apply(null,r),n.push(t),this}}function gD(e){e.mixin=function(t){return this.options=uo(this.options,t),this}}function _D(e){e.cid=0;var t=1;e.extend=function(n){n=n||{};var r=this,i=r.cid,a=n._Ctor||(n._Ctor={});if(a[i])return a[i];var s=sd(n)||sd(r.options),u=function(f){this._init(f)};return u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.cid=t++,u.options=uo(r.options,n),u.super=r,u.options.props&&yD(u),u.options.computed&&xD(u),u.extend=r.extend,u.mixin=r.mixin,u.use=r.use,sp.forEach(function(c){u[c]=r[c]}),s&&(u.options.components[s]=u),u.superOptions=r.options,u.extendOptions=n,u.sealedOptions=Wt({},u.options),a[i]=u,u}}function yD(e){var t=e.options.props;for(var n in t)Y_(e.prototype,"_props",n)}function xD(e){var t=e.options.computed;for(var n in t)rS(e.prototype,n,t[n])}function wD(e){sp.forEach(function(t){e[t]=function(n,r){return r?(t==="component"&&sr(r)&&(r.name=r.name||n,r=this.options._base.extend(r)),t==="directive"&&At(r)&&(r={bind:r,update:r}),this.options[t+"s"][n]=r,r):this.options[t+"s"][n]}})}function Iw(e){return e&&(sd(e.Ctor.options)||e.tag)}function nh(e,t){return st(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:UR(e)?e.test(t):!1}function Dw(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var a in n){var s=n[a];if(s){var u=s.name;u&&!t(u)&&sg(n,a,r,i)}}}function sg(e,t,n,r){var i=e[t];i&&(!r||i.tag!==r.tag)&&i.componentInstance.$destroy(),e[t]=null,gs(n,t)}var Nw=[String,RegExp,Array],bD={name:"keep-alive",abstract:!0,props:{include:Nw,exclude:Nw,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,i=e.keyToCache;if(r){var a=r.tag,s=r.componentInstance,u=r.componentOptions;t[i]={name:Iw(u),tag:a,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&sg(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)sg(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",function(t){Dw(e,function(n){return nh(t,n)})}),this.$watch("exclude",function(t){Dw(e,function(n){return!nh(t,n)})})},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=jM(e),n=t&&t.componentOptions;if(n){var r=Iw(n),i=this,a=i.include,s=i.exclude;if(a&&(!r||!nh(a,r))||s&&r&&nh(s,r))return t;var u=this,c=u.cache,f=u.keys,h=t.key==null?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;c[h]?(t.componentInstance=c[h].componentInstance,gs(f,h),f.push(h)):(this.vnodeToCache=t,this.keyToCache=h),t.data.keepAlive=!0}return t||e&&e[0]}},MD={KeepAlive:bD};function SD(e){var t={};t.get=function(){return ni},Object.defineProperty(e,"config",t),e.util={warn:XI,extend:Wt,mergeOptions:uo,defineReactive:ls},e.set=op,e.delete=B_,e.nextTick=cp,e.observable=function(n){return ya(n),n},e.options=Object.create(null),sp.forEach(function(n){e.options[n+"s"]=Object.create(null)}),e.options._base=e,Wt(e.options.components,MD),mD(e),gD(e),_D(e),wD(e)}SD(bt);Object.defineProperty(bt.prototype,"$isServer",{get:_s});Object.defineProperty(bt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(bt,"FunctionalRenderContext",{value:j_});bt.version=YM;var TD=Mi("style,class"),ED=Mi("input,textarea,option,select,progress"),AD=function(e,t,n){return n==="value"&&ED(e)&&t!=="button"||n==="selected"&&e==="option"||n==="checked"&&e==="input"||n==="muted"&&e==="video"},iS=Mi("contenteditable,draggable,spellcheck"),CD=Mi("events,caret,typing,plaintext-only"),PD=function(e,t){return ud(t)||t==="false"?"false":e==="contenteditable"&&CD(t)?t:"true"},LD=Mi("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),og="http://www.w3.org/1999/xlink",J_=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"},aS=function(e){return J_(e)?e.slice(6,e.length):""},ud=function(e){return e==null||e===!1};function RD(e){for(var t=e.data,n=e,r=e;Q(r.componentInstance);)r=r.componentInstance._vnode,r&&r.data&&(t=Fw(r.data,t));for(;Q(n=n.parent);)n&&n.data&&(t=Fw(t,n.data));return OD(t.staticClass,t.class)}function Fw(e,t){return{staticClass:K_(e.staticClass,t.staticClass),class:Q(e.class)?[e.class,t.class]:t.class}}function OD(e,t){return Q(e)||Q(t)?K_(e,Q_(t)):""}function K_(e,t){return e?t?e+" "+t:e:t||""}function Q_(e){return Array.isArray(e)?ID(e):qn(e)?DD(e):typeof e=="string"?e:""}function ID(e){for(var t="",n,r=0,i=e.length;r<i;r++)Q(n=Q_(e[r]))&&n!==""&&(t&&(t+=" "),t+=n);return t}function DD(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ND={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},FD=Mi("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),e0=Mi("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),sS=function(e){return FD(e)||e0(e)};function BD(e){if(e0(e))return"svg";if(e==="math")return"math"}var rh=Object.create(null);function zD(e){if(!_r)return!0;if(sS(e))return!1;if(e=e.toLowerCase(),rh[e]!=null)return rh[e];var t=document.createElement(e);return e.indexOf("-")>-1?rh[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:rh[e]=/HTMLUnknownElement/.test(t.toString())}var ug=Mi("text,number,password,search,email,tel,url");function UD(e){if(typeof e=="string"){var t=document.querySelector(e);return t||document.createElement("div")}else return e}function GD(e,t){var n=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&n.setAttribute("multiple","multiple"),n}function HD(e,t){return document.createElementNS(ND[e],t)}function kD(e){return document.createTextNode(e)}function WD(e){return document.createComment(e)}function VD(e,t,n){e.insertBefore(t,n)}function $D(e,t){e.removeChild(t)}function jD(e,t){e.appendChild(t)}function qD(e){return e.parentNode}function XD(e){return e.nextSibling}function YD(e){return e.tagName}function ZD(e,t){e.textContent=t}function JD(e,t){e.setAttribute(t,"")}var KD=Object.freeze({__proto__:null,createElement:GD,createElementNS:HD,createTextNode:kD,createComment:WD,insertBefore:VD,removeChild:$D,appendChild:jD,parentNode:qD,nextSibling:XD,tagName:YD,setTextContent:ZD,setStyleScope:JD}),QD={create:function(e,t){du(t)},update:function(e,t){e.data.ref!==t.data.ref&&(du(e,!0),du(t))},destroy:function(e){du(e,!0)}};function du(e,t){var n=e.data.ref;if(!!Q(n)){var r=e.context,i=e.componentInstance||e.elm,a=t?null:i,s=t?void 0:i;if(At(n)){xa(n,r,[a],r,"template ref function");return}var u=e.data.refInFor,c=typeof n=="string"||typeof n=="number",f=Fn(n),h=r.$refs;if(c||f){if(u){var d=c?h[n]:n.value;t?st(d)&&gs(d,i):st(d)?d.includes(i)||d.push(i):c?(h[n]=[i],Bw(r,n,h[n])):n.value=[i]}else if(c){if(t&&h[n]!==i)return;h[n]=s,Bw(r,n,a)}else if(f){if(t&&n.value!==i)return;n.value=a}}}}function Bw(e,t,n){var r=e._setupState;r&&rr(r,t)&&(Fn(r[t])?r[t].value=n:r[t]=n)}var Za=new Nr("",{},[]),Tl=["create","activate","update","remove","destroy"];function Os(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&Q(e.data)===Q(t.data)&&eN(e,t)||Jt(e.isAsyncPlaceholder)&&Qe(t.asyncFactory.error))}function eN(e,t){if(e.tag!=="input")return!0;var n,r=Q(n=e.data)&&Q(n=n.attrs)&&n.type,i=Q(n=t.data)&&Q(n=n.attrs)&&n.type;return r===i||ug(r)&&ug(i)}function tN(e,t,n){var r,i,a={};for(r=t;r<=n;++r)i=e[r].key,Q(i)&&(a[i]=r);return a}function nN(e){var t,n,r={},i=e.modules,a=e.nodeOps;for(t=0;t<Tl.length;++t)for(r[Tl[t]]=[],n=0;n<i.length;++n)Q(i[n][Tl[t]])&&r[Tl[t]].push(i[n][Tl[t]]);function s(I){return new Nr(a.tagName(I).toLowerCase(),{},[],void 0,I)}function u(I,N){function z(){--z.listeners===0&&c(I)}return z.listeners=N,z}function c(I){var N=a.parentNode(I);Q(N)&&a.removeChild(N,I)}function f(I,N,z,W,Z,ee,J){if(Q(I.elm)&&Q(ee)&&(I=ee[J]=Ym(I)),I.isRootInsert=!Z,!h(I,N,z,W)){var te=I.data,ne=I.children,ue=I.tag;Q(ue)?(I.elm=I.ns?a.createElementNS(I.ns,ue):a.createElement(ue,I),w(I),_(I,ne,N),Q(te)&&y(I,N),m(z,I.elm,W)):Jt(I.isComment)?(I.elm=a.createComment(I.text),m(z,I.elm,W)):(I.elm=a.createTextNode(I.text),m(z,I.elm,W))}}function h(I,N,z,W){var Z=I.data;if(Q(Z)){var ee=Q(I.componentInstance)&&Z.keepAlive;if(Q(Z=Z.hook)&&Q(Z=Z.init)&&Z(I,!1),Q(I.componentInstance))return d(I,N),m(z,I.elm,W),Jt(ee)&&v(I,N,z,W),!0}}function d(I,N){Q(I.data.pendingInsert)&&(N.push.apply(N,I.data.pendingInsert),I.data.pendingInsert=null),I.elm=I.componentInstance.$el,g(I)?(y(I,N),w(I)):(du(I),N.push(I))}function v(I,N,z,W){for(var Z,ee=I;ee.componentInstance;)if(ee=ee.componentInstance._vnode,Q(Z=ee.data)&&Q(Z=Z.transition)){for(Z=0;Z<r.activate.length;++Z)r.activate[Z](Za,ee);N.push(ee);break}m(z,I.elm,W)}function m(I,N,z){Q(I)&&(Q(z)?a.parentNode(z)===I&&a.insertBefore(I,N,z):a.appendChild(I,N))}function _(I,N,z){if(st(N))for(var W=0;W<N.length;++W)f(N[W],z,I.elm,null,!0,N,W);else ef(I.text)&&a.appendChild(I.elm,a.createTextNode(String(I.text)))}function g(I){for(;I.componentInstance;)I=I.componentInstance._vnode;return Q(I.tag)}function y(I,N){for(var z=0;z<r.create.length;++z)r.create[z](Za,I);t=I.data.hook,Q(t)&&(Q(t.create)&&t.create(Za,I),Q(t.insert)&&N.push(I))}function w(I){var N;if(Q(N=I.fnScopeId))a.setStyleScope(I.elm,N);else for(var z=I;z;)Q(N=z.context)&&Q(N=N.$options._scopeId)&&a.setStyleScope(I.elm,N),z=z.parent;Q(N=Ks)&&N!==I.context&&N!==I.fnContext&&Q(N=N.$options._scopeId)&&a.setStyleScope(I.elm,N)}function M(I,N,z,W,Z,ee){for(;W<=Z;++W)f(z[W],ee,I,N,!1,z,W)}function E(I){var N,z,W=I.data;if(Q(W))for(Q(N=W.hook)&&Q(N=N.destroy)&&N(I),N=0;N<r.destroy.length;++N)r.destroy[N](I);if(Q(N=I.children))for(z=0;z<I.children.length;++z)E(I.children[z])}function S(I,N,z){for(;N<=z;++N){var W=I[N];Q(W)&&(Q(W.tag)?(b(W),E(W)):c(W.elm))}}function b(I,N){if(Q(N)||Q(I.data)){var z,W=r.remove.length+1;for(Q(N)?N.listeners+=W:N=u(I.elm,W),Q(z=I.componentInstance)&&Q(z=z._vnode)&&Q(z.data)&&b(z,N),z=0;z<r.remove.length;++z)r.remove[z](I,N);Q(z=I.data.hook)&&Q(z=z.remove)?z(I,N):N()}else c(I.elm)}function P(I,N,z,W,Z){for(var ee=0,J=0,te=N.length-1,ne=N[0],ue=N[te],_e=z.length-1,Fe=z[0],De=z[_e],Me,ae,ft,Ue,it=!Z;ee<=te&&J<=_e;)Qe(ne)?ne=N[++ee]:Qe(ue)?ue=N[--te]:Os(ne,Fe)?(L(ne,Fe,W,z,J),ne=N[++ee],Fe=z[++J]):Os(ue,De)?(L(ue,De,W,z,_e),ue=N[--te],De=z[--_e]):Os(ne,De)?(L(ne,De,W,z,_e),it&&a.insertBefore(I,ne.elm,a.nextSibling(ue.elm)),ne=N[++ee],De=z[--_e]):Os(ue,Fe)?(L(ue,Fe,W,z,J),it&&a.insertBefore(I,ue.elm,ne.elm),ue=N[--te],Fe=z[++J]):(Qe(Me)&&(Me=tN(N,ee,te)),ae=Q(Fe.key)?Me[Fe.key]:D(Fe,N,ee,te),Qe(ae)?f(Fe,W,I,ne.elm,!1,z,J):(ft=N[ae],Os(ft,Fe)?(L(ft,Fe,W,z,J),N[ae]=void 0,it&&a.insertBefore(I,ft.elm,ne.elm)):f(Fe,W,I,ne.elm,!1,z,J)),Fe=z[++J]);ee>te?(Ue=Qe(z[_e+1])?null:z[_e+1].elm,M(I,Ue,z,J,_e,W)):J>_e&&S(N,ee,te)}function D(I,N,z,W){for(var Z=z;Z<W;Z++){var ee=N[Z];if(Q(ee)&&Os(I,ee))return Z}}function L(I,N,z,W,Z,ee){if(I!==N){Q(N.elm)&&Q(W)&&(N=W[Z]=Ym(N));var J=N.elm=I.elm;if(Jt(I.isAsyncPlaceholder)){Q(N.asyncFactory.resolved)?q(I.elm,N,z):N.isAsyncPlaceholder=!0;return}if(Jt(N.isStatic)&&Jt(I.isStatic)&&N.key===I.key&&(Jt(N.isCloned)||Jt(N.isOnce))){N.componentInstance=I.componentInstance;return}var te,ne=N.data;Q(ne)&&Q(te=ne.hook)&&Q(te=te.prepatch)&&te(I,N);var ue=I.children,_e=N.children;if(Q(ne)&&g(N)){for(te=0;te<r.update.length;++te)r.update[te](I,N);Q(te=ne.hook)&&Q(te=te.update)&&te(I,N)}Qe(N.text)?Q(ue)&&Q(_e)?ue!==_e&&P(J,ue,_e,z,ee):Q(_e)?(Q(I.text)&&a.setTextContent(J,""),M(J,null,_e,0,_e.length-1,z)):Q(ue)?S(ue,0,ue.length-1):Q(I.text)&&a.setTextContent(J,""):I.text!==N.text&&a.setTextContent(J,N.text),Q(ne)&&Q(te=ne.hook)&&Q(te=te.postpatch)&&te(I,N)}}function F(I,N,z){if(Jt(z)&&Q(I.parent))I.parent.data.pendingInsert=N;else for(var W=0;W<N.length;++W)N[W].data.hook.insert(N[W])}var H=Mi("attrs,class,staticClass,staticStyle,key");function q(I,N,z,W){var Z,ee=N.tag,J=N.data,te=N.children;if(W=W||J&&J.pre,N.elm=I,Jt(N.isComment)&&Q(N.asyncFactory))return N.isAsyncPlaceholder=!0,!0;if(Q(J)&&(Q(Z=J.hook)&&Q(Z=Z.init)&&Z(N,!0),Q(Z=N.componentInstance)))return d(N,z),!0;if(Q(ee)){if(Q(te))if(!I.hasChildNodes())_(N,te,z);else if(Q(Z=J)&&Q(Z=Z.domProps)&&Q(Z=Z.innerHTML)){if(Z!==I.innerHTML)return!1}else{for(var ne=!0,ue=I.firstChild,_e=0;_e<te.length;_e++){if(!ue||!q(ue,te[_e],z,W)){ne=!1;break}ue=ue.nextSibling}if(!ne||ue)return!1}if(Q(J)){var Fe=!1;for(var De in J)if(!H(De)){Fe=!0,y(N,z);break}!Fe&&J.class&&Au(J.class)}}else I.data!==N.text&&(I.data=N.text);return!0}return function(N,z,W,Z){if(Qe(z)){Q(N)&&E(N);return}var ee=!1,J=[];if(Qe(N))ee=!0,f(z,J);else{var te=Q(N.nodeType);if(!te&&Os(N,z))L(N,z,J,null,null,Z);else{if(te){if(N.nodeType===1&&N.hasAttribute(uw)&&(N.removeAttribute(uw),W=!0),Jt(W)&&q(N,z,J))return F(z,J,!0),N;N=s(N)}var ne=N.elm,ue=a.parentNode(ne);if(f(z,J,ne._leaveCb?null:ue,a.nextSibling(ne)),Q(z.parent))for(var _e=z.parent,Fe=g(z);_e;){for(var De=0;De<r.destroy.length;++De)r.destroy[De](_e);if(_e.elm=z.elm,Fe){for(var Me=0;Me<r.create.length;++Me)r.create[Me](Za,_e);var ae=_e.data.hook.insert;if(ae.merged)for(var ft=1;ft<ae.fns.length;ft++)ae.fns[ft]()}else du(_e);_e=_e.parent}Q(ue)?S([N],0,0):Q(N.tag)&&E(N)}}return F(z,J,ee),z.elm}}var rN={create:Yv,update:Yv,destroy:function(t){Yv(t,Za)}};function Yv(e,t){(e.data.directives||t.data.directives)&&iN(e,t)}function iN(e,t){var n=e===Za,r=t===Za,i=zw(e.data.directives,e.context),a=zw(t.data.directives,t.context),s=[],u=[],c,f,h;for(c in a)f=i[c],h=a[c],f?(h.oldValue=f.value,h.oldArg=f.arg,El(h,"update",t,e),h.def&&h.def.componentUpdated&&u.push(h)):(El(h,"bind",t,e),h.def&&h.def.inserted&&s.push(h));if(s.length){var d=function(){for(var v=0;v<s.length;v++)El(s[v],"inserted",t,e)};n?Ya(t,"insert",d):d()}if(u.length&&Ya(t,"postpatch",function(){for(var v=0;v<u.length;v++)El(u[v],"componentUpdated",t,e)}),!n)for(c in i)a[c]||El(i[c],"unbind",e,e,r)}var aN=Object.create(null);function zw(e,t){var n=Object.create(null);if(!e)return n;var r,i;for(r=0;r<e.length;r++){if(i=e[r],i.modifiers||(i.modifiers=aN),n[sN(i)]=i,t._setupState&&t._setupState.__sfc){var a=i.def||od(t,"_setupState","v-"+i.name);typeof a=="function"?i.def={bind:a,update:a}:i.def=a}i.def=i.def||od(t.$options,"directives",i.name)}return n}function sN(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function El(e,t,n,r,i){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,r,i)}catch(s){oo(s,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var oN=[QD,rN];function Uw(e,t){var n=t.componentOptions;if(!(Q(n)&&n.Ctor.options.inheritAttrs===!1)&&!(Qe(e.data.attrs)&&Qe(t.data.attrs))){var r,i,a,s=t.elm,u=e.data.attrs||{},c=t.data.attrs||{};(Q(c.__ob__)||Jt(c._v_attr_proxy))&&(c=t.data.attrs=Wt({},c));for(r in c)i=c[r],a=u[r],a!==i&&Gw(s,r,i,t.data.pre);(Ku||N_)&&c.value!==u.value&&Gw(s,"value",c.value);for(r in u)Qe(c[r])&&(J_(r)?s.removeAttributeNS(og,aS(r)):iS(r)||s.removeAttribute(r))}}function Gw(e,t,n,r){r||e.tagName.indexOf("-")>-1?Hw(e,t,n):LD(t)?ud(n)?e.removeAttribute(t):(n=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,n)):iS(t)?e.setAttribute(t,PD(t,n)):J_(t)?ud(n)?e.removeAttributeNS(og,aS(t)):e.setAttributeNS(og,t,n):Hw(e,t,n)}function Hw(e,t,n){if(ud(n))e.removeAttribute(t);else{if(Ku&&!Qu&&e.tagName==="TEXTAREA"&&t==="placeholder"&&n!==""&&!e.__ieph){var r=function(i){i.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var uN={create:Uw,update:Uw};function kw(e,t){var n=t.elm,r=t.data,i=e.data;if(!(Qe(r.staticClass)&&Qe(r.class)&&(Qe(i)||Qe(i.staticClass)&&Qe(i.class)))){var a=RD(t),s=n._transitionClasses;Q(s)&&(a=K_(a,Q_(s))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var lN={create:kw,update:kw},Zv="__r",Jv="__c";function cN(e){if(Q(e[Zv])){var t=Ku?"change":"input";e[t]=[].concat(e[Zv],e[t]||[]),delete e[Zv]}Q(e[Jv])&&(e.change=[].concat(e[Jv],e.change||[]),delete e[Jv])}var oc;function fN(e,t,n){var r=oc;return function i(){var a=t.apply(null,arguments);a!==null&&oS(e,i,n,r)}}var hN=Km&&!(lw&&Number(lw[1])<=53);function dN(e,t,n,r){if(hN){var i=eS,a=t;t=a._wrapper=function(s){if(s.target===s.currentTarget||s.timeStamp>=i||s.timeStamp<=0||s.target.ownerDocument!==document)return a.apply(this,arguments)}}oc.addEventListener(e,t,AM?{capture:n,passive:r}:n)}function oS(e,t,n,r){(r||oc).removeEventListener(e,t._wrapper||t,n)}function Kv(e,t){if(!(Qe(e.data.on)&&Qe(t.data.on))){var n=t.data.on||{},r=e.data.on||{};oc=t.elm||e.elm,cN(n),UM(n,r,dN,oS,fN,t.context),oc=void 0}}var pN={create:Kv,update:Kv,destroy:function(e){return Kv(e,Za)}},ih;function Ww(e,t){if(!(Qe(e.data.domProps)&&Qe(t.data.domProps))){var n,r,i=t.elm,a=e.data.domProps||{},s=t.data.domProps||{};(Q(s.__ob__)||Jt(s._v_attr_proxy))&&(s=t.data.domProps=Wt({},s));for(n in a)n in s||(i[n]="");for(n in s){if(r=s[n],n==="textContent"||n==="innerHTML"){if(t.children&&(t.children.length=0),r===a[n])continue;i.childNodes.length===1&&i.removeChild(i.childNodes[0])}if(n==="value"&&i.tagName!=="PROGRESS"){i._value=r;var u=Qe(r)?"":String(r);vN(i,u)&&(i.value=u)}else if(n==="innerHTML"&&e0(i.tagName)&&Qe(i.innerHTML)){ih=ih||document.createElement("div"),ih.innerHTML="<svg>".concat(r,"</svg>");for(var c=ih.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}else if(r!==a[n])try{i[n]=r}catch(f){}}}}function vN(e,t){return!e.composing&&(e.tagName==="OPTION"||mN(e,t)||gN(e,t))}function mN(e,t){var n=!0;try{n=document.activeElement!==e}catch(r){}return n&&e.value!==t}function gN(e,t){var n=e.value,r=e._vModifiers;if(Q(r)){if(r.number)return tc(n)!==tc(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var _N={create:Ww,update:Ww},yN=yo(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(i){if(i){var a=i.split(r);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t});function Qv(e){var t=uS(e.style);return e.staticStyle?Wt(e.staticStyle,t):t}function uS(e){return Array.isArray(e)?bM(e):typeof e=="string"?yN(e):e}function xN(e,t){var n={},r;if(t)for(var i=e;i.componentInstance;)i=i.componentInstance._vnode,i&&i.data&&(r=Qv(i.data))&&Wt(n,r);(r=Qv(e.data))&&Wt(n,r);for(var a=e;a=a.parent;)a.data&&(r=Qv(a.data))&&Wt(n,r);return n}var wN=/^--/,Vw=/\s*!important$/,$w=function(e,t,n){if(wN.test(t))e.style.setProperty(t,n);else if(Vw.test(n))e.style.setProperty(tf(t),n.replace(Vw,""),"important");else{var r=bN(t);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)e.style[r]=n[i];else e.style[r]=n}},jw=["Webkit","Moz","ms"],ah,bN=yo(function(e){if(ah=ah||document.createElement("div").style,e=ao(e),e!=="filter"&&e in ah)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<jw.length;n++){var r=jw[n]+t;if(r in ah)return r}});function qw(e,t){var n=t.data,r=e.data;if(!(Qe(n.staticStyle)&&Qe(n.style)&&Qe(r.staticStyle)&&Qe(r.style))){var i,a,s=t.elm,u=r.staticStyle,c=r.normalizedStyle||r.style||{},f=u||c,h=uS(t.data.style)||{};t.data.normalizedStyle=Q(h.__ob__)?Wt({},h):h;var d=xN(t,!0);for(a in f)Qe(d[a])&&$w(s,a,"");for(a in d)i=d[a],i!==f[a]&&$w(s,a,i==null?"":i)}}var MN={create:qw,update:qw},lS=/\s+/;function cS(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(lS).forEach(function(r){return e.classList.add(r)}):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function fS(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(lS).forEach(function(i){return e.classList.remove(i)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function hS(e){if(!!e){if(typeof e=="object"){var t={};return e.css!==!1&&Wt(t,Xw(e.name||"v")),Wt(t,e),t}else if(typeof e=="string")return Xw(e)}}var Xw=yo(function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}}),dS=_r&&!Qu,uu="transition",em="animation",jh="transition",ld="transitionend",lg="animation",pS="animationend";dS&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(jh="WebkitTransition",ld="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(lg="WebkitAnimation",pS="webkitAnimationEnd"));var Yw=_r?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function vS(e){Yw(function(){Yw(e)})}function Qs(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),cS(e,t))}function _a(e,t){e._transitionClasses&&gs(e._transitionClasses,t),fS(e,t)}function mS(e,t,n){var r=gS(e,t),i=r.type,a=r.timeout,s=r.propCount;if(!i)return n();var u=i===uu?ld:pS,c=0,f=function(){e.removeEventListener(u,h),n()},h=function(d){d.target===e&&++c>=s&&f()};setTimeout(function(){c<s&&f()},a+1),e.addEventListener(u,h)}var SN=/\b(transform|all)(,|$)/;function gS(e,t){var n=window.getComputedStyle(e),r=(n[jh+"Delay"]||"").split(", "),i=(n[jh+"Duration"]||"").split(", "),a=Zw(r,i),s=(n[lg+"Delay"]||"").split(", "),u=(n[lg+"Duration"]||"").split(", "),c=Zw(s,u),f,h=0,d=0;t===uu?a>0&&(f=uu,h=a,d=i.length):t===em?c>0&&(f=em,h=c,d=u.length):(h=Math.max(a,c),f=h>0?a>c?uu:em:null,d=f?f===uu?i.length:u.length:0);var v=f===uu&&SN.test(n[jh+"Property"]);return{type:f,timeout:h,propCount:d,hasTransform:v}}function Zw(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(n,r){return Jw(n)+Jw(e[r])}))}function Jw(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function cg(e,t){var n=e.elm;Q(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=hS(e.data.transition);if(!Qe(r)&&!(Q(n._enterCb)||n.nodeType!==1)){for(var i=r.css,a=r.type,s=r.enterClass,u=r.enterToClass,c=r.enterActiveClass,f=r.appearClass,h=r.appearToClass,d=r.appearActiveClass,v=r.beforeEnter,m=r.enter,_=r.afterEnter,g=r.enterCancelled,y=r.beforeAppear,w=r.appear,M=r.afterAppear,E=r.appearCancelled,S=r.duration,b=Ks,P=Ks.$vnode;P&&P.parent;)b=P.context,P=P.parent;var D=!b._isMounted||!e.isRootInsert;if(!(D&&!w&&w!=="")){var L=D&&f?f:s,F=D&&d?d:c,H=D&&h?h:u,q=D&&y||v,I=D&&At(w)?w:m,N=D&&M||_,z=D&&E||g,W=tc(qn(S)?S.enter:S),Z=i!==!1&&!Qu,ee=t0(I),J=n._enterCb=Qh(function(){Z&&(_a(n,H),_a(n,F)),J.cancelled?(Z&&_a(n,L),z&&z(n)):N&&N(n),n._enterCb=null});e.data.show||Ya(e,"insert",function(){var te=n.parentNode,ne=te&&te._pending&&te._pending[e.key];ne&&ne.tag===e.tag&&ne.elm._leaveCb&&ne.elm._leaveCb(),I&&I(n,J)}),q&&q(n),Z&&(Qs(n,L),Qs(n,F),vS(function(){_a(n,L),J.cancelled||(Qs(n,H),ee||(yS(W)?setTimeout(J,W):mS(n,a,J)))})),e.data.show&&(t&&t(),I&&I(n,J)),!Z&&!ee&&J()}}}function _S(e,t){var n=e.elm;Q(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=hS(e.data.transition);if(Qe(r)||n.nodeType!==1)return t();if(Q(n._leaveCb))return;var i=r.css,a=r.type,s=r.leaveClass,u=r.leaveToClass,c=r.leaveActiveClass,f=r.beforeLeave,h=r.leave,d=r.afterLeave,v=r.leaveCancelled,m=r.delayLeave,_=r.duration,g=i!==!1&&!Qu,y=t0(h),w=tc(qn(_)?_.leave:_),M=n._leaveCb=Qh(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),g&&(_a(n,u),_a(n,c)),M.cancelled?(g&&_a(n,s),v&&v(n)):(t(),d&&d(n)),n._leaveCb=null});m?m(E):E();function E(){M.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),f&&f(n),g&&(Qs(n,s),Qs(n,c),vS(function(){_a(n,s),M.cancelled||(Qs(n,u),y||(yS(w)?setTimeout(M,w):mS(n,a,M)))})),h&&h(n,M),!g&&!y&&M())}}function yS(e){return typeof e=="number"&&!isNaN(e)}function t0(e){if(Qe(e))return!1;var t=e.fns;return Q(t)?t0(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Kw(e,t){t.data.show!==!0&&cg(t)}var TN=_r?{create:Kw,activate:Kw,remove:function(e,t){e.data.show!==!0?_S(e,t):t()}}:{},EN=[uN,lN,pN,_N,MN,TN],AN=EN.concat(oN),CN=nN({nodeOps:KD,modules:AN});Qu&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&n0(e,"input")});var xS={inserted:function(e,t,n,r){n.tag==="select"?(r.elm&&!r.elm._vOptions?Ya(n,"postpatch",function(){xS.componentUpdated(e,t,n)}):Qw(e,t,n.context),e._vOptions=[].map.call(e.options,cd)):(n.tag==="textarea"||ug(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",PN),e.addEventListener("compositionend",nb),e.addEventListener("change",nb),Qu&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if(n.tag==="select"){Qw(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,cd);if(i.some(function(s,u){return!so(s,r[u])})){var a=e.multiple?t.value.some(function(s){return tb(s,i)}):t.value!==t.oldValue&&tb(t.value,i);a&&n0(e,"change")}}}};function Qw(e,t,n){eb(e,t),(Ku||N_)&&setTimeout(function(){eb(e,t)},0)}function eb(e,t,n){var r=t.value,i=e.multiple;if(!(i&&!Array.isArray(r))){for(var a,s,u=0,c=e.options.length;u<c;u++)if(s=e.options[u],i)a=SM(r,cd(s))>-1,s.selected!==a&&(s.selected=a);else if(so(cd(s),r)){e.selectedIndex!==u&&(e.selectedIndex=u);return}i||(e.selectedIndex=-1)}}function tb(e,t){return t.every(function(n){return!so(n,e)})}function cd(e){return"_value"in e?e._value:e.value}function PN(e){e.target.composing=!0}function nb(e){!e.target.composing||(e.target.composing=!1,n0(e.target,"input"))}function n0(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function fg(e){return e.componentInstance&&(!e.data||!e.data.transition)?fg(e.componentInstance._vnode):e}var LN={bind:function(e,t,n){var r=t.value;n=fg(n);var i=n.data&&n.data.transition,a=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;r&&i?(n.data.show=!0,cg(n,function(){e.style.display=a})):e.style.display=r?a:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!=!i){n=fg(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,r?cg(n,function(){e.style.display=e.__vOriginalDisplay}):_S(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},RN={model:xS,show:LN},wS={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function hg(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?hg(jM(t.children)):e}function bS(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var r in i)t[ao(r)]=i[r];return t}function rb(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function ON(e){for(;e=e.parent;)if(e.data.transition)return!0}function IN(e,t){return t.key===e.key&&t.tag===e.tag}var DN=function(e){return e.tag||rc(e)},NN=function(e){return e.name==="show"},FN={name:"transition",props:wS,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(!!n&&(n=n.filter(DN),!!n.length)){var r=this.mode,i=n[0];if(ON(this.$vnode))return i;var a=hg(i);if(!a)return i;if(this._leaving)return rb(e,i);var s="__transition-".concat(this._uid,"-");a.key=a.key==null?a.isComment?s+"comment":s+a.tag:ef(a.key)?String(a.key).indexOf(s)===0?a.key:s+a.key:a.key;var u=(a.data||(a.data={})).transition=bS(this),c=this._vnode,f=hg(c);if(a.data.directives&&a.data.directives.some(NN)&&(a.data.show=!0),f&&f.data&&!IN(a,f)&&!rc(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var h=f.data.transition=Wt({},u);if(r==="out-in")return this._leaving=!0,Ya(h,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),rb(e,i);if(r==="in-out"){if(rc(a))return c;var d,v=function(){d()};Ya(u,"afterEnter",v),Ya(u,"enterCancelled",v),Ya(h,"delayLeave",function(m){d=m})}}return i}}},MS=Wt({tag:String,moveClass:String},wS);delete MS.mode;var BN={props:MS,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=JM(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],s=bS(this),u=0;u<i.length;u++){var c=i[u];c.tag&&c.key!=null&&String(c.key).indexOf("__vlist")!==0&&(a.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s)}if(r){for(var f=[],h=[],u=0;u<r.length;u++){var c=r[u];c.data.transition=s,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?f.push(c):h.push(c)}this.kept=e(t,null,f),this.removed=h}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";!e.length||!this.hasMove(e[0].elm,t)||(e.forEach(zN),e.forEach(UN),e.forEach(GN),this._reflow=document.body.offsetHeight,e.forEach(function(n){if(n.data.moved){var r=n.elm,i=r.style;Qs(r,t),i.transform=i.WebkitTransform=i.transitionDuration="",r.addEventListener(ld,r._moveCb=function a(s){s&&s.target!==r||(!s||/transform$/.test(s.propertyName))&&(r.removeEventListener(ld,a),r._moveCb=null,_a(r,t))})}}))},methods:{hasMove:function(e,t){if(!dS)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(i){fS(n,i)}),cS(n,t),n.style.display="none",this.$el.appendChild(n);var r=gS(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function zN(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function UN(e){e.data.newPos=e.elm.getBoundingClientRect()}function GN(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),a.transitionDuration="0s"}}var HN={Transition:FN,TransitionGroup:BN};bt.config.mustUseProp=AD;bt.config.isReservedTag=sS;bt.config.isReservedAttr=TD;bt.config.getTagNamespace=BD;bt.config.isUnknownElement=zD;Wt(bt.options.directives,RN);Wt(bt.options.components,HN);bt.prototype.__patch__=_r?CN:Xt;bt.prototype.$mount=function(e,t){return e=e&&_r?UD(e):void 0,II(this,e,t)};_r&&setTimeout(function(){ni.devtools&&ed&&ed.emit("init",bt)},0);const kN=Object.freeze(Object.defineProperty({__proto__:null,EffectScope:U_,computed:_O,customRef:hO,default:bt,defineAsyncComponent:lI,defineComponent:SI,del:B_,effectScope:MO,getCurrentInstance:QR,getCurrentScope:TO,h:iI,inject:CO,isProxy:aO,isReactive:Js,isReadonly:xo,isRef:Fn,isShallow:nd,markRaw:sO,mergeDefaults:ZO,nextTick:cp,onActivated:gI,onBeforeMount:fI,onBeforeUnmount:vI,onBeforeUpdate:dI,onDeactivated:_I,onErrorCaptured:MI,onMounted:hI,onRenderTracked:xI,onRenderTriggered:wI,onScopeDispose:EO,onServerPrefetch:yI,onUnmounted:mI,onUpdated:pI,provide:AO,proxyRefs:fO,reactive:iO,readonly:NM,ref:oO,set:op,shallowReactive:z_,shallowReadonly:gO,shallowRef:uO,toRaw:OM,toRef:DM,toRefs:dO,triggerRef:lO,unref:cO,useAttrs:XO,useCssModule:oI,useCssVars:uI,useListeners:YO,useSlots:qO,version:YM,watch:bO,watchEffect:xO,watchPostEffect:BM,watchSyncEffect:wO},Symbol.toStringTag,{value:"Module"}));function ha(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Dr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Cu={duration:.5,overwrite:!1,delay:0},r0,$n,nn,Qr=1e8,Ut=1/Qr,dg=Math.PI*2,WN=dg/4,VN=0,TS=Math.sqrt,$N=Math.cos,jN=Math.sin,An=function(t){return typeof t=="string"},an=function(t){return typeof t=="function"},wa=function(t){return typeof t=="number"},i0=function(t){return typeof t>"u"},Gi=function(t){return typeof t=="object"},pr=function(t){return t!==!1},a0=function(){return typeof window<"u"},sh=function(t){return an(t)||An(t)},ES=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},jn=Array.isArray,pg=/(?:-?\.?\d|\.)+/gi,AS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,pu=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,tm=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,CS=/[+-]=-?[.\d]+/,PS=/[^,'"\[\]\s]+/gi,qN=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Kt,Kr,vg,s0,Fr={},fd={},LS,RS=function(t){return(fd=lo(t,Fr))&&gr},o0=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},hd=function(t,n){return!n&&console.warn(t)},OS=function(t,n){return t&&(Fr[t]=n)&&fd&&(fd[t]=n)||Fr},uc=function(){return 0},XN={suppressEvents:!0,isStart:!0,kill:!1},qh={suppressEvents:!0,kill:!1},YN={suppressEvents:!0},u0={},ts=[],mg={},IS,Rr={},nm={},ib=30,Xh=[],l0="",c0=function(t){var n=t[0],r,i;if(Gi(n)||an(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(i=Xh.length;i--&&!Xh[i].targetTest(n););r=Xh[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new rT(t[i],r)))||t.splice(i,1);return t},eo=function(t){return t._gsap||c0(ei(t))[0]._gsap},DS=function(t,n,r){return(r=t[n])&&an(r)?t[n]():i0(r)&&t.getAttribute&&t.getAttribute(n)||r},vr=function(t,n){return(t=t.split(",")).forEach(n)||t},fn=function(t){return Math.round(t*1e5)/1e5||0},In=function(t){return Math.round(t*1e7)/1e7||0},bu=function(t,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return t=parseFloat(t),r==="+"?t+i:r==="-"?t-i:r==="*"?t*i:t/i},ZN=function(t,n){for(var r=n.length,i=0;t.indexOf(n[i])<0&&++i<r;);return i<r},dd=function(){var t=ts.length,n=ts.slice(0),r,i;for(mg={},ts.length=0,r=0;r<t;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},NS=function(t,n,r,i){ts.length&&!$n&&dd(),t.render(n,r,i||$n&&n<0&&(t._initted||t._startAt)),ts.length&&!$n&&dd()},FS=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(PS).length<2?n:An(t)?t.trim():t},BS=function(t){return t},ii=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},JN=function(t){return function(n,r){for(var i in r)i in n||i==="duration"&&t||i==="ease"||(n[i]=r[i])}},lo=function(t,n){for(var r in n)t[r]=n[r];return t},ab=function e(t,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(t[r]=Gi(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},pd=function(t,n){var r={},i;for(i in t)i in n||(r[i]=t[i]);return r},ql=function(t){var n=t.parent||Kt,r=t.keyframes?JN(jn(t.keyframes)):ii;if(pr(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},KN=function(t,n){for(var r=t.length,i=r===n.length;i&&r--&&t[r]===n[r];);return r<0},zS=function(t,n,r,i,a){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t[i],u;if(a)for(u=n[a];s&&s[a]>u;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[i]=n,n._prev=s,n.parent=n._dp=t,n},fp=function(t,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var a=n._prev,s=n._next;a?a._next=s:t[r]===n&&(t[r]=s),s?s._prev=a:t[i]===n&&(t[i]=a),n._next=n._prev=n.parent=null},cs=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},to=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},QN=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},gg=function(t,n,r,i){return t._startAt&&($n?t._startAt.revert(qh):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,i))},eF=function e(t){return!t||t._ts&&e(t.parent)},sb=function(t){return t._repeat?Pu(t._tTime,t=t.duration()+t._rDelay)*t:0},Pu=function(t,n){var r=Math.floor(t/=n);return t&&r===t?r-1:r},vd=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},hp=function(t){return t._end=In(t._start+(t._tDur/Math.abs(t._ts||t._rts||Ut)||0))},dp=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=In(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),hp(t),r._dirty||to(r,t)),t},US=function(t,n){var r;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(r=vd(t.rawTime(),n),(!n._dur||sf(0,n.totalDuration(),r)-n._tTime>Ut)&&n.render(r,!0)),to(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-Ut}},Oi=function(t,n,r,i){return n.parent&&cs(n),n._start=In((wa(r)?r:r||t!==Kt?Jr(t,r,n):t._time)+n._delay),n._end=In(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),zS(t,n,"_first","_last",t._sort?"_start":0),_g(n)||(t._recent=n),i||US(t,n),t._ts<0&&dp(t,t._tTime),t},GS=function(t,n){return(Fr.ScrollTrigger||o0("scrollTrigger",n))&&Fr.ScrollTrigger.create(n,t)},HS=function(t,n,r,i,a){if(h0(t,n,a),!t._initted)return 1;if(!r&&t._pt&&!$n&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&IS!==Ir.frame)return ts.push(t),t._lazy=[a,i],1},tF=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},_g=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},nF=function(t,n,r,i){var a=t.ratio,s=n<0||!n&&(!t._start&&tF(t)&&!(!t._initted&&_g(t))||(t._ts<0||t._dp._ts<0)&&!_g(t))?0:1,u=t._rDelay,c=0,f,h,d;if(u&&t._repeat&&(c=sf(0,t._tDur,n),h=Pu(c,u),t._yoyo&&h&1&&(s=1-s),h!==Pu(t._tTime,u)&&(a=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==a||$n||i||t._zTime===Ut||!n&&t._zTime){if(!t._initted&&HS(t,n,i,r,c))return;for(d=t._zTime,t._zTime=n||(r?Ut:0),r||(r=n&&!d),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=c,f=t._pt;f;)f.r(s,f.d),f=f._next;n<0&&gg(t,n,r,!0),t._onUpdate&&!r&&ti(t,"onUpdate"),c&&t._repeat&&!r&&t.parent&&ti(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===s&&(s&&cs(t,1),!r&&!$n&&(ti(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},rF=function(t,n,r){var i;if(r>n)for(i=t._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Lu=function(t,n,r,i){var a=t._repeat,s=In(n)||0,u=t._tTime/t._tDur;return u&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=a?a<0?1e10:In(s*(a+1)+t._rDelay*a):s,u>0&&!i&&dp(t,t._tTime=t._tDur*u),t.parent&&hp(t),r||to(t.parent,t),t},ob=function(t){return t instanceof hr?to(t):Lu(t,t._dur)},iF={_start:0,endTime:uc,totalDuration:uc},Jr=function e(t,n,r){var i=t.labels,a=t._recent||iF,s=t.duration()>=Qr?a.endTime(!1):t._dur,u,c,f;return An(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),f=n.substr(-1)==="%",u=n.indexOf("="),c==="<"||c===">"?(u>=0&&(n=n.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(f?(u<0?a:r).totalDuration()/100:1)):u<0?(n in i||(i[n]=s),i[n]):(c=parseFloat(n.charAt(u-1)+n.substr(u+1)),f&&r&&(c=c/100*(jn(r)?r[0]:r).totalDuration()),u>1?e(t,n.substr(0,u-1),r)+c:s+c)):n==null?s:+n},Xl=function(t,n,r){var i=wa(n[1]),a=(i?2:1)+(t<2?0:1),s=n[a],u,c;if(i&&(s.duration=n[1]),s.parent=r,t){for(u=s,c=r;c&&!("immediateRender"in u);)u=c.vars.defaults||{},c=pr(c.vars.inherit)&&c.parent;s.immediateRender=pr(u.immediateRender),t<2?s.runBackwards=1:s.startAt=n[a-1]}return new _n(n[0],s,n[a+1])},ys=function(t,n){return t||t===0?n(t):n},sf=function(t,n,r){return r<t?t:r>n?n:r},Wn=function(t,n){return!An(t)||!(n=qN.exec(t))?"":n[1]},aF=function(t,n,r){return ys(r,function(i){return sf(t,n,i)})},yg=[].slice,kS=function(t,n){return t&&Gi(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&Gi(t[0]))&&!t.nodeType&&t!==Kr},sF=function(t,n,r){return r===void 0&&(r=[]),t.forEach(function(i){var a;return An(i)&&!n||kS(i,1)?(a=r).push.apply(a,ei(i)):r.push(i)})||r},ei=function(t,n,r){return nn&&!n&&nn.selector?nn.selector(t):An(t)&&!r&&(vg||!Ru())?yg.call((n||s0).querySelectorAll(t),0):jn(t)?sF(t,r):kS(t)?yg.call(t,0):t?[t]:[]},xg=function(t){return t=ei(t)[0]||hd("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return ei(n,r.querySelectorAll?r:r===t?hd("Invalid scope")||s0.createElement("div"):t)}},WS=function(t){return t.sort(function(){return .5-Math.random()})},VS=function(t){if(an(t))return t;var n=Gi(t)?t:{each:t},r=no(n.ease),i=n.from||0,a=parseFloat(n.base)||0,s={},u=i>0&&i<1,c=isNaN(i)||u,f=n.axis,h=i,d=i;return An(i)?h=d={center:.5,edges:.5,end:1}[i]||0:!u&&c&&(h=i[0],d=i[1]),function(v,m,_){var g=(_||n).length,y=s[g],w,M,E,S,b,P,D,L,F;if(!y){if(F=n.grid==="auto"?0:(n.grid||[1,Qr])[1],!F){for(D=-Qr;D<(D=_[F++].getBoundingClientRect().left)&&F<g;);F--}for(y=s[g]=[],w=c?Math.min(F,g)*h-.5:i%F,M=F===Qr?0:c?g*d/F-.5:i/F|0,D=0,L=Qr,P=0;P<g;P++)E=P%F-w,S=M-(P/F|0),y[P]=b=f?Math.abs(f==="y"?S:E):TS(E*E+S*S),b>D&&(D=b),b<L&&(L=b);i==="random"&&WS(y),y.max=D-L,y.min=L,y.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(F>g?g-1:f?f==="y"?g/F:F:Math.max(F,g/F))||0)*(i==="edges"?-1:1),y.b=g<0?a-g:a,y.u=Wn(n.amount||n.each)||0,r=r&&g<0?eT(r):r}return g=(y[v]-y.min)/y.max||0,In(y.b+(r?r(g):g)*y.v)+y.u}},wg=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=In(Math.round(parseFloat(r)/t)*t*n);return(i-i%1)/n+(wa(r)?0:Wn(r))}},$S=function(t,n){var r=jn(t),i,a;return!r&&Gi(t)&&(i=r=t.radius||Qr,t.values?(t=ei(t.values),(a=!wa(t[0]))&&(i*=i)):t=wg(t.increment)),ys(n,r?an(t)?function(s){return a=t(s),Math.abs(a-s)<=i?a:s}:function(s){for(var u=parseFloat(a?s.x:s),c=parseFloat(a?s.y:0),f=Qr,h=0,d=t.length,v,m;d--;)a?(v=t[d].x-u,m=t[d].y-c,v=v*v+m*m):v=Math.abs(t[d]-u),v<f&&(f=v,h=d);return h=!i||f<=i?t[h]:s,a||h===s||wa(s)?h:h+Wn(s)}:wg(t))},jS=function(t,n,r,i){return ys(jn(t)?!n:r===!0?!!(r=0):!i,function(){return jn(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+r*.99))/r)*r*i)/i})},oF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduce(function(a,s){return s(a)},i)}},uF=function(t,n){return function(r){return t(parseFloat(r))+(n||Wn(r))}},lF=function(t,n,r){return XS(t,n,0,1,r)},qS=function(t,n,r){return ys(r,function(i){return t[~~n(i)]})},cF=function e(t,n,r){var i=n-t;return jn(t)?qS(t,e(0,t.length),n):ys(r,function(a){return(i+(a-t)%i)%i+t})},fF=function e(t,n,r){var i=n-t,a=i*2;return jn(t)?qS(t,e(0,t.length-1),n):ys(r,function(s){return s=(a+(s-t)%a)%a||0,t+(s>i?a-s:s)})},lc=function(t){for(var n=0,r="",i,a,s,u;~(i=t.indexOf("random(",n));)s=t.indexOf(")",i),u=t.charAt(i+7)==="[",a=t.substr(i+7,s-i-7).match(u?PS:pg),r+=t.substr(n,i-n)+jS(u?a:+a[0],u?0:+a[1],+a[2]||1e-5),n=s+1;return r+t.substr(n,t.length-n)},XS=function(t,n,r,i,a){var s=n-t,u=i-r;return ys(a,function(c){return r+((c-t)/s*u||0)})},hF=function e(t,n,r,i){var a=isNaN(t+n)?0:function(m){return(1-m)*t+m*n};if(!a){var s=An(t),u={},c,f,h,d,v;if(r===!0&&(i=1)&&(r=null),s)t={p:t},n={p:n};else if(jn(t)&&!jn(n)){for(h=[],d=t.length,v=d-2,f=1;f<d;f++)h.push(e(t[f-1],t[f]));d--,a=function(_){_*=d;var g=Math.min(v,~~_);return h[g](_-g)},r=n}else i||(t=lo(jn(t)?[]:{},t));if(!h){for(c in n)f0.call(u,t,c,"get",n[c]);a=function(_){return v0(_,u)||(s?t.p:t)}}}return ys(r,a)},ub=function(t,n,r){var i=t.labels,a=Qr,s,u,c;for(s in i)u=i[s]-n,u<0==!!r&&u&&a>(u=Math.abs(u))&&(c=s,a=u);return c},ti=function(t,n,r){var i=t.vars,a=i[n],s=nn,u=t._ctx,c,f,h;if(!!a)return c=i[n+"Params"],f=i.callbackScope||t,r&&ts.length&&dd(),u&&(nn=u),h=c?a.apply(f,c):a.call(f),nn=s,h},kl=function(t){return cs(t),t.scrollTrigger&&t.scrollTrigger.kill(!!$n),t.progress()<1&&ti(t,"onInterrupt"),t},vu,YS=[],ZS=function(t){if(a0()&&t){t=!t.name&&t.default||t;var n=t.name,r=an(t),i=n&&!r&&t.init?function(){this._props=[]}:t,a={init:uc,render:v0,add:f0,kill:CF,modifier:AF,rawVars:0},s={targetTest:0,get:0,getSetter:p0,aliases:{},register:0};if(Ru(),t!==i){if(Rr[n])return;ii(i,ii(pd(t,a),s)),lo(i.prototype,lo(a,pd(t,s))),Rr[i.prop=n]=i,t.targetTest&&(Xh.push(i),u0[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}OS(n,i),t.register&&t.register(gr,i,mr)}else t&&YS.push(t)},Bt=255,Wl={aqua:[0,Bt,Bt],lime:[0,Bt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Bt],navy:[0,0,128],white:[Bt,Bt,Bt],olive:[128,128,0],yellow:[Bt,Bt,0],orange:[Bt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Bt,0,0],pink:[Bt,192,203],cyan:[0,Bt,Bt],transparent:[Bt,Bt,Bt,0]},rm=function(t,n,r){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(r-n)*t*6:t<.5?r:t*3<2?n+(r-n)*(2/3-t)*6:n)*Bt+.5|0},JS=function(t,n,r){var i=t?wa(t)?[t>>16,t>>8&Bt,t&Bt]:0:Wl.black,a,s,u,c,f,h,d,v,m,_;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Wl[t])i=Wl[t];else if(t.charAt(0)==="#"){if(t.length<6&&(a=t.charAt(1),s=t.charAt(2),u=t.charAt(3),t="#"+a+a+s+s+u+u+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&Bt,i&Bt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&Bt,t&Bt]}else if(t.substr(0,3)==="hsl"){if(i=_=t.match(pg),!n)c=+i[0]%360/360,f=+i[1]/100,h=+i[2]/100,s=h<=.5?h*(f+1):h+f-h*f,a=h*2-s,i.length>3&&(i[3]*=1),i[0]=rm(c+1/3,a,s),i[1]=rm(c,a,s),i[2]=rm(c-1/3,a,s);else if(~t.indexOf("="))return i=t.match(AS),r&&i.length<4&&(i[3]=1),i}else i=t.match(pg)||Wl.transparent;i=i.map(Number)}return n&&!_&&(a=i[0]/Bt,s=i[1]/Bt,u=i[2]/Bt,d=Math.max(a,s,u),v=Math.min(a,s,u),h=(d+v)/2,d===v?c=f=0:(m=d-v,f=h>.5?m/(2-d-v):m/(d+v),c=d===a?(s-u)/m+(s<u?6:0):d===s?(u-a)/m+2:(a-s)/m+4,c*=60),i[0]=~~(c+.5),i[1]=~~(f*100+.5),i[2]=~~(h*100+.5)),r&&i.length<4&&(i[3]=1),i},KS=function(t){var n=[],r=[],i=-1;return t.split(ns).forEach(function(a){var s=a.match(pu)||[];n.push.apply(n,s),r.push(i+=s.length+1)}),n.c=r,n},lb=function(t,n,r){var i="",a=(t+i).match(ns),s=n?"hsla(":"rgba(",u=0,c,f,h,d;if(!a)return t;if(a=a.map(function(v){return(v=JS(v,n,1))&&s+(n?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),r&&(h=KS(t),c=r.c,c.join(i)!==h.c.join(i)))for(f=t.replace(ns,"1").split(pu),d=f.length-1;u<d;u++)i+=f[u]+(~c.indexOf(u)?a.shift()||s+"0,0,0,0)":(h.length?h:a.length?a:r).shift());if(!f)for(f=t.split(ns),d=f.length-1;u<d;u++)i+=f[u]+a[u];return i+f[d]},ns=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Wl)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),dF=/hsl[a]?\(/,QS=function(t){var n=t.join(" "),r;if(ns.lastIndex=0,ns.test(n))return r=dF.test(n),t[1]=lb(t[1],r),t[0]=lb(t[0],r,KS(t[1])),!0},cc,Ir=function(){var e=Date.now,t=500,n=33,r=e(),i=r,a=1e3/240,s=a,u=[],c,f,h,d,v,m,_=function g(y){var w=e()-i,M=y===!0,E,S,b,P;if(w>t&&(r+=w-n),i+=w,b=i-r,E=b-s,(E>0||M)&&(P=++d.frame,v=b-d.time*1e3,d.time=b=b/1e3,s+=E+(E>=a?4:a-E),S=1),M||(c=f(g)),S)for(m=0;m<u.length;m++)u[m](b,v,P,y)};return d={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(y){return v/(1e3/(y||60))},wake:function(){LS&&(!vg&&a0()&&(Kr=vg=window,s0=Kr.document||{},Fr.gsap=gr,(Kr.gsapVersions||(Kr.gsapVersions=[])).push(gr.version),RS(fd||Kr.GreenSockGlobals||!Kr.gsap&&Kr||{}),h=Kr.requestAnimationFrame,YS.forEach(ZS)),c&&d.sleep(),f=h||function(y){return setTimeout(y,s-d.time*1e3+1|0)},cc=1,_(2))},sleep:function(){(h?Kr.cancelAnimationFrame:clearTimeout)(c),cc=0,f=uc},lagSmoothing:function(y,w){t=y||1/0,n=Math.min(w||33,t)},fps:function(y){a=1e3/(y||240),s=d.time*1e3+a},add:function(y,w,M){var E=w?function(S,b,P,D){y(S,b,P,D),d.remove(E)}:y;return d.remove(y),u[M?"unshift":"push"](E),Ru(),E},remove:function(y,w){~(w=u.indexOf(y))&&u.splice(w,1)&&m>=w&&m--},_listeners:u},d}(),Ru=function(){return!cc&&Ir.wake()},wt={},pF=/^[\d.\-M][\d.\-,\s]/,vF=/["']/g,mF=function(t){for(var n={},r=t.substr(1,t.length-3).split(":"),i=r[0],a=1,s=r.length,u,c,f;a<s;a++)c=r[a],u=a!==s-1?c.lastIndexOf(","):c.length,f=c.substr(0,u),n[i]=isNaN(f)?f.replace(vF,"").trim():+f,i=c.substr(u+1).trim();return n},gF=function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n);return t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)},_F=function(t){var n=(t+"").split("("),r=wt[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[mF(n[1])]:gF(t).split(",").map(FS)):wt._CE&&pF.test(t)?wt._CE("",t):r},eT=function(t){return function(n){return 1-t(1-n)}},tT=function e(t,n){for(var r=t._first,i;r;)r instanceof hr?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},no=function(t,n){return t&&(an(t)?t:wt[t]||_F(t))||n},wo=function(t,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:i},s;return vr(t,function(u){wt[u]=Fr[u]=a,wt[s=u.toLowerCase()]=r;for(var c in a)wt[s+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=wt[u+"."+c]=a[c]}),a},nT=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},im=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),s=a/dg*(Math.asin(1/i)||0),u=function(h){return h===1?1:i*Math.pow(2,-10*h)*jN((h-s)*a)+1},c=t==="out"?u:t==="in"?function(f){return 1-u(1-f)}:nT(u);return a=dg/a,c.config=function(f,h){return e(t,f,h)},c},am=function e(t,n){n===void 0&&(n=1.70158);var r=function(s){return s?--s*s*((n+1)*s+n)+1:0},i=t==="out"?r:t==="in"?function(a){return 1-r(1-a)}:nT(r);return i.config=function(a){return e(t,a)},i};vr("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;wo(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});wt.Linear.easeNone=wt.none=wt.Linear.easeIn;wo("Elastic",im("in"),im("out"),im());(function(e,t){var n=1/t,r=2*n,i=2.5*n,a=function(u){return u<n?e*u*u:u<r?e*Math.pow(u-1.5/t,2)+.75:u<i?e*(u-=2.25/t)*u+.9375:e*Math.pow(u-2.625/t,2)+.984375};wo("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);wo("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});wo("Circ",function(e){return-(TS(1-e*e)-1)});wo("Sine",function(e){return e===1?1:-$N(e*WN)+1});wo("Back",am("in"),am("out"),am());wt.SteppedEase=wt.steps=Fr.SteppedEase={config:function(t,n){t===void 0&&(t=1);var r=1/t,i=t+(n?0:1),a=n?1:0,s=1-Ut;return function(u){return((i*sf(0,s,u)|0)+a)*r}}};Cu.ease=wt["quad.out"];vr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return l0+=e+","+e+"Params,"});var rT=function(t,n){this.id=VN++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:DS,this.set=n?n.getSetter:p0},fc=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Lu(this,+n.duration,1,1),this.data=n.data,nn&&(this._ctx=nn,nn.data.push(this)),cc||Ir.wake()}var t=e.prototype;return t.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,Lu(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if(Ru(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(dp(this,r),!a._dp||a.parent||US(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Oi(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ut||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),NS(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+sb(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+sb(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(r,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,i):this._repeat?Pu(this._tTime,a)+1:1},t.timeScale=function(r){if(!arguments.length)return this._rts===-Ut?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?vd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ut?0:this._rts,this.totalTime(sf(-Math.abs(this._delay),this._tDur,i),!0),hp(this),QN(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ru(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ut&&(this._tTime-=Ut)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Oi(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(pr(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?vd(i.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){r===void 0&&(r=YN);var i=$n;return $n=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),$n=i,this},t.globalTime=function(r){for(var i=this,a=arguments.length?r:i.rawTime();i;)a=i._start+a/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):a},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ob(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,ob(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(Jr(this,r),pr(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,pr(i))},t.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ut:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ut,this},t.isActive=function(){var r=this.parent||this._dp,i=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=i&&a<this.endTime(!0)-Ut)},t.eventCallback=function(r,i,a){var s=this.vars;return arguments.length>1?(i?(s[r]=i,a&&(s[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=i)):delete s[r],this):s[r]},t.then=function(r){var i=this;return new Promise(function(a){var s=an(r)?r:BS,u=function(){var f=i.then;i.then=null,an(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=f),a(s),i.then=f};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},t.kill=function(){kl(this)},e}();ii(fc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ut,_prom:0,_ps:!1,_rts:1});var hr=function(e){SS(t,e);function t(r,i){var a;return r===void 0&&(r={}),a=e.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=pr(r.sortChildren),Kt&&Oi(r.parent||Kt,ha(a),i),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&GS(ha(a),r.scrollTrigger),a}var n=t.prototype;return n.to=function(i,a,s){return Xl(0,arguments,this),this},n.from=function(i,a,s){return Xl(1,arguments,this),this},n.fromTo=function(i,a,s,u){return Xl(2,arguments,this),this},n.set=function(i,a,s){return a.duration=0,a.parent=this,ql(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new _n(i,a,Jr(this,s),1),this},n.call=function(i,a,s){return Oi(this,_n.delayedCall(0,i,a),s)},n.staggerTo=function(i,a,s,u,c,f,h){return s.duration=a,s.stagger=s.stagger||u,s.onComplete=f,s.onCompleteParams=h,s.parent=this,new _n(i,s,Jr(this,c)),this},n.staggerFrom=function(i,a,s,u,c,f,h){return s.runBackwards=1,ql(s).immediateRender=pr(s.immediateRender),this.staggerTo(i,a,s,u,c,f,h)},n.staggerFromTo=function(i,a,s,u,c,f,h,d){return u.startAt=s,ql(u).immediateRender=pr(u.immediateRender),this.staggerTo(i,a,u,c,f,h,d)},n.render=function(i,a,s){var u=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,h=i<=0?0:In(i),d=this._zTime<0!=i<0&&(this._initted||!f),v,m,_,g,y,w,M,E,S,b,P,D;if(this!==Kt&&h>c&&i>=0&&(h=c),h!==this._tTime||s||d){if(u!==this._time&&f&&(h+=this._time-u,i+=this._time-u),v=h,S=this._start,E=this._ts,w=!E,d&&(f||(u=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(P=this._yoyo,y=f+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,a,s);if(v=In(h%y),h===c?(g=this._repeat,v=f):(g=~~(h/y),g&&g===h/y&&(v=f,g--),v>f&&(v=f)),b=Pu(this._tTime,y),!u&&this._tTime&&b!==g&&this._tTime-b*y-this._dur<=0&&(b=g),P&&g&1&&(v=f-v,D=1),g!==b&&!this._lock){var L=P&&b&1,F=L===(P&&g&1);if(g<b&&(L=!L),u=L?0:h%f?f:h,this._lock=1,this.render(u||(D?0:In(g*y)),a,!f)._lock=0,this._tTime=h,!a&&this.parent&&ti(this,"onRepeat"),this.vars.repeatRefresh&&!D&&(this.invalidate()._lock=1),u&&u!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,F&&(this._lock=2,u=L?f:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!D&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;tT(this,D)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=rF(this,In(u),In(v)),M&&(h-=v-(v=M._start))),this._tTime=h,this._time=v,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&v&&!a&&!g&&(ti(this,"onStart"),this._tTime!==h))return this;if(v>=u&&i>=0)for(m=this._first;m;){if(_=m._next,(m._act||v>=m._start)&&m._ts&&M!==m){if(m.parent!==this)return this.render(i,a,s);if(m.render(m._ts>0?(v-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(v-m._start)*m._ts,a,s),v!==this._time||!this._ts&&!w){M=0,_&&(h+=this._zTime=-Ut);break}}m=_}else{m=this._last;for(var H=i<0?i:v;m;){if(_=m._prev,(m._act||H<=m._end)&&m._ts&&M!==m){if(m.parent!==this)return this.render(i,a,s);if(m.render(m._ts>0?(H-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(H-m._start)*m._ts,a,s||$n&&(m._initted||m._startAt)),v!==this._time||!this._ts&&!w){M=0,_&&(h+=this._zTime=H?-Ut:Ut);break}}m=_}}if(M&&!a&&(this.pause(),M.render(v>=u?0:-Ut)._zTime=v>=u?1:-1,this._ts))return this._start=S,hp(this),this.render(i,a,s);this._onUpdate&&!a&&ti(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&u)&&(S===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((i||!f)&&(h===c&&this._ts>0||!h&&this._ts<0)&&cs(this,1),!a&&!(i<0&&!u)&&(h||u||!c)&&(ti(this,h===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,a){var s=this;if(wa(a)||(a=Jr(this,a,i)),!(i instanceof fc)){if(jn(i))return i.forEach(function(u){return s.add(u,a)}),this;if(An(i))return this.addLabel(i,a);if(an(i))i=_n.delayedCall(0,i);else return this}return this!==i?Oi(this,i,a):this},n.getChildren=function(i,a,s,u){i===void 0&&(i=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),u===void 0&&(u=-Qr);for(var c=[],f=this._first;f;)f._start>=u&&(f instanceof _n?a&&c.push(f):(s&&c.push(f),i&&c.push.apply(c,f.getChildren(!0,a,s)))),f=f._next;return c},n.getById=function(i){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===i)return a[s]},n.remove=function(i){return An(i)?this.removeLabel(i):an(i)?this.killTweensOf(i):(fp(this,i),i===this._recent&&(this._recent=this._last),to(this))},n.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=In(Ir.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),e.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},n.addLabel=function(i,a){return this.labels[i]=Jr(this,a),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,a,s){var u=_n.delayedCall(0,a||uc,s);return u.data="isPause",this._hasPause=1,Oi(this,u,Jr(this,i))},n.removePause=function(i){var a=this._first;for(i=Jr(this,i);a;)a._start===i&&a.data==="isPause"&&cs(a),a=a._next},n.killTweensOf=function(i,a,s){for(var u=this.getTweensOf(i,s),c=u.length;c--;)Ja!==u[c]&&u[c].kill(i,a);return this},n.getTweensOf=function(i,a){for(var s=[],u=ei(i),c=this._first,f=wa(a),h;c;)c instanceof _n?ZN(c._targets,u)&&(f?(!Ja||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&s.push(c):(h=c.getTweensOf(u,a)).length&&s.push.apply(s,h),c=c._next;return s},n.tweenTo=function(i,a){a=a||{};var s=this,u=Jr(s,i),c=a,f=c.startAt,h=c.onStart,d=c.onStartParams,v=c.immediateRender,m,_=_n.to(s,ii({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:a.duration||Math.abs((u-(f&&"time"in f?f.time:s._time))/s.timeScale())||Ut,onStart:function(){if(s.pause(),!m){var y=a.duration||Math.abs((u-(f&&"time"in f?f.time:s._time))/s.timeScale());_._dur!==y&&Lu(_,y,0,1).render(_._time,!0,!0),m=1}h&&h.apply(_,d||[])}},a));return v?_.render(0):_},n.tweenFromTo=function(i,a,s){return this.tweenTo(a,ii({startAt:{time:Jr(this,i)}},s))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),ub(this,Jr(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),ub(this,Jr(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ut)},n.shiftChildren=function(i,a,s){s===void 0&&(s=0);for(var u=this._first,c=this.labels,f;u;)u._start>=s&&(u._start+=i,u._end+=i),u=u._next;if(a)for(f in c)c[f]>=s&&(c[f]+=i);return to(this)},n.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return e.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),to(this)},n.totalDuration=function(i){var a=0,s=this,u=s._last,c=Qr,f,h,d;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(d=s.parent;u;)f=u._prev,u._dirty&&u.totalDuration(),h=u._start,h>c&&s._sort&&u._ts&&!s._lock?(s._lock=1,Oi(s,u,h-u._delay,1)._lock=0):c=h,h<0&&u._ts&&(a-=h,(!d&&!s._dp||d&&d.smoothChildTiming)&&(s._start+=h/s._ts,s._time-=h,s._tTime-=h),s.shiftChildren(-h,!1,-1/0),c=0),u._end>a&&u._ts&&(a=u._end),u=f;Lu(s,s===Kt&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(i){if(Kt._ts&&(NS(Kt,vd(i,Kt)),IS=Ir.frame),Ir.frame>=ib){ib+=Dr.autoSleep||120;var a=Kt._first;if((!a||!a._ts)&&Dr.autoSleep&&Ir._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Ir.sleep()}}},t}(fc);ii(hr.prototype,{_lock:0,_hasPause:0,_forcing:0});var yF=function(t,n,r,i,a,s,u){var c=new mr(this._pt,t,n,0,1,lT,null,a),f=0,h=0,d,v,m,_,g,y,w,M;for(c.b=r,c.e=i,r+="",i+="",(w=~i.indexOf("random("))&&(i=lc(i)),s&&(M=[r,i],s(M,t,n),r=M[0],i=M[1]),v=r.match(tm)||[];d=tm.exec(i);)_=d[0],g=i.substring(f,d.index),m?m=(m+1)%5:g.substr(-5)==="rgba("&&(m=1),_!==v[h++]&&(y=parseFloat(v[h-1])||0,c._pt={_next:c._pt,p:g||h===1?g:",",s:y,c:_.charAt(1)==="="?bu(y,_)-y:parseFloat(_)-y,m:m&&m<4?Math.round:0},f=tm.lastIndex);return c.c=f<i.length?i.substring(f,i.length):"",c.fp=u,(CS.test(i)||w)&&(c.e=0),this._pt=c,c},f0=function(t,n,r,i,a,s,u,c,f,h){an(i)&&(i=i(a||0,t,s));var d=t[n],v=r!=="get"?r:an(d)?f?t[n.indexOf("set")||!an(t["get"+n.substr(3)])?n:"get"+n.substr(3)](f):t[n]():d,m=an(d)?f?SF:oT:d0,_;if(An(i)&&(~i.indexOf("random(")&&(i=lc(i)),i.charAt(1)==="="&&(_=bu(v,i)+(Wn(v)||0),(_||_===0)&&(i=_))),!h||v!==i||bg)return!isNaN(v*i)&&i!==""?(_=new mr(this._pt,t,n,+v||0,i-(v||0),typeof d=="boolean"?EF:uT,0,m),f&&(_.fp=f),u&&_.modifier(u,this,t),this._pt=_):(!d&&!(n in t)&&o0(n,i),yF.call(this,t,n,v,i,m,c||Dr.stringFilter,f))},xF=function(t,n,r,i,a){if(an(t)&&(t=Yl(t,a,n,r,i)),!Gi(t)||t.style&&t.nodeType||jn(t)||ES(t))return An(t)?Yl(t,a,n,r,i):t;var s={},u;for(u in t)s[u]=Yl(t[u],a,n,r,i);return s},iT=function(t,n,r,i,a,s){var u,c,f,h;if(Rr[t]&&(u=new Rr[t]).init(a,u.rawVars?n[t]:xF(n[t],i,a,s,r),r,i,s)!==!1&&(r._pt=c=new mr(r._pt,a,t,0,1,u.render,u,0,u.priority),r!==vu))for(f=r._ptLookup[r._targets.indexOf(a)],h=u._props.length;h--;)f[u._props[h]]=c;return u},Ja,bg,h0=function e(t,n,r){var i=t.vars,a=i.ease,s=i.startAt,u=i.immediateRender,c=i.lazy,f=i.onUpdate,h=i.onUpdateParams,d=i.callbackScope,v=i.runBackwards,m=i.yoyoEase,_=i.keyframes,g=i.autoRevert,y=t._dur,w=t._startAt,M=t._targets,E=t.parent,S=E&&E.data==="nested"?E.vars.targets:M,b=t._overwrite==="auto"&&!r0,P=t.timeline,D,L,F,H,q,I,N,z,W,Z,ee,J,te;if(P&&(!_||!a)&&(a="none"),t._ease=no(a,Cu.ease),t._yEase=m?eT(no(m===!0?a:m,Cu.ease)):0,m&&t._yoyo&&!t._repeat&&(m=t._yEase,t._yEase=t._ease,t._ease=m),t._from=!P&&!!i.runBackwards,!P||_&&!i.stagger){if(z=M[0]?eo(M[0]).harness:0,J=z&&i[z.prop],D=pd(i,u0),w&&(w._zTime<0&&w.progress(1),n<0&&v&&u&&!g?w.render(-1,!0):w.revert(v&&y?qh:XN),w._lazy=0),s){if(cs(t._startAt=_n.set(M,ii({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!w&&pr(c),startAt:null,delay:0,onUpdate:f,onUpdateParams:h,callbackScope:d,stagger:0},s))),t._startAt._dp=0,t._startAt._sat=t,n<0&&($n||!u&&!g)&&t._startAt.revert(qh),u&&y&&n<=0&&r<=0){n&&(t._zTime=n);return}}else if(v&&y&&!w){if(n&&(u=!1),F=ii({overwrite:!1,data:"isFromStart",lazy:u&&!w&&pr(c),immediateRender:u,stagger:0,parent:E},D),J&&(F[z.prop]=J),cs(t._startAt=_n.set(M,F)),t._startAt._dp=0,t._startAt._sat=t,n<0&&($n?t._startAt.revert(qh):t._startAt.render(-1,!0)),t._zTime=n,!u)e(t._startAt,Ut,Ut);else if(!n)return}for(t._pt=t._ptCache=0,c=y&&pr(c)||c&&!y,L=0;L<M.length;L++){if(q=M[L],N=q._gsap||c0(M)[L]._gsap,t._ptLookup[L]=Z={},mg[N.id]&&ts.length&&dd(),ee=S===M?L:S.indexOf(q),z&&(W=new z).init(q,J||D,t,ee,S)!==!1&&(t._pt=H=new mr(t._pt,q,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function(ne){Z[ne]=H}),W.priority&&(I=1)),!z||J)for(F in D)Rr[F]&&(W=iT(F,D,t,ee,q,S))?W.priority&&(I=1):Z[F]=H=f0.call(t,q,F,"get",D[F],ee,S,0,i.stringFilter);t._op&&t._op[L]&&t.kill(q,t._op[L]),b&&t._pt&&(Ja=t,Kt.killTweensOf(q,Z,t.globalTime(n)),te=!t.parent,Ja=0),t._pt&&c&&(mg[N.id]=1)}I&&cT(t),t._onInit&&t._onInit(t)}t._onUpdate=f,t._initted=(!t._op||t._pt)&&!te,_&&n<=0&&P.render(Qr,!0,!0)},wF=function(t,n,r,i,a,s,u){var c=(t._pt&&t._ptCache||(t._ptCache={}))[n],f,h,d,v;if(!c)for(c=t._ptCache[n]=[],d=t._ptLookup,v=t._targets.length;v--;){if(f=d[v][n],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return bg=1,t.vars[n]="+=0",h0(t,u),bg=0,1;c.push(f)}for(v=c.length;v--;)h=c[v],f=h._pt||h,f.s=(i||i===0)&&!a?i:f.s+(i||0)+s*f.c,f.c=r-f.s,h.e&&(h.e=fn(r)+Wn(h.e)),h.b&&(h.b=f.s+Wn(h.b))},bF=function(t,n){var r=t[0]?eo(t[0]).harness:0,i=r&&r.aliases,a,s,u,c;if(!i)return n;a=lo({},n);for(s in i)if(s in a)for(c=i[s].split(","),u=c.length;u--;)a[c[u]]=a[s];return a},MF=function(t,n,r,i){var a=n.ease||i||"power1.inOut",s,u;if(jn(n))u=r[t]||(r[t]=[]),n.forEach(function(c,f){return u.push({t:f/(n.length-1)*100,v:c,e:a})});else for(s in n)u=r[s]||(r[s]=[]),s==="ease"||u.push({t:parseFloat(t),v:n[s],e:a})},Yl=function(t,n,r,i,a){return an(t)?t.call(n,r,i,a):An(t)&&~t.indexOf("random(")?lc(t):t},aT=l0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",sT={};vr(aT+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return sT[e]=1});var _n=function(e){SS(t,e);function t(r,i,a,s){var u;typeof i=="number"&&(a.duration=i,i=a,a=null),u=e.call(this,s?i:ql(i))||this;var c=u.vars,f=c.duration,h=c.delay,d=c.immediateRender,v=c.stagger,m=c.overwrite,_=c.keyframes,g=c.defaults,y=c.scrollTrigger,w=c.yoyoEase,M=i.parent||Kt,E=(jn(r)||ES(r)?wa(r[0]):"length"in i)?[r]:ei(r),S,b,P,D,L,F,H,q;if(u._targets=E.length?c0(E):hd("GSAP target "+r+" not found. https://greensock.com",!Dr.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=m,_||v||sh(f)||sh(h)){if(i=u.vars,S=u.timeline=new hr({data:"nested",defaults:g||{},targets:M&&M.data==="nested"?M.vars.targets:E}),S.kill(),S.parent=S._dp=ha(u),S._start=0,v||sh(f)||sh(h)){if(D=E.length,H=v&&VS(v),Gi(v))for(L in v)~aT.indexOf(L)&&(q||(q={}),q[L]=v[L]);for(b=0;b<D;b++)P=pd(i,sT),P.stagger=0,w&&(P.yoyoEase=w),q&&lo(P,q),F=E[b],P.duration=+Yl(f,ha(u),b,F,E),P.delay=(+Yl(h,ha(u),b,F,E)||0)-u._delay,!v&&D===1&&P.delay&&(u._delay=h=P.delay,u._start+=h,P.delay=0),S.to(F,P,H?H(b,F,E):0),S._ease=wt.none;S.duration()?f=h=0:u.timeline=0}else if(_){ql(ii(S.vars.defaults,{ease:"none"})),S._ease=no(_.ease||i.ease||"none");var I=0,N,z,W;if(jn(_))_.forEach(function(Z){return S.to(E,Z,">")}),S.duration();else{P={};for(L in _)L==="ease"||L==="easeEach"||MF(L,_[L],P,_.easeEach);for(L in P)for(N=P[L].sort(function(Z,ee){return Z.t-ee.t}),I=0,b=0;b<N.length;b++)z=N[b],W={ease:z.e,duration:(z.t-(b?N[b-1].t:0))/100*f},W[L]=z.v,S.to(E,W,I),I+=W.duration;S.duration()<f&&S.to({},{duration:f-S.duration()})}}f||u.duration(f=S.duration())}else u.timeline=0;return m===!0&&!r0&&(Ja=ha(u),Kt.killTweensOf(E),Ja=0),Oi(M,ha(u),a),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(d||!f&&!_&&u._start===In(M._time)&&pr(d)&&eF(ha(u))&&M.data!=="nested")&&(u._tTime=-Ut,u.render(Math.max(0,-h)||0)),y&&GS(ha(u),y),u}var n=t.prototype;return n.render=function(i,a,s){var u=this._time,c=this._tDur,f=this._dur,h=i<0,d=i>c-Ut&&!h?c:i<Ut?0:i,v,m,_,g,y,w,M,E,S;if(!f)nF(this,i,a,s);else if(d!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(v=d,E=this.timeline,this._repeat){if(g=f+this._rDelay,this._repeat<-1&&h)return this.totalTime(g*100+i,a,s);if(v=In(d%g),d===c?(_=this._repeat,v=f):(_=~~(d/g),_&&_===d/g&&(v=f,_--),v>f&&(v=f)),w=this._yoyo&&_&1,w&&(S=this._yEase,v=f-v),y=Pu(this._tTime,g),v===u&&!s&&this._initted)return this._tTime=d,this;_!==y&&(E&&this._yEase&&tT(E,w),this.vars.repeatRefresh&&!w&&!this._lock&&(this._lock=s=1,this.render(In(g*_),!0).invalidate()._lock=0))}if(!this._initted){if(HS(this,h?i:v,s,a,d))return this._tTime=0,this;if(u!==this._time)return this;if(f!==this._dur)return this.render(i,a,s)}if(this._tTime=d,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(S||this._ease)(v/f),this._from&&(this.ratio=M=1-M),v&&!u&&!a&&!_&&(ti(this,"onStart"),this._tTime!==d))return this;for(m=this._pt;m;)m.r(M,m.d),m=m._next;E&&E.render(i<0?i:!v&&w?-Ut:E._dur*E._ease(v/this._dur),a,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(h&&gg(this,i,a,s),ti(this,"onUpdate")),this._repeat&&_!==y&&this.vars.onRepeat&&!a&&this.parent&&ti(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(h&&!this._onUpdate&&gg(this,i,!0,!0),(i||!f)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&cs(this,1),!a&&!(h&&!u)&&(d||u||w)&&(ti(this,d===c?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),e.prototype.invalidate.call(this,i)},n.resetTo=function(i,a,s,u){cc||Ir.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||h0(this,c),f=this._ease(c/this._dur),wF(this,i,a,s,u,f,c)?this.resetTo(i,a,s,u):(dp(this,0),this.parent||zS(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?kl(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,Ja&&Ja.vars.overwrite!==!0)._first||kl(this),this.parent&&s!==this.timeline.totalDuration()&&Lu(this,this._dur*this.timeline._tDur/s,0,1),this}var u=this._targets,c=i?ei(i):u,f=this._ptLookup,h=this._pt,d,v,m,_,g,y,w;if((!a||a==="all")&&KN(u,c))return a==="all"&&(this._pt=0),kl(this);for(d=this._op=this._op||[],a!=="all"&&(An(a)&&(g={},vr(a,function(M){return g[M]=1}),a=g),a=bF(u,a)),w=u.length;w--;)if(~c.indexOf(u[w])){v=f[w],a==="all"?(d[w]=a,_=v,m={}):(m=d[w]=d[w]||{},_=a);for(g in _)y=v&&v[g],y&&((!("kill"in y.d)||y.d.kill(g)===!0)&&fp(this,y,"_pt"),delete v[g]),m!=="all"&&(m[g]=1)}return this._initted&&!this._pt&&h&&kl(this),this},t.to=function(i,a){return new t(i,a,arguments[2])},t.from=function(i,a){return Xl(1,arguments)},t.delayedCall=function(i,a,s,u){return new t(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:u})},t.fromTo=function(i,a,s){return Xl(2,arguments)},t.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new t(i,a)},t.killTweensOf=function(i,a,s){return Kt.killTweensOf(i,a,s)},t}(fc);ii(_n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});vr("staggerTo,staggerFrom,staggerFromTo",function(e){_n[e]=function(){var t=new hr,n=yg.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var d0=function(t,n,r){return t[n]=r},oT=function(t,n,r){return t[n](r)},SF=function(t,n,r,i){return t[n](i.fp,r)},TF=function(t,n,r){return t.setAttribute(n,r)},p0=function(t,n){return an(t[n])?oT:i0(t[n])&&t.setAttribute?TF:d0},uT=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},EF=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},lT=function(t,n){var r=n._pt,i="";if(!t&&n.b)i=n.b;else if(t===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round((r.s+r.c*t)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},v0=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},AF=function(t,n,r,i){for(var a=this._pt,s;a;)s=a._next,a.p===i&&a.modifier(t,n,r),a=s},CF=function(t){for(var n=this._pt,r,i;n;)i=n._next,n.p===t&&!n.op||n.op===t?fp(this,n,"_pt"):n.dep||(r=1),n=i;return!r},PF=function(t,n,r,i){i.mSet(t,n,i.m.call(i.tween,r,i.mt),i)},cT=function(t){for(var n=t._pt,r,i,a,s;n;){for(r=n._next,i=a;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:s)?n._prev._next=n:a=n,(n._next=i)?i._prev=n:s=n,n=r}t._pt=a},mr=function(){function e(n,r,i,a,s,u,c,f,h){this.t=r,this.s=a,this.c=s,this.p=i,this.r=u||uT,this.d=c||this,this.set=f||d0,this.pr=h||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(r,i,a){this.mSet=this.mSet||this.set,this.set=PF,this.m=r,this.mt=a,this.tween=i},e}();vr(l0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return u0[e]=1});Fr.TweenMax=Fr.TweenLite=_n;Fr.TimelineLite=Fr.TimelineMax=hr;Kt=new hr({sortChildren:!1,defaults:Cu,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Dr.stringFilter=QS;var ro=[],Yh={},LF=[],cb=0,RF=0,sm=function(t){return(Yh[t]||LF).map(function(n){return n()})},Mg=function(){var t=Date.now(),n=[];t-cb>2&&(sm("matchMediaInit"),ro.forEach(function(r){var i=r.queries,a=r.conditions,s,u,c,f;for(u in i)s=Kr.matchMedia(i[u]).matches,s&&(c=1),s!==a[u]&&(a[u]=s,f=1);f&&(r.revert(),c&&n.push(r))}),sm("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r)}),cb=t,sm("matchMedia"))},fT=function(){function e(n,r){this.selector=r&&xg(r),this.data=[],this._r=[],this.isReverted=!1,this.id=RF++,n&&this.add(n)}var t=e.prototype;return t.add=function(r,i,a){an(r)&&(a=i,i=r,r=an);var s=this,u=function(){var f=nn,h=s.selector,d;return f&&f!==s&&f.data.push(s),a&&(s.selector=xg(a)),nn=s,d=i.apply(s,arguments),an(d)&&s._r.push(d),nn=f,s.selector=h,s.isReverted=!1,d};return s.last=u,r===an?u(s):r?s[r]=u:u},t.ignore=function(r){var i=nn;nn=null,r(this),nn=i},t.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof e?r.push.apply(r,i.getTweens()):i instanceof _n&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,i){var a=this;if(r){var s=this.getTweens();this.data.forEach(function(c){c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(f){return s.splice(s.indexOf(f),1)}))}),s.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),this.data.forEach(function(c){return!(c instanceof _n)&&c.revert&&c.revert(r)}),this._r.forEach(function(c){return c(r,a)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),i)for(var u=ro.length;u--;)ro[u].id===this.id&&ro.splice(u,1)},t.revert=function(r){this.kill(r||{})},e}(),OF=function(){function e(n){this.contexts=[],this.scope=n}var t=e.prototype;return t.add=function(r,i,a){Gi(r)||(r={matches:r});var s=new fT(0,a||this.scope),u=s.conditions={},c,f,h;nn&&!s.selector&&(s.selector=nn.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=r;for(f in r)f==="all"?h=1:(c=Kr.matchMedia(r[f]),c&&(ro.indexOf(s)<0&&ro.push(s),(u[f]=c.matches)&&(h=1),c.addListener?c.addListener(Mg):c.addEventListener("change",Mg)));return h&&i(s),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},e}(),md={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(i){return ZS(i)})},timeline:function(t){return new hr(t)},getTweensOf:function(t,n){return Kt.getTweensOf(t,n)},getProperty:function(t,n,r,i){An(t)&&(t=ei(t)[0]);var a=eo(t||{}).get,s=r?BS:FS;return r==="native"&&(r=""),t&&(n?s((Rr[n]&&Rr[n].get||a)(t,n,r,i)):function(u,c,f){return s((Rr[u]&&Rr[u].get||a)(t,u,c,f))})},quickSetter:function(t,n,r){if(t=ei(t),t.length>1){var i=t.map(function(h){return gr.quickSetter(h,n,r)}),a=i.length;return function(h){for(var d=a;d--;)i[d](h)}}t=t[0]||{};var s=Rr[n],u=eo(t),c=u.harness&&(u.harness.aliases||{})[n]||n,f=s?function(h){var d=new s;vu._pt=0,d.init(t,r?h+r:h,vu,0,[t]),d.render(1,d),vu._pt&&v0(1,vu)}:u.set(t,c);return s?f:function(h){return f(t,c,r?h+r:h,u,1)}},quickTo:function(t,n,r){var i,a=gr.to(t,lo((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),s=function(c,f,h){return a.resetTo(n,c,f,h)};return s.tween=a,s},isTweening:function(t){return Kt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=no(t.ease,Cu.ease)),ab(Cu,t||{})},config:function(t){return ab(Dr,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,i=t.plugins,a=t.defaults,s=t.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!Rr[u]&&!Fr[u]&&hd(n+" effect requires "+u+" plugin.")}),nm[n]=function(u,c,f){return r(ei(u),ii(c||{},a),f)},s&&(hr.prototype[n]=function(u,c,f){return this.add(nm[n](u,Gi(c)?c:(f=c)&&{},this),f)})},registerEase:function(t,n){wt[t]=no(n)},parseEase:function(t,n){return arguments.length?no(t,n):wt},getById:function(t){return Kt.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var r=new hr(t),i,a;for(r.smoothChildTiming=pr(t.smoothChildTiming),Kt.remove(r),r._dp=0,r._time=r._tTime=Kt._time,i=Kt._first;i;)a=i._next,(n||!(!i._dur&&i instanceof _n&&i.vars.onComplete===i._targets[0]))&&Oi(r,i,i._start-i._delay),i=a;return Oi(Kt,r,0),r},context:function(t,n){return t?new fT(t,n):nn},matchMedia:function(t){return new OF(t)},matchMediaRefresh:function(){return ro.forEach(function(t){var n=t.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&t.revert()})||Mg()},addEventListener:function(t,n){var r=Yh[t]||(Yh[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=Yh[t],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:cF,wrapYoyo:fF,distribute:VS,random:jS,snap:$S,normalize:lF,getUnit:Wn,clamp:aF,splitColor:JS,toArray:ei,selector:xg,mapRange:XS,pipe:oF,unitize:uF,interpolate:hF,shuffle:WS},install:RS,effects:nm,ticker:Ir,updateRoot:hr.updateRoot,plugins:Rr,globalTimeline:Kt,core:{PropTween:mr,globals:OS,Tween:_n,Timeline:hr,Animation:fc,getCache:eo,_removeLinkedListItem:fp,reverting:function(){return $n},context:function(t){return t&&nn&&(nn.data.push(t),t._ctx=nn),nn},suppressOverwrites:function(t){return r0=t}}};vr("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return md[e]=_n[e]});Ir.add(hr.updateRoot);vu=md.to({},{duration:0});var IF=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},DF=function(t,n){var r=t._targets,i,a,s;for(i in n)for(a=r.length;a--;)s=t._ptLookup[a][i],s&&(s=s.d)&&(s._pt&&(s=IF(s,i)),s&&s.modifier&&s.modifier(n[i],t,r[a],i))},om=function(t,n){return{name:t,rawVars:1,init:function(i,a,s){s._onInit=function(u){var c,f;if(An(a)&&(c={},vr(a,function(h){return c[h]=1}),a=c),n){c={};for(f in a)c[f]=n(a[f]);a=c}DF(u,a)}}}},gr=md.registerPlugin({name:"attr",init:function(t,n,r,i,a){var s,u,c;this.tween=r;for(s in n)c=t.getAttribute(s)||"",u=this.add(t,"setAttribute",(c||0)+"",n[s],i,a,0,0,s),u.op=s,u.b=c,this._props.push(s)},render:function(t,n){for(var r=n._pt;r;)$n?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},om("roundProps",wg),om("modifiers"),om("snap",$S))||md;_n.version=hr.version=gr.version="3.12.2";LS=1;a0()&&Ru();var NF=wt.Power0,FF=wt.Power1;wt.Power2;var BF=wt.Power3;wt.Power4;wt.Linear;wt.Quad;wt.Cubic;wt.Quart;wt.Quint;wt.Strong;wt.Elastic;wt.Back;wt.SteppedEase;wt.Bounce;wt.Sine;wt.Expo;wt.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var fb,Ka,Mu,m0,Xs,hb,g0,zF=function(){return typeof window<"u"},ba={},js=180/Math.PI,Su=Math.PI/180,Ho=Math.atan2,db=1e8,_0=/([A-Z])/g,UF=/(left|right|width|margin|padding|x)/i,GF=/[\s,\(]\S/,Ni={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Sg=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},HF=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},kF=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},WF=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},hT=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},dT=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},VF=function(t,n,r){return t.style[n]=r},$F=function(t,n,r){return t.style.setProperty(n,r)},jF=function(t,n,r){return t._gsap[n]=r},qF=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},XF=function(t,n,r,i,a){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(a,s)},YF=function(t,n,r,i,a){var s=t._gsap;s[n]=r,s.renderTransform(a,s)},Qt="transform",xi=Qt+"Origin",ZF=function e(t,n){var r=this,i=this.target,a=i.style;if(t in ba&&a){if(this.tfm=this.tfm||{},t!=="transform")t=Ni[t]||t,~t.indexOf(",")?t.split(",").forEach(function(s){return r.tfm[s]=va(i,s)}):this.tfm[t]=i._gsap.x?i._gsap[t]:va(i,t);else return Ni.transform.split(",").forEach(function(s){return e.call(r,s,n)});if(this.props.indexOf(Qt)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(xi,n,"")),t=Qt}(a||n)&&this.props.push(t,n,a[t])},pT=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},JF=function(){var t=this.props,n=this.target,r=n.style,i=n._gsap,a,s;for(a=0;a<t.length;a+=3)t[a+1]?n[t[a]]=t[a+2]:t[a+2]?r[t[a]]=t[a+2]:r.removeProperty(t[a].substr(0,2)==="--"?t[a]:t[a].replace(_0,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=g0(),(!a||!a.isStart)&&!r[Qt]&&(pT(r),i.uncache=1)}},vT=function(t,n){var r={target:t,props:[],revert:JF,save:ZF};return t._gsap||gr.core.getCache(t),n&&n.split(",").forEach(function(i){return r.save(i)}),r},mT,Tg=function(t,n){var r=Ka.createElementNS?Ka.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ka.createElement(t);return r.style?r:Ka.createElement(t)},Bi=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(_0,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Ou(n)||n,1)||""},pb="O,Moz,ms,Ms,Webkit".split(","),Ou=function(t,n,r){var i=n||Xs,a=i.style,s=5;if(t in a&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(pb[s]+t in a););return s<0?null:(s===3?"ms":s>=0?pb[s]:"")+t},Eg=function(){zF()&&window.document&&(fb=window,Ka=fb.document,Mu=Ka.documentElement,Xs=Tg("div")||{style:{}},Tg("div"),Qt=Ou(Qt),xi=Qt+"Origin",Xs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",mT=!!Ou("perspective"),g0=gr.core.reverting,m0=1)},um=function e(t){var n=Tg("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,a=this.style.cssText,s;if(Mu.appendChild(n),n.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(u){}else this._gsapBBox&&(s=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Mu.removeChild(n),this.style.cssText=a,s},vb=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},gT=function(t){var n;try{n=t.getBBox()}catch(r){n=um.call(t,!0)}return n&&(n.width||n.height)||t.getBBox===um||(n=um.call(t,!0)),n&&!n.width&&!n.x&&!n.y?{x:+vb(t,["x","cx","x1"])||0,y:+vb(t,["y","cy","y1"])||0,width:0,height:0}:n},_T=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&gT(t))},hc=function(t,n){if(n){var r=t.style;n in ba&&n!==xi&&(n=Qt),r.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(n.replace(_0,"-$1").toLowerCase())):r.removeAttribute(n)}},Qa=function(t,n,r,i,a,s){var u=new mr(t._pt,n,r,0,1,s?dT:hT);return t._pt=u,u.b=i,u.e=a,t._props.push(r),u},mb={deg:1,rad:1,turn:1},KF={grid:1,flex:1},fs=function e(t,n,r,i){var a=parseFloat(r)||0,s=(r+"").trim().substr((a+"").length)||"px",u=Xs.style,c=UF.test(n),f=t.tagName.toLowerCase()==="svg",h=(f?"client":"offset")+(c?"Width":"Height"),d=100,v=i==="px",m=i==="%",_,g,y,w;return i===s||!a||mb[i]||mb[s]?a:(s!=="px"&&!v&&(a=e(t,n,r,"px")),w=t.getCTM&&_T(t),(m||s==="%")&&(ba[n]||~n.indexOf("adius"))?(_=w?t.getBBox()[c?"width":"height"]:t[h],fn(m?a/_*d:a/100*_)):(u[c?"width":"height"]=d+(v?s:i),g=~n.indexOf("adius")||i==="em"&&t.appendChild&&!f?t:t.parentNode,w&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===Ka||!g.appendChild)&&(g=Ka.body),y=g._gsap,y&&m&&y.width&&c&&y.time===Ir.time&&!y.uncache?fn(a/y.width*d):((m||s==="%")&&!KF[Bi(g,"display")]&&(u.position=Bi(t,"position")),g===t&&(u.position="static"),g.appendChild(Xs),_=Xs[h],g.removeChild(Xs),u.position="absolute",c&&m&&(y=eo(g),y.time=Ir.time,y.width=g[h]),fn(v?_*a/d:_&&a?d/_*a:0))))},va=function(t,n,r,i){var a;return m0||Eg(),n in Ni&&n!=="transform"&&(n=Ni[n],~n.indexOf(",")&&(n=n.split(",")[0])),ba[n]&&n!=="transform"?(a=pc(t,i),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:_d(Bi(t,xi))+" "+a.zOrigin+"px"):(a=t.style[n],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=gd[n]&&gd[n](t,n,r)||Bi(t,n)||DS(t,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?fs(t,n,a,r)+r:a},QF=function(t,n,r,i){if(!r||r==="none"){var a=Ou(n,t,1),s=a&&Bi(t,a,1);s&&s!==r?(n=a,r=s):n==="borderColor"&&(r=Bi(t,"borderTopColor"))}var u=new mr(this._pt,t.style,n,0,1,lT),c=0,f=0,h,d,v,m,_,g,y,w,M,E,S,b;if(u.b=r,u.e=i,r+="",i+="",i==="auto"&&(t.style[n]=i,i=Bi(t,n)||i,t.style[n]=r),h=[r,i],QS(h),r=h[0],i=h[1],v=r.match(pu)||[],b=i.match(pu)||[],b.length){for(;d=pu.exec(i);)y=d[0],M=i.substring(c,d.index),_?_=(_+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(_=1),y!==(g=v[f++]||"")&&(m=parseFloat(g)||0,S=g.substr((m+"").length),y.charAt(1)==="="&&(y=bu(m,y)+S),w=parseFloat(y),E=y.substr((w+"").length),c=pu.lastIndex-E.length,E||(E=E||Dr.units[n]||S,c===i.length&&(i+=E,u.e+=E)),S!==E&&(m=fs(t,n,g,E)||0),u._pt={_next:u._pt,p:M||f===1?M:",",s:m,c:w-m,m:_&&_<4||n==="zIndex"?Math.round:0});u.c=c<i.length?i.substring(c,i.length):""}else u.r=n==="display"&&i==="none"?dT:hT;return CS.test(i)&&(u.e=0),this._pt=u,u},gb={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},eB=function(t){var n=t.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(t=r,r=i,i=t),n[0]=gb[r]||r,n[1]=gb[i]||i,n.join(" ")},tB=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,a=n.u,s=r._gsap,u,c,f;if(a==="all"||a===!0)i.cssText="",c=1;else for(a=a.split(","),f=a.length;--f>-1;)u=a[f],ba[u]&&(c=1,u=u==="transformOrigin"?xi:Qt),hc(r,u);c&&(hc(r,Qt),s&&(s.svg&&r.removeAttribute("transform"),pc(r,1),s.uncache=1,pT(i)))}},gd={clearProps:function(t,n,r,i,a){if(a.data!=="isFromStart"){var s=t._pt=new mr(t._pt,n,r,0,0,tB);return s.u=i,s.pr=-10,s.tween=a,t._props.push(r),1}}},dc=[1,0,0,1,0,0],yT={},xT=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},_b=function(t){var n=Bi(t,Qt);return xT(n)?dc:n.substr(7).match(AS).map(fn)},y0=function(t,n){var r=t._gsap||eo(t),i=t.style,a=_b(t),s,u,c,f;return r.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?dc:a):(a===dc&&!t.offsetParent&&t!==Mu&&!r.svg&&(c=i.display,i.display="block",s=t.parentNode,(!s||!t.offsetParent)&&(f=1,u=t.nextElementSibling,Mu.appendChild(t)),a=_b(t),c?i.display=c:hc(t,"display"),f&&(u?s.insertBefore(t,u):s?s.appendChild(t):Mu.removeChild(t))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},Ag=function(t,n,r,i,a,s){var u=t._gsap,c=a||y0(t,!0),f=u.xOrigin||0,h=u.yOrigin||0,d=u.xOffset||0,v=u.yOffset||0,m=c[0],_=c[1],g=c[2],y=c[3],w=c[4],M=c[5],E=n.split(" "),S=parseFloat(E[0])||0,b=parseFloat(E[1])||0,P,D,L,F;r?c!==dc&&(D=m*y-_*g)&&(L=S*(y/D)+b*(-g/D)+(g*M-y*w)/D,F=S*(-_/D)+b*(m/D)-(m*M-_*w)/D,S=L,b=F):(P=gT(t),S=P.x+(~E[0].indexOf("%")?S/100*P.width:S),b=P.y+(~(E[1]||E[0]).indexOf("%")?b/100*P.height:b)),i||i!==!1&&u.smooth?(w=S-f,M=b-h,u.xOffset=d+(w*m+M*g)-w,u.yOffset=v+(w*_+M*y)-M):u.xOffset=u.yOffset=0,u.xOrigin=S,u.yOrigin=b,u.smooth=!!i,u.origin=n,u.originIsAbsolute=!!r,t.style[xi]="0px 0px",s&&(Qa(s,u,"xOrigin",f,S),Qa(s,u,"yOrigin",h,b),Qa(s,u,"xOffset",d,u.xOffset),Qa(s,u,"yOffset",v,u.yOffset)),t.setAttribute("data-svg-origin",S+" "+b)},pc=function(t,n){var r=t._gsap||new rT(t);if("x"in r&&!n&&!r.uncache)return r;var i=t.style,a=r.scaleX<0,s="px",u="deg",c=getComputedStyle(t),f=Bi(t,xi)||"0",h,d,v,m,_,g,y,w,M,E,S,b,P,D,L,F,H,q,I,N,z,W,Z,ee,J,te,ne,ue,_e,Fe,De,Me;return h=d=v=g=y=w=M=E=S=0,m=_=1,r.svg=!!(t.getCTM&&_T(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Qt]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Qt]!=="none"?c[Qt]:"")),i.scale=i.rotate=i.translate="none"),D=y0(t,r.svg),r.svg&&(r.uncache?(J=t.getBBox(),f=r.xOrigin-J.x+"px "+(r.yOrigin-J.y)+"px",ee=""):ee=!n&&t.getAttribute("data-svg-origin"),Ag(t,ee||f,!!ee||r.originIsAbsolute,r.smooth!==!1,D)),b=r.xOrigin||0,P=r.yOrigin||0,D!==dc&&(q=D[0],I=D[1],N=D[2],z=D[3],h=W=D[4],d=Z=D[5],D.length===6?(m=Math.sqrt(q*q+I*I),_=Math.sqrt(z*z+N*N),g=q||I?Ho(I,q)*js:0,M=N||z?Ho(N,z)*js+g:0,M&&(_*=Math.abs(Math.cos(M*Su))),r.svg&&(h-=b-(b*q+P*N),d-=P-(b*I+P*z))):(Me=D[6],Fe=D[7],ne=D[8],ue=D[9],_e=D[10],De=D[11],h=D[12],d=D[13],v=D[14],L=Ho(Me,_e),y=L*js,L&&(F=Math.cos(-L),H=Math.sin(-L),ee=W*F+ne*H,J=Z*F+ue*H,te=Me*F+_e*H,ne=W*-H+ne*F,ue=Z*-H+ue*F,_e=Me*-H+_e*F,De=Fe*-H+De*F,W=ee,Z=J,Me=te),L=Ho(-N,_e),w=L*js,L&&(F=Math.cos(-L),H=Math.sin(-L),ee=q*F-ne*H,J=I*F-ue*H,te=N*F-_e*H,De=z*H+De*F,q=ee,I=J,N=te),L=Ho(I,q),g=L*js,L&&(F=Math.cos(L),H=Math.sin(L),ee=q*F+I*H,J=W*F+Z*H,I=I*F-q*H,Z=Z*F-W*H,q=ee,W=J),y&&Math.abs(y)+Math.abs(g)>359.9&&(y=g=0,w=180-w),m=fn(Math.sqrt(q*q+I*I+N*N)),_=fn(Math.sqrt(Z*Z+Me*Me)),L=Ho(W,Z),M=Math.abs(L)>2e-4?L*js:0,S=De?1/(De<0?-De:De):0),r.svg&&(ee=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!xT(Bi(t,Qt)),ee&&t.setAttribute("transform",ee))),Math.abs(M)>90&&Math.abs(M)<270&&(a?(m*=-1,M+=g<=0?180:-180,g+=g<=0?180:-180):(_*=-1,M+=M<=0?180:-180)),n=n||r.uncache,r.x=h-((r.xPercent=h&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-h)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+s,r.y=d-((r.yPercent=d&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-d)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+s,r.z=v+s,r.scaleX=fn(m),r.scaleY=fn(_),r.rotation=fn(g)+u,r.rotationX=fn(y)+u,r.rotationY=fn(w)+u,r.skewX=M+u,r.skewY=E+u,r.transformPerspective=S+s,(r.zOrigin=parseFloat(f.split(" ")[2])||0)&&(i[xi]=_d(f)),r.xOffset=r.yOffset=0,r.force3D=Dr.force3D,r.renderTransform=r.svg?rB:mT?wT:nB,r.uncache=0,r},_d=function(t){return(t=t.split(" "))[0]+" "+t[1]},lm=function(t,n,r){var i=Wn(n);return fn(parseFloat(n)+parseFloat(fs(t,"x",r+"px",i)))+i},nB=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,wT(t,n)},Is="0deg",Al="0px",Ds=") ",wT=function(t,n){var r=n||this,i=r.xPercent,a=r.yPercent,s=r.x,u=r.y,c=r.z,f=r.rotation,h=r.rotationY,d=r.rotationX,v=r.skewX,m=r.skewY,_=r.scaleX,g=r.scaleY,y=r.transformPerspective,w=r.force3D,M=r.target,E=r.zOrigin,S="",b=w==="auto"&&t&&t!==1||w===!0;if(E&&(d!==Is||h!==Is)){var P=parseFloat(h)*Su,D=Math.sin(P),L=Math.cos(P),F;P=parseFloat(d)*Su,F=Math.cos(P),s=lm(M,s,D*F*-E),u=lm(M,u,-Math.sin(P)*-E),c=lm(M,c,L*F*-E+E)}y!==Al&&(S+="perspective("+y+Ds),(i||a)&&(S+="translate("+i+"%, "+a+"%) "),(b||s!==Al||u!==Al||c!==Al)&&(S+=c!==Al||b?"translate3d("+s+", "+u+", "+c+") ":"translate("+s+", "+u+Ds),f!==Is&&(S+="rotate("+f+Ds),h!==Is&&(S+="rotateY("+h+Ds),d!==Is&&(S+="rotateX("+d+Ds),(v!==Is||m!==Is)&&(S+="skew("+v+", "+m+Ds),(_!==1||g!==1)&&(S+="scale("+_+", "+g+Ds),M.style[Qt]=S||"translate(0, 0)"},rB=function(t,n){var r=n||this,i=r.xPercent,a=r.yPercent,s=r.x,u=r.y,c=r.rotation,f=r.skewX,h=r.skewY,d=r.scaleX,v=r.scaleY,m=r.target,_=r.xOrigin,g=r.yOrigin,y=r.xOffset,w=r.yOffset,M=r.forceCSS,E=parseFloat(s),S=parseFloat(u),b,P,D,L,F;c=parseFloat(c),f=parseFloat(f),h=parseFloat(h),h&&(h=parseFloat(h),f+=h,c+=h),c||f?(c*=Su,f*=Su,b=Math.cos(c)*d,P=Math.sin(c)*d,D=Math.sin(c-f)*-v,L=Math.cos(c-f)*v,f&&(h*=Su,F=Math.tan(f-h),F=Math.sqrt(1+F*F),D*=F,L*=F,h&&(F=Math.tan(h),F=Math.sqrt(1+F*F),b*=F,P*=F)),b=fn(b),P=fn(P),D=fn(D),L=fn(L)):(b=d,L=v,P=D=0),(E&&!~(s+"").indexOf("px")||S&&!~(u+"").indexOf("px"))&&(E=fs(m,"x",s,"px"),S=fs(m,"y",u,"px")),(_||g||y||w)&&(E=fn(E+_-(_*b+g*D)+y),S=fn(S+g-(_*P+g*L)+w)),(i||a)&&(F=m.getBBox(),E=fn(E+i/100*F.width),S=fn(S+a/100*F.height)),F="matrix("+b+","+P+","+D+","+L+","+E+","+S+")",m.setAttribute("transform",F),M&&(m.style[Qt]=F)},iB=function(t,n,r,i,a){var s=360,u=An(a),c=parseFloat(a)*(u&&~a.indexOf("rad")?js:1),f=c-i,h=i+f+"deg",d,v;return u&&(d=a.split("_")[1],d==="short"&&(f%=s,f!==f%(s/2)&&(f+=f<0?s:-s)),d==="cw"&&f<0?f=(f+s*db)%s-~~(f/s)*s:d==="ccw"&&f>0&&(f=(f-s*db)%s-~~(f/s)*s)),t._pt=v=new mr(t._pt,n,r,i,f,HF),v.e=h,v.u="deg",t._props.push(r),v},yb=function(t,n){for(var r in n)t[r]=n[r];return t},aB=function(t,n,r){var i=yb({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=r.style,u,c,f,h,d,v,m,_;i.svg?(f=r.getAttribute("transform"),r.setAttribute("transform",""),s[Qt]=n,u=pc(r,1),hc(r,Qt),r.setAttribute("transform",f)):(f=getComputedStyle(r)[Qt],s[Qt]=n,u=pc(r,1),s[Qt]=f);for(c in ba)f=i[c],h=u[c],f!==h&&a.indexOf(c)<0&&(m=Wn(f),_=Wn(h),d=m!==_?fs(r,c,f,_):parseFloat(f),v=parseFloat(h),t._pt=new mr(t._pt,u,c,d,v-d,Sg),t._pt.u=_||0,t._props.push(c));yb(u,i)};vr("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",a="Left",s=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map(function(u){return t<2?e+u:"border"+u+e});gd[t>1?"border"+e:e]=function(u,c,f,h,d){var v,m;if(arguments.length<4)return v=s.map(function(_){return va(u,_,f)}),m=v.join(" "),m.split(v[0]).length===5?v[0]:m;v=(h+"").split(" "),m={},s.forEach(function(_,g){return m[_]=v[g]=v[g]||v[(g-1)/2|0]}),u.init(c,m,d)}});var bT={name:"css",register:Eg,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,i,a){var s=this._props,u=t.style,c=r.vars.startAt,f,h,d,v,m,_,g,y,w,M,E,S,b,P,D,L;m0||Eg(),this.styles=this.styles||vT(t),L=this.styles.props,this.tween=r;for(g in n)if(g!=="autoRound"&&(h=n[g],!(Rr[g]&&iT(g,n,r,i,t,a)))){if(m=typeof h,_=gd[g],m==="function"&&(h=h.call(r,i,t,a),m=typeof h),m==="string"&&~h.indexOf("random(")&&(h=lc(h)),_)_(this,t,g,h,r)&&(D=1);else if(g.substr(0,2)==="--")f=(getComputedStyle(t).getPropertyValue(g)+"").trim(),h+="",ns.lastIndex=0,ns.test(f)||(y=Wn(f),w=Wn(h)),w?y!==w&&(f=fs(t,g,f,w)+w):y&&(h+=y),this.add(u,"setProperty",f,h,i,a,0,0,g),s.push(g),L.push(g,0,u[g]);else if(m!=="undefined"){if(c&&g in c?(f=typeof c[g]=="function"?c[g].call(r,i,t,a):c[g],An(f)&&~f.indexOf("random(")&&(f=lc(f)),Wn(f+"")||(f+=Dr.units[g]||Wn(va(t,g))||""),(f+"").charAt(1)==="="&&(f=va(t,g))):f=va(t,g),v=parseFloat(f),M=m==="string"&&h.charAt(1)==="="&&h.substr(0,2),M&&(h=h.substr(2)),d=parseFloat(h),g in Ni&&(g==="autoAlpha"&&(v===1&&va(t,"visibility")==="hidden"&&d&&(v=0),L.push("visibility",0,u.visibility),Qa(this,u,"visibility",v?"inherit":"hidden",d?"inherit":"hidden",!d)),g!=="scale"&&g!=="transform"&&(g=Ni[g],~g.indexOf(",")&&(g=g.split(",")[0]))),E=g in ba,E){if(this.styles.save(g),S||(b=t._gsap,b.renderTransform&&!n.parseTransform||pc(t,n.parseTransform),P=n.smoothOrigin!==!1&&b.smooth,S=this._pt=new mr(this._pt,u,Qt,0,1,b.renderTransform,b,0,-1),S.dep=1),g==="scale")this._pt=new mr(this._pt,b,"scaleY",b.scaleY,(M?bu(b.scaleY,M+d):d)-b.scaleY||0,Sg),this._pt.u=0,s.push("scaleY",g),g+="X";else if(g==="transformOrigin"){L.push(xi,0,u[xi]),h=eB(h),b.svg?Ag(t,h,0,P,0,this):(w=parseFloat(h.split(" ")[2])||0,w!==b.zOrigin&&Qa(this,b,"zOrigin",b.zOrigin,w),Qa(this,u,g,_d(f),_d(h)));continue}else if(g==="svgOrigin"){Ag(t,h,1,P,0,this);continue}else if(g in yT){iB(this,b,g,v,M?bu(v,M+h):h);continue}else if(g==="smoothOrigin"){Qa(this,b,"smooth",b.smooth,h);continue}else if(g==="force3D"){b[g]=h;continue}else if(g==="transform"){aB(this,h,t);continue}}else g in u||(g=Ou(g)||g);if(E||(d||d===0)&&(v||v===0)&&!GF.test(h)&&g in u)y=(f+"").substr((v+"").length),d||(d=0),w=Wn(h)||(g in Dr.units?Dr.units[g]:y),y!==w&&(v=fs(t,g,f,w)),this._pt=new mr(this._pt,E?b:u,g,v,(M?bu(v,M+d):d)-v,!E&&(w==="px"||g==="zIndex")&&n.autoRound!==!1?WF:Sg),this._pt.u=w||0,y!==w&&w!=="%"&&(this._pt.b=f,this._pt.r=kF);else if(g in u)QF.call(this,t,g,f,M?M+h:h);else if(g in t)this.add(t,g,f||t[g],M?M+h:h,i,a);else if(g!=="parseTransform"){o0(g,h);continue}E||(g in u?L.push(g,0,u[g]):L.push(g,1,f||t[g])),s.push(g)}}D&&cT(this)},render:function(t,n){if(n.tween._time||!g0())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:va,aliases:Ni,getSetter:function(t,n,r){var i=Ni[n];return i&&i.indexOf(",")<0&&(n=i),n in ba&&n!==xi&&(t._gsap.x||va(t,"x"))?r&&hb===r?n==="scale"?qF:jF:(hb=r||{})&&(n==="scale"?XF:YF):t.style&&!i0(t.style[n])?VF:~n.indexOf("-")?$F:p0(t,n)},core:{_removeProperty:hc,_getMatrix:y0}};gr.utils.checkPrefix=Ou;gr.core.getStyleSaver=vT;(function(e,t,n,r){var i=vr(e+","+t+","+n,function(a){ba[a]=1});vr(t,function(a){Dr.units[a]="deg",yT[a]=1}),Ni[i[13]]=e+","+t,vr(r,function(a){var s=a.split(":");Ni[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");vr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Dr.units[e]="px"});gr.registerPlugin(bT);var Or=gr.registerPlugin(bT)||gr;Or.core.Tween;/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function Zh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zh=function(t){return typeof t}:Zh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function sB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oB(e){return uB(e)||lB(e)||cB()}function uB(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function lB(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function cB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function fB(){return typeof Reflect<"u"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function hB(e,t){cm(e,t),Object.getOwnPropertyNames(t.prototype).forEach(function(n){cm(e.prototype,t.prototype,n)}),Object.getOwnPropertyNames(t).forEach(function(n){cm(e,t,n)})}function cm(e,t,n){var r=n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t);r.forEach(function(i){var a=n?Reflect.getOwnMetadata(i,t,n):Reflect.getOwnMetadata(i,t);n?Reflect.defineMetadata(i,a,e,n):Reflect.defineMetadata(i,a,e)})}var dB={__proto__:[]},pB=dB instanceof Array;function MT(e){return function(t,n,r){var i=typeof t=="function"?t:t.constructor;i.__decorators__||(i.__decorators__=[]),typeof r!="number"&&(r=void 0),i.__decorators__.push(function(a){return e(a,n,r)})}}function vB(e){var t=Zh(e);return e==null||t!=="object"&&t!=="function"}function mB(e,t){var n=t.prototype._init;t.prototype._init=function(){var a=this,s=Object.getOwnPropertyNames(e);if(e.$options.props)for(var u in e.$options.props)e.hasOwnProperty(u)||s.push(u);s.forEach(function(c){Object.defineProperty(a,c,{get:function(){return e[c]},set:function(h){e[c]=h},configurable:!0})})};var r=new t;t.prototype._init=n;var i={};return Object.keys(r).forEach(function(a){r[a]!==void 0&&(i[a]=r[a])}),i}var Cg=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function xb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach(function(u){if(u!=="constructor"){if(Cg.indexOf(u)>-1){t[u]=n[u];return}var c=Object.getOwnPropertyDescriptor(n,u);c.value!==void 0?typeof c.value=="function"?(t.methods||(t.methods={}))[u]=c.value:(t.mixins||(t.mixins=[])).push({data:function(){return sB({},u,c.value)}}):(c.get||c.set)&&((t.computed||(t.computed={}))[u]={get:c.get,set:c.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return mB(this,e)}});var r=e.__decorators__;r&&(r.forEach(function(u){return u(t)}),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),a=i instanceof bt?i.constructor:bt,s=a.extend(t);return _B(s,e,a),fB()&&hB(s,e),s}var gB={prototype:!0,arguments:!0,callee:!0,caller:!0};function _B(e,t,n){Object.getOwnPropertyNames(t).forEach(function(r){if(!gB[r]){var i=Object.getOwnPropertyDescriptor(e,r);if(!(i&&!i.configurable)){var a=Object.getOwnPropertyDescriptor(t,r);if(!pB){if(r==="cid")return;var s=Object.getOwnPropertyDescriptor(n,r);if(!vB(a.value)&&s&&s.value===a.value)return}Object.defineProperty(e,r,a)}}})}function xs(e){return typeof e=="function"?xb(e):function(t){return xb(t,e)}}xs.registerHooks=function(t){Cg.push.apply(Cg,oB(t))};var yB=Object.defineProperty,xB=Object.getOwnPropertyDescriptor,wB=(e,t,n,r)=>{for(var i=r>1?void 0:r?xB(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&yB(t,n,i),i};let Pg=class extends bt{constructor(){super(...arguments);kt(this,"progress",0)}get progressText(){return Number(this.progress*100)|0}get progressStyle(){return{transform:`scale(${this.progress})`}}mounted(){const t=this.$refs.dusts,n=100/t.length,r=a=>{const s=a/2|0;return n*s+"%"};Or.set(t,{css:{left:a=>a%2===0?r(a):"",right:a=>a%2!==0?r(a):""}});const i=Or.timeline({onComplete:()=>{this.$refs.loadingBar.style.background="transparent";const a=Or.timeline();a.addLabel("start"),a.set(t,{opacity:1}),a.to(t,{x(){return 20*Math.random()-15},y(){return 30+Math.random()*25},opacity:0,duration:2.5,stagger:.0015},"start"),a.to(this,{progress:0,duration:.1},"start"),a.to(this.$refs.loadingGroup,{opacity:0,duration:.3},"-=1.8"),a.call(()=>{this.$store.commit("setInitState",!0)},[],"-=1.7")}});i.fromTo(this,{progress:0},{progress:.3,duration:5}),i.fromTo(this,{progress:.3},{duration:5,progress:.7}),i.fromTo(this,{progress:.7},{duration:3,progress:1}),window.addEventListener("load",()=>{i.timeScale(8)})}};Pg=wB([xs],Pg);const bB=Pg;function Xi(e,t,n,r,i,a,s,u){var c=typeof e=="function"?e.options:e;t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a);var f;if(s?(f=function(v){v=v||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!v&&typeof __VUE_SSR_CONTEXT__<"u"&&(v=__VUE_SSR_CONTEXT__),i&&i.call(this,v),v&&v._registeredComponents&&v._registeredComponents.add(s)},c._ssrRegister=f):i&&(f=u?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),f)if(c.functional){c._injectStyles=f;var h=c.render;c.render=function(m,_){return f.call(_),h(m,_)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,f):[f]}return{exports:e,options:c}}var MB=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("div",{ref:"preloader",staticClass:"preloader"},[n("div",{ref:"left",staticClass:"preloader__left"}),n("div",{ref:"right",staticClass:"preloader__right"}),n("div",{ref:"loadingGroup",staticClass:"preloader__loadingGroup"},[n("div",{ref:"loadingBar",staticClass:"preloader__loadingBar"},[t._l(150,function(r){return n("span",{key:r,ref:"dusts",refInFor:!0,staticClass:"preloader__dustParticle"})}),n("div",{staticClass:"progressBar",style:t.progressStyle})],2),n("div",{staticClass:"preloader__loadingText"},[t._v(" Loading ... "),n("span",[t._v(t._s(t.progressText)+" %")])])])])},SB=[],TB=Xi(bB,MB,SB,!1,null,null,null,null);const EB=TB.exports,x0=[{clientName:"Ballman Project",title:"Senior Full-stack Developer",image:"/img/clients/ballman.jpg",description:`
      Ballman project is the largest NFT Tennis Competition. I had to solve different challenges of the project: <br>
      - Maintain regular and effective communication with team members regarding new designs and features.<br>
      - Develop & integrate new designs and features into the game<br>
      - Enhance code quality through refactoring and address any bugs or issues that arise.<br>
      <strong>Technologies used: Typescript, React.js, Redux, ExpressJS, Moralis, DynamoDB</strong>
    `,link:"https://ballmanproject.io"},{clientName:"Wizz Project",title:"Frontend Architect and Team Leader",image:"/img/clients/wizz.jpg",description:`
      The Wizz project is a real-time market price tracking system for NFTs, featuring visual charts, searching for the largest traders, and looking up information about NFT collections.
      <br>
      <strong>Technologies used: Typescript, React.js, ECharts, TailwindCSS, AWS</strong>
    `,link:"https://www.upwork.com/freelancers/~0139968d11aef9bbb0?p=1660376192947044352"},{clientName:"Vietnamese Quan Ho folk-songs",title:"Frontend Architect and Team Leader",image:"/img/clients/dancaquanho.jpg",description:`
    This is the proudest project I have ever undertaken, carried out at the request of a government organization in Vietnam, aimed at attracting tourists and helping children have a better understanding of the history and culture of the Northern region of Vietnam.
    <br>
    <strong>Technologies used: WebGL, GSAP, HTML, TailwindCSS, Typescript</strong>
    `,link:"https://en.dancaquanho.vn/gioithieu.html"},{clientName:"BigCommerce BackOrder Plugin",title:"Senior Front-end Developer",image:"/img/clients/backorder.jpg",description:`
      BigCommerce BackOrder Plugin helps store owners increase revenue by allowing users to backorder products since the BigCommerce's eCommerce platform doesn't support Backorder by default
      <br><br>
      My role was to manage the Plugin's Front-end development, making cross-browser, themes-compatible scripts to inject to BigCommerce's storefront, and optimize product's UX with Figma and Whymsical.
      <br>
      <strong>Technologies used: Typescript, Quasar, AWS</strong>
    `,link:"https://www.bigcommerce.com/apps/backorder/"},{clientName:"Medstyle",title:"Full-stack developer",image:"/img/clients/medstyle.jpg",description:`
      Medstyle is a Chilean healthcare corporation. My job was to collaborate with Avalancha team to improve the B2C site's Front-end overall quality
      , build B2B site based on a design, create back-end modules which help connecting to ERP's API, requesting quotes,...
      Technologies used: WordPress, Woocommerce, REST API,...
    `,link:"https://medstyle.cl"},{clientName:"GoCheap",title:"Full-stack developer",image:"/img/clients/gocheap.jpg",description:`
      GoCheap is a flexible transport services, offer passengers many choices of transport vehicles and pricing. 
      It uses Google APIs to calculate the best route which goes through all destinations and pickup points, thereby saving customers' money and time.
      <br>
      Technologies used: OctoberCMS, Google Map API, Google Places API,...
    `,link:"https://gocheap.vn"},{clientName:"Lam Kinh Real",title:"Developing website",image:"/img/clients/lkh.jpg",description:`
      Lam Kinh Real is a real estate company located in Da Nang, Vietnam. <br>
      I revised the site design and built the Front-end of this site
      Technologies used: Nuxt.js, Vue.js, Figma
    `,link:"https://lkh.com.vn"},{clientName:"Deception Boardgame",title:"Demonstrating my Front-end skills",image:"/img/clients/deception.jpg",description:`
      I love boardgames. It's a good way to have fun with friends and family. Due to coronavirus pandemic, I had to build an online version of my favourite boardgame: <br>
      <b>Deception: Murder in Hong Kong</b>. Maybe we could play a game? Just contact me, I'll give you a link to my app and I'll explain the game rules :)<br>
      If you have done reading this, thank you for spending time reading thoroughly my portfolio!
    `}];var AB=Object.defineProperty,CB=Object.getOwnPropertyDescriptor,PB=(e,t,n,r)=>{for(var i=r>1?void 0:r?CB(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&AB(t,n,i),i};const wb=1,bb=2,Mb=3;let Lg=class extends bt{get isInitted(){return this.$store.state.isInitted}get currentSection(){return this.$store.state.scrollState.currentSection}get currentSectionId(){return this.currentSection<1?wb:this.currentSection>=1&&this.currentSection<x0.length+1?bb:Mb}get title(){return this.currentSectionId===wb?"About me":this.currentSectionId===bb?"My Work":this.currentSectionId===Mb?"Contact":""}get number(){return this.currentSection+1<10?"0"+(this.currentSection+1):this.currentSection+1}};Lg=PB([xs],Lg);const LB=Lg;var RB=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("div",{staticClass:"tw-container guide__wrapper"},[n("div",{staticClass:"tw-relative tw-pointer-events-auto"},[n("div",{staticClass:"tw-invisible lg:tw-visible tw-transition-opacity tw-duration-500 tw-delay-1600",class:{guide:!0,"tw-opacity-0":!t.isInitted}},[n("transition",{attrs:{name:"fade"}},[n("span",{key:t.currentSection,staticClass:"guide__title"},[t._v(" "+t._s(t.title)+" ")])]),n("div",{staticClass:"guide__line"}),n("transition",{attrs:{name:"fade"}},[n("span",{key:t.currentSection,staticClass:"guide__sectionNumber"},[t._v(" "+t._s(t.number)+" ")])])],1)])])},OB=[],IB=Xi(LB,RB,OB,!1,null,null,null,null);const DB=IB.exports;globalThis&&globalThis.__spreadArrays;var NB=typeof Reflect<"u"&&typeof Reflect.getMetadata<"u";function FB(e,t,n){if(NB&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type>"u"){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}function BB(e){return e===void 0&&(e={}),function(t,n){FB(e,t,n),MT(function(r,i){(r.props||(r.props={}))[i]=e})(t,n)}}function w0(e,t){t===void 0&&(t={});var n=t.deep,r=n===void 0?!1:n,i=t.immediate,a=i===void 0?!1:i;return MT(function(s,u){typeof s.watch!="object"&&(s.watch=Object.create(null));var c=s.watch;typeof c[e]=="object"&&!Array.isArray(c[e])?c[e]=[c[e]]:typeof c[e]>"u"&&(c[e]=[]),c[e].push({handler:u,deep:r,immediate:a})})}var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zB(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Rg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,v=2,m=4,_=1,g=2,y=1,w=2,M=4,E=8,S=16,b=32,P=64,D=128,L=256,F=512,H=30,q="...",I=800,N=16,z=1,W=2,Z=3,ee=1/0,J=9007199254740991,te=17976931348623157e292,ne=0/0,ue=4294967295,_e=ue-1,Fe=ue>>>1,De=[["ary",D],["bind",y],["bindKey",w],["curry",E],["curryRight",S],["flip",F],["partial",b],["partialRight",P],["rearg",L]],Me="[object Arguments]",ae="[object Array]",ft="[object AsyncFunction]",Ue="[object Boolean]",it="[object Date]",Be="[object DOMException]",he="[object Error]",tt="[object Function]",Mt="[object GeneratorFunction]",gt="[object Map]",Cn="[object Number]",Yt="[object Null]",U="[object Object]",k="[object Promise]",me="[object Proxy]",fe="[object RegExp]",qe="[object Set]",Ne="[object String]",Pe="[object Symbol]",We="[object Undefined]",at="[object WeakMap]",Ge="[object WeakSet]",we="[object ArrayBuffer]",Le="[object DataView]",Ce="[object Float32Array]",$="[object Float64Array]",de="[object Int8Array]",Ae="[object Int16Array]",Ye="[object Int32Array]",Te="[object Uint8Array]",pt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",Nt="[object Uint32Array]",xr=/\b__p \+= '';/g,Pt=/\b(__p \+=) '' \+/g,Zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sn=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,wr=RegExp(Sn.source),Mo=RegExp(Zi.source),or=/<%-([\s\S]+?)%>/g,So=/<%([\s\S]+?)%>/g,Ji=/<%=([\s\S]+?)%>/g,Ep=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ap=/^\w*$/,Cp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ol=/[\\^$.*+?()[\]{}|]/g,Pp=RegExp(ol.source),ul=/^\s+/,ff=/\s/,Lp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rp=/\{\n\/\* \[wrapped with (.+)\] \*/,Op=/,? & /,Ip=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dp=/[()=,{}\[\]\/\s]/,Np=/\\(\\)?/g,Fp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,R=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,ie=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,He=/^(?:0|[1-9]\d*)$/,Re=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot=/($^)/,et=/['\n\r\u2028\u2029\\]/g,Ke="\\ud800-\\udfff",Lt="\\u0300-\\u036f",Tt="\\ufe20-\\ufe2f",_t="\\u20d0-\\u20ff",Ie=Lt+Tt+_t,ke="\\u2700-\\u27bf",br="a-z\\xdf-\\xf6\\xf8-\\xff",sn="\\xac\\xb1\\xd7\\xf7",Ra="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jn="\\u2000-\\u206f",Pn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",To="A-Z\\xc0-\\xd6\\xd8-\\xde",bs="\\ufe0e\\ufe0f",Eo=sn+Ra+Jn+Pn,Bp="['\u2019]",FE="["+Ke+"]",W0="["+Eo+"]",hf="["+Ie+"]",V0="\\d+",BE="["+ke+"]",$0="["+br+"]",j0="[^"+Ke+Eo+V0+ke+br+To+"]",zp="\\ud83c[\\udffb-\\udfff]",zE="(?:"+hf+"|"+zp+")",q0="[^"+Ke+"]",Up="(?:\\ud83c[\\udde6-\\uddff]){2}",Gp="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+To+"]",X0="\\u200d",Y0="(?:"+$0+"|"+j0+")",UE="(?:"+Ao+"|"+j0+")",Z0="(?:"+Bp+"(?:d|ll|m|re|s|t|ve))?",J0="(?:"+Bp+"(?:D|LL|M|RE|S|T|VE))?",K0=zE+"?",Q0="["+bs+"]?",GE="(?:"+X0+"(?:"+[q0,Up,Gp].join("|")+")"+Q0+K0+")*",HE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ey=Q0+K0+GE,WE="(?:"+[BE,Up,Gp].join("|")+")"+ey,VE="(?:"+[q0+hf+"?",hf,Up,Gp,FE].join("|")+")",$E=RegExp(Bp,"g"),jE=RegExp(hf,"g"),Hp=RegExp(zp+"(?="+zp+")|"+VE+ey,"g"),qE=RegExp([Ao+"?"+$0+"+"+Z0+"(?="+[W0,Ao,"$"].join("|")+")",UE+"+"+J0+"(?="+[W0,Ao+Y0,"$"].join("|")+")",Ao+"?"+Y0+"+"+Z0,Ao+"+"+J0,kE,HE,V0,WE].join("|"),"g"),XE=RegExp("["+X0+Ke+Ie+bs+"]"),YE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ZE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],JE=-1,$t={};$t[Ce]=$t[$]=$t[de]=$t[Ae]=$t[Ye]=$t[Te]=$t[pt]=$t[Ct]=$t[Nt]=!0,$t[Me]=$t[ae]=$t[we]=$t[Ue]=$t[Le]=$t[it]=$t[he]=$t[tt]=$t[gt]=$t[Cn]=$t[U]=$t[fe]=$t[qe]=$t[Ne]=$t[at]=!1;var Ht={};Ht[Me]=Ht[ae]=Ht[we]=Ht[Le]=Ht[Ue]=Ht[it]=Ht[Ce]=Ht[$]=Ht[de]=Ht[Ae]=Ht[Ye]=Ht[gt]=Ht[Cn]=Ht[U]=Ht[fe]=Ht[qe]=Ht[Ne]=Ht[Pe]=Ht[Te]=Ht[pt]=Ht[Ct]=Ht[Nt]=!0,Ht[he]=Ht[tt]=Ht[at]=!1;var KE={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},QE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eA={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nA=parseFloat,rA=parseInt,ty=typeof Cl=="object"&&Cl&&Cl.Object===Object&&Cl,iA=typeof self=="object"&&self&&self.Object===Object&&self,Ln=ty||iA||Function("return this")(),kp=t&&!t.nodeType&&t,Ms=kp&&!0&&e&&!e.nodeType&&e,ny=Ms&&Ms.exports===kp,Wp=ny&&ty.process,Wr=function(){try{var X=Ms&&Ms.require&&Ms.require("util").types;return X||Wp&&Wp.binding&&Wp.binding("util")}catch(re){}}(),ry=Wr&&Wr.isArrayBuffer,iy=Wr&&Wr.isDate,ay=Wr&&Wr.isMap,sy=Wr&&Wr.isRegExp,oy=Wr&&Wr.isSet,uy=Wr&&Wr.isTypedArray;function Mr(X,re,K){switch(K.length){case 0:return X.call(re);case 1:return X.call(re,K[0]);case 2:return X.call(re,K[0],K[1]);case 3:return X.call(re,K[0],K[1],K[2])}return X.apply(re,K)}function aA(X,re,K,be){for(var nt=-1,St=X==null?0:X.length;++nt<St;){var xn=X[nt];re(be,xn,K(xn),X)}return be}function Vr(X,re){for(var K=-1,be=X==null?0:X.length;++K<be&&re(X[K],K,X)!==!1;);return X}function sA(X,re){for(var K=X==null?0:X.length;K--&&re(X[K],K,X)!==!1;);return X}function ly(X,re){for(var K=-1,be=X==null?0:X.length;++K<be;)if(!re(X[K],K,X))return!1;return!0}function Oa(X,re){for(var K=-1,be=X==null?0:X.length,nt=0,St=[];++K<be;){var xn=X[K];re(xn,K,X)&&(St[nt++]=xn)}return St}function df(X,re){var K=X==null?0:X.length;return!!K&&Co(X,re,0)>-1}function Vp(X,re,K){for(var be=-1,nt=X==null?0:X.length;++be<nt;)if(K(re,X[be]))return!0;return!1}function qt(X,re){for(var K=-1,be=X==null?0:X.length,nt=Array(be);++K<be;)nt[K]=re(X[K],K,X);return nt}function Ia(X,re){for(var K=-1,be=re.length,nt=X.length;++K<be;)X[nt+K]=re[K];return X}function $p(X,re,K,be){var nt=-1,St=X==null?0:X.length;for(be&&St&&(K=X[++nt]);++nt<St;)K=re(K,X[nt],nt,X);return K}function oA(X,re,K,be){var nt=X==null?0:X.length;for(be&&nt&&(K=X[--nt]);nt--;)K=re(K,X[nt],nt,X);return K}function jp(X,re){for(var K=-1,be=X==null?0:X.length;++K<be;)if(re(X[K],K,X))return!0;return!1}var uA=qp("length");function lA(X){return X.split("")}function cA(X){return X.match(Ip)||[]}function cy(X,re,K){var be;return K(X,function(nt,St,xn){if(re(nt,St,xn))return be=St,!1}),be}function pf(X,re,K,be){for(var nt=X.length,St=K+(be?1:-1);be?St--:++St<nt;)if(re(X[St],St,X))return St;return-1}function Co(X,re,K){return re===re?bA(X,re,K):pf(X,fy,K)}function fA(X,re,K,be){for(var nt=K-1,St=X.length;++nt<St;)if(be(X[nt],re))return nt;return-1}function fy(X){return X!==X}function hy(X,re){var K=X==null?0:X.length;return K?Yp(X,re)/K:ne}function qp(X){return function(re){return re==null?n:re[X]}}function Xp(X){return function(re){return X==null?n:X[re]}}function dy(X,re,K,be,nt){return nt(X,function(St,xn,Ft){K=be?(be=!1,St):re(K,St,xn,Ft)}),K}function hA(X,re){var K=X.length;for(X.sort(re);K--;)X[K]=X[K].value;return X}function Yp(X,re){for(var K,be=-1,nt=X.length;++be<nt;){var St=re(X[be]);St!==n&&(K=K===n?St:K+St)}return K}function Zp(X,re){for(var K=-1,be=Array(X);++K<X;)be[K]=re(K);return be}function dA(X,re){return qt(re,function(K){return[K,X[K]]})}function py(X){return X&&X.slice(0,_y(X)+1).replace(ul,"")}function Sr(X){return function(re){return X(re)}}function Jp(X,re){return qt(re,function(K){return X[K]})}function ll(X,re){return X.has(re)}function vy(X,re){for(var K=-1,be=X.length;++K<be&&Co(re,X[K],0)>-1;);return K}function my(X,re){for(var K=X.length;K--&&Co(re,X[K],0)>-1;);return K}function pA(X,re){for(var K=X.length,be=0;K--;)X[K]===re&&++be;return be}var vA=Xp(KE),mA=Xp(QE);function gA(X){return"\\"+tA[X]}function _A(X,re){return X==null?n:X[re]}function Po(X){return XE.test(X)}function yA(X){return YE.test(X)}function xA(X){for(var re,K=[];!(re=X.next()).done;)K.push(re.value);return K}function Kp(X){var re=-1,K=Array(X.size);return X.forEach(function(be,nt){K[++re]=[nt,be]}),K}function gy(X,re){return function(K){return X(re(K))}}function Da(X,re){for(var K=-1,be=X.length,nt=0,St=[];++K<be;){var xn=X[K];(xn===re||xn===h)&&(X[K]=h,St[nt++]=K)}return St}function vf(X){var re=-1,K=Array(X.size);return X.forEach(function(be){K[++re]=be}),K}function wA(X){var re=-1,K=Array(X.size);return X.forEach(function(be){K[++re]=[be,be]}),K}function bA(X,re,K){for(var be=K-1,nt=X.length;++be<nt;)if(X[be]===re)return be;return-1}function MA(X,re,K){for(var be=K+1;be--;)if(X[be]===re)return be;return be}function Lo(X){return Po(X)?TA(X):uA(X)}function li(X){return Po(X)?EA(X):lA(X)}function _y(X){for(var re=X.length;re--&&ff.test(X.charAt(re)););return re}var SA=Xp(eA);function TA(X){for(var re=Hp.lastIndex=0;Hp.test(X);)++re;return re}function EA(X){return X.match(Hp)||[]}function AA(X){return X.match(qE)||[]}var CA=function X(re){re=re==null?Ln:Ro.defaults(Ln.Object(),re,Ro.pick(Ln,ZE));var K=re.Array,be=re.Date,nt=re.Error,St=re.Function,xn=re.Math,Ft=re.Object,Qp=re.RegExp,PA=re.String,$r=re.TypeError,mf=K.prototype,LA=St.prototype,Oo=Ft.prototype,gf=re["__core-js_shared__"],_f=LA.toString,Rt=Oo.hasOwnProperty,RA=0,yy=function(){var o=/[^.]+$/.exec(gf&&gf.keys&&gf.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),yf=Oo.toString,OA=_f.call(Ft),IA=Ln._,DA=Qp("^"+_f.call(Rt).replace(ol,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xf=ny?re.Buffer:n,Na=re.Symbol,wf=re.Uint8Array,xy=xf?xf.allocUnsafe:n,bf=gy(Ft.getPrototypeOf,Ft),wy=Ft.create,by=Oo.propertyIsEnumerable,Mf=mf.splice,My=Na?Na.isConcatSpreadable:n,cl=Na?Na.iterator:n,Ss=Na?Na.toStringTag:n,Sf=function(){try{var o=Ps(Ft,"defineProperty");return o({},"",{}),o}catch(l){}}(),NA=re.clearTimeout!==Ln.clearTimeout&&re.clearTimeout,FA=be&&be.now!==Ln.Date.now&&be.now,BA=re.setTimeout!==Ln.setTimeout&&re.setTimeout,Tf=xn.ceil,Ef=xn.floor,ev=Ft.getOwnPropertySymbols,zA=xf?xf.isBuffer:n,Sy=re.isFinite,UA=mf.join,GA=gy(Ft.keys,Ft),wn=xn.max,zn=xn.min,HA=be.now,kA=re.parseInt,Ty=xn.random,WA=mf.reverse,tv=Ps(re,"DataView"),fl=Ps(re,"Map"),nv=Ps(re,"Promise"),Io=Ps(re,"Set"),hl=Ps(re,"WeakMap"),dl=Ps(Ft,"create"),Af=hl&&new hl,Do={},VA=Ls(tv),$A=Ls(fl),jA=Ls(nv),qA=Ls(Io),XA=Ls(hl),Cf=Na?Na.prototype:n,pl=Cf?Cf.valueOf:n,Ey=Cf?Cf.toString:n;function C(o){if(en(o)&&!rt(o)&&!(o instanceof yt)){if(o instanceof jr)return o;if(Rt.call(o,"__wrapped__"))return Ax(o)}return new jr(o)}var No=function(){function o(){}return function(l){if(!Zt(l))return{};if(wy)return wy(l);o.prototype=l;var p=new o;return o.prototype=n,p}}();function Pf(){}function jr(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}C.templateSettings={escape:or,evaluate:So,interpolate:Ji,variable:"",imports:{_:C}},C.prototype=Pf.prototype,C.prototype.constructor=C,jr.prototype=No(Pf.prototype),jr.prototype.constructor=jr;function yt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function YA(){var o=new yt(this.__wrapped__);return o.__actions__=ur(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ur(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ur(this.__views__),o}function ZA(){if(this.__filtered__){var o=new yt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function JA(){var o=this.__wrapped__.value(),l=this.__dir__,p=rt(o),x=l<0,T=p?o.length:0,O=l2(0,T,this.__views__),G=O.start,V=O.end,Y=V-G,se=x?V:G-1,oe=this.__iteratees__,ce=oe.length,ve=0,Oe=zn(Y,this.__takeCount__);if(!p||!x&&T==Y&&Oe==Y)return Zy(o,this.__actions__);var $e=[];e:for(;Y--&&ve<Oe;){se+=l;for(var lt=-1,je=o[se];++lt<ce;){var vt=oe[lt],xt=vt.iteratee,Ar=vt.type,er=xt(je);if(Ar==W)je=er;else if(!er){if(Ar==z)continue e;break e}}$e[ve++]=je}return $e}yt.prototype=No(Pf.prototype),yt.prototype.constructor=yt;function Ts(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var x=o[l];this.set(x[0],x[1])}}function KA(){this.__data__=dl?dl(null):{},this.size=0}function QA(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function eC(o){var l=this.__data__;if(dl){var p=l[o];return p===c?n:p}return Rt.call(l,o)?l[o]:n}function tC(o){var l=this.__data__;return dl?l[o]!==n:Rt.call(l,o)}function nC(o,l){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=dl&&l===n?c:l,this}Ts.prototype.clear=KA,Ts.prototype.delete=QA,Ts.prototype.get=eC,Ts.prototype.has=tC,Ts.prototype.set=nC;function Ki(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var x=o[l];this.set(x[0],x[1])}}function rC(){this.__data__=[],this.size=0}function iC(o){var l=this.__data__,p=Lf(l,o);if(p<0)return!1;var x=l.length-1;return p==x?l.pop():Mf.call(l,p,1),--this.size,!0}function aC(o){var l=this.__data__,p=Lf(l,o);return p<0?n:l[p][1]}function sC(o){return Lf(this.__data__,o)>-1}function oC(o,l){var p=this.__data__,x=Lf(p,o);return x<0?(++this.size,p.push([o,l])):p[x][1]=l,this}Ki.prototype.clear=rC,Ki.prototype.delete=iC,Ki.prototype.get=aC,Ki.prototype.has=sC,Ki.prototype.set=oC;function Qi(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var x=o[l];this.set(x[0],x[1])}}function uC(){this.size=0,this.__data__={hash:new Ts,map:new(fl||Ki),string:new Ts}}function lC(o){var l=kf(this,o).delete(o);return this.size-=l?1:0,l}function cC(o){return kf(this,o).get(o)}function fC(o){return kf(this,o).has(o)}function hC(o,l){var p=kf(this,o),x=p.size;return p.set(o,l),this.size+=p.size==x?0:1,this}Qi.prototype.clear=uC,Qi.prototype.delete=lC,Qi.prototype.get=cC,Qi.prototype.has=fC,Qi.prototype.set=hC;function Es(o){var l=-1,p=o==null?0:o.length;for(this.__data__=new Qi;++l<p;)this.add(o[l])}function dC(o){return this.__data__.set(o,c),this}function pC(o){return this.__data__.has(o)}Es.prototype.add=Es.prototype.push=dC,Es.prototype.has=pC;function ci(o){var l=this.__data__=new Ki(o);this.size=l.size}function vC(){this.__data__=new Ki,this.size=0}function mC(o){var l=this.__data__,p=l.delete(o);return this.size=l.size,p}function gC(o){return this.__data__.get(o)}function _C(o){return this.__data__.has(o)}function yC(o,l){var p=this.__data__;if(p instanceof Ki){var x=p.__data__;if(!fl||x.length<i-1)return x.push([o,l]),this.size=++p.size,this;p=this.__data__=new Qi(x)}return p.set(o,l),this.size=p.size,this}ci.prototype.clear=vC,ci.prototype.delete=mC,ci.prototype.get=gC,ci.prototype.has=_C,ci.prototype.set=yC;function Ay(o,l){var p=rt(o),x=!p&&Rs(o),T=!p&&!x&&Ga(o),O=!p&&!x&&!T&&Uo(o),G=p||x||T||O,V=G?Zp(o.length,PA):[],Y=V.length;for(var se in o)(l||Rt.call(o,se))&&!(G&&(se=="length"||T&&(se=="offset"||se=="parent")||O&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||ra(se,Y)))&&V.push(se);return V}function Cy(o){var l=o.length;return l?o[dv(0,l-1)]:n}function xC(o,l){return Wf(ur(o),As(l,0,o.length))}function wC(o){return Wf(ur(o))}function rv(o,l,p){(p!==n&&!fi(o[l],p)||p===n&&!(l in o))&&ea(o,l,p)}function vl(o,l,p){var x=o[l];(!(Rt.call(o,l)&&fi(x,p))||p===n&&!(l in o))&&ea(o,l,p)}function Lf(o,l){for(var p=o.length;p--;)if(fi(o[p][0],l))return p;return-1}function bC(o,l,p,x){return Fa(o,function(T,O,G){l(x,T,p(T),G)}),x}function Py(o,l){return o&&Ei(l,Tn(l),o)}function MC(o,l){return o&&Ei(l,cr(l),o)}function ea(o,l,p){l=="__proto__"&&Sf?Sf(o,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[l]=p}function iv(o,l){for(var p=-1,x=l.length,T=K(x),O=o==null;++p<x;)T[p]=O?n:zv(o,l[p]);return T}function As(o,l,p){return o===o&&(p!==n&&(o=o<=p?o:p),l!==n&&(o=o>=l?o:l)),o}function qr(o,l,p,x,T,O){var G,V=l&d,Y=l&v,se=l&m;if(p&&(G=T?p(o,x,T,O):p(o)),G!==n)return G;if(!Zt(o))return o;var oe=rt(o);if(oe){if(G=f2(o),!V)return ur(o,G)}else{var ce=Un(o),ve=ce==tt||ce==Mt;if(Ga(o))return Qy(o,V);if(ce==U||ce==Me||ve&&!T){if(G=Y||ve?{}:_x(o),!V)return Y?e2(o,MC(G,o)):QC(o,Py(G,o))}else{if(!Ht[ce])return T?o:{};G=h2(o,ce,V)}}O||(O=new ci);var Oe=O.get(o);if(Oe)return Oe;O.set(o,G),qx(o)?o.forEach(function(je){G.add(qr(je,l,p,je,o,O))}):$x(o)&&o.forEach(function(je,vt){G.set(vt,qr(je,l,p,vt,o,O))});var $e=se?Y?Sv:Mv:Y?cr:Tn,lt=oe?n:$e(o);return Vr(lt||o,function(je,vt){lt&&(vt=je,je=o[vt]),vl(G,vt,qr(je,l,p,vt,o,O))}),G}function SC(o){var l=Tn(o);return function(p){return Ly(p,o,l)}}function Ly(o,l,p){var x=p.length;if(o==null)return!x;for(o=Ft(o);x--;){var T=p[x],O=l[T],G=o[T];if(G===n&&!(T in o)||!O(G))return!1}return!0}function Ry(o,l,p){if(typeof o!="function")throw new $r(s);return bl(function(){o.apply(n,p)},l)}function ml(o,l,p,x){var T=-1,O=df,G=!0,V=o.length,Y=[],se=l.length;if(!V)return Y;p&&(l=qt(l,Sr(p))),x?(O=Vp,G=!1):l.length>=i&&(O=ll,G=!1,l=new Es(l));e:for(;++T<V;){var oe=o[T],ce=p==null?oe:p(oe);if(oe=x||oe!==0?oe:0,G&&ce===ce){for(var ve=se;ve--;)if(l[ve]===ce)continue e;Y.push(oe)}else O(l,ce,x)||Y.push(oe)}return Y}var Fa=ix(Ti),Oy=ix(sv,!0);function TC(o,l){var p=!0;return Fa(o,function(x,T,O){return p=!!l(x,T,O),p}),p}function Rf(o,l,p){for(var x=-1,T=o.length;++x<T;){var O=o[x],G=l(O);if(G!=null&&(V===n?G===G&&!Er(G):p(G,V)))var V=G,Y=O}return Y}function EC(o,l,p,x){var T=o.length;for(p=ut(p),p<0&&(p=-p>T?0:T+p),x=x===n||x>T?T:ut(x),x<0&&(x+=T),x=p>x?0:Yx(x);p<x;)o[p++]=l;return o}function Iy(o,l){var p=[];return Fa(o,function(x,T,O){l(x,T,O)&&p.push(x)}),p}function Rn(o,l,p,x,T){var O=-1,G=o.length;for(p||(p=p2),T||(T=[]);++O<G;){var V=o[O];l>0&&p(V)?l>1?Rn(V,l-1,p,x,T):Ia(T,V):x||(T[T.length]=V)}return T}var av=ax(),Dy=ax(!0);function Ti(o,l){return o&&av(o,l,Tn)}function sv(o,l){return o&&Dy(o,l,Tn)}function Of(o,l){return Oa(l,function(p){return ia(o[p])})}function Cs(o,l){l=za(l,o);for(var p=0,x=l.length;o!=null&&p<x;)o=o[Ai(l[p++])];return p&&p==x?o:n}function Ny(o,l,p){var x=l(o);return rt(o)?x:Ia(x,p(o))}function Kn(o){return o==null?o===n?We:Yt:Ss&&Ss in Ft(o)?u2(o):w2(o)}function ov(o,l){return o>l}function AC(o,l){return o!=null&&Rt.call(o,l)}function CC(o,l){return o!=null&&l in Ft(o)}function PC(o,l,p){return o>=zn(l,p)&&o<wn(l,p)}function uv(o,l,p){for(var x=p?Vp:df,T=o[0].length,O=o.length,G=O,V=K(O),Y=1/0,se=[];G--;){var oe=o[G];G&&l&&(oe=qt(oe,Sr(l))),Y=zn(oe.length,Y),V[G]=!p&&(l||T>=120&&oe.length>=120)?new Es(G&&oe):n}oe=o[0];var ce=-1,ve=V[0];e:for(;++ce<T&&se.length<Y;){var Oe=oe[ce],$e=l?l(Oe):Oe;if(Oe=p||Oe!==0?Oe:0,!(ve?ll(ve,$e):x(se,$e,p))){for(G=O;--G;){var lt=V[G];if(!(lt?ll(lt,$e):x(o[G],$e,p)))continue e}ve&&ve.push($e),se.push(Oe)}}return se}function LC(o,l,p,x){return Ti(o,function(T,O,G){l(x,p(T),O,G)}),x}function gl(o,l,p){l=za(l,o),o=bx(o,l);var x=o==null?o:o[Ai(Yr(l))];return x==null?n:Mr(x,o,p)}function Fy(o){return en(o)&&Kn(o)==Me}function RC(o){return en(o)&&Kn(o)==we}function OC(o){return en(o)&&Kn(o)==it}function _l(o,l,p,x,T){return o===l?!0:o==null||l==null||!en(o)&&!en(l)?o!==o&&l!==l:IC(o,l,p,x,_l,T)}function IC(o,l,p,x,T,O){var G=rt(o),V=rt(l),Y=G?ae:Un(o),se=V?ae:Un(l);Y=Y==Me?U:Y,se=se==Me?U:se;var oe=Y==U,ce=se==U,ve=Y==se;if(ve&&Ga(o)){if(!Ga(l))return!1;G=!0,oe=!1}if(ve&&!oe)return O||(O=new ci),G||Uo(o)?vx(o,l,p,x,T,O):s2(o,l,Y,p,x,T,O);if(!(p&_)){var Oe=oe&&Rt.call(o,"__wrapped__"),$e=ce&&Rt.call(l,"__wrapped__");if(Oe||$e){var lt=Oe?o.value():o,je=$e?l.value():l;return O||(O=new ci),T(lt,je,p,x,O)}}return ve?(O||(O=new ci),o2(o,l,p,x,T,O)):!1}function DC(o){return en(o)&&Un(o)==gt}function lv(o,l,p,x){var T=p.length,O=T,G=!x;if(o==null)return!O;for(o=Ft(o);T--;){var V=p[T];if(G&&V[2]?V[1]!==o[V[0]]:!(V[0]in o))return!1}for(;++T<O;){V=p[T];var Y=V[0],se=o[Y],oe=V[1];if(G&&V[2]){if(se===n&&!(Y in o))return!1}else{var ce=new ci;if(x)var ve=x(se,oe,Y,o,l,ce);if(!(ve===n?_l(oe,se,_|g,x,ce):ve))return!1}}return!0}function By(o){if(!Zt(o)||m2(o))return!1;var l=ia(o)?DA:ie;return l.test(Ls(o))}function NC(o){return en(o)&&Kn(o)==fe}function FC(o){return en(o)&&Un(o)==qe}function BC(o){return en(o)&&Yf(o.length)&&!!$t[Kn(o)]}function zy(o){return typeof o=="function"?o:o==null?fr:typeof o=="object"?rt(o)?Hy(o[0],o[1]):Gy(o):sw(o)}function cv(o){if(!wl(o))return GA(o);var l=[];for(var p in Ft(o))Rt.call(o,p)&&p!="constructor"&&l.push(p);return l}function zC(o){if(!Zt(o))return x2(o);var l=wl(o),p=[];for(var x in o)x=="constructor"&&(l||!Rt.call(o,x))||p.push(x);return p}function fv(o,l){return o<l}function Uy(o,l){var p=-1,x=lr(o)?K(o.length):[];return Fa(o,function(T,O,G){x[++p]=l(T,O,G)}),x}function Gy(o){var l=Ev(o);return l.length==1&&l[0][2]?xx(l[0][0],l[0][1]):function(p){return p===o||lv(p,o,l)}}function Hy(o,l){return Cv(o)&&yx(l)?xx(Ai(o),l):function(p){var x=zv(p,o);return x===n&&x===l?Uv(p,o):_l(l,x,_|g)}}function If(o,l,p,x,T){o!==l&&av(l,function(O,G){if(T||(T=new ci),Zt(O))UC(o,l,G,p,If,x,T);else{var V=x?x(Lv(o,G),O,G+"",o,l,T):n;V===n&&(V=O),rv(o,G,V)}},cr)}function UC(o,l,p,x,T,O,G){var V=Lv(o,p),Y=Lv(l,p),se=G.get(Y);if(se){rv(o,p,se);return}var oe=O?O(V,Y,p+"",o,l,G):n,ce=oe===n;if(ce){var ve=rt(Y),Oe=!ve&&Ga(Y),$e=!ve&&!Oe&&Uo(Y);oe=Y,ve||Oe||$e?rt(V)?oe=V:on(V)?oe=ur(V):Oe?(ce=!1,oe=Qy(Y,!0)):$e?(ce=!1,oe=ex(Y,!0)):oe=[]:Ml(Y)||Rs(Y)?(oe=V,Rs(V)?oe=Zx(V):(!Zt(V)||ia(V))&&(oe=_x(Y))):ce=!1}ce&&(G.set(Y,oe),T(oe,Y,x,O,G),G.delete(Y)),rv(o,p,oe)}function ky(o,l){var p=o.length;if(!!p)return l+=l<0?p:0,ra(l,p)?o[l]:n}function Wy(o,l,p){l.length?l=qt(l,function(O){return rt(O)?function(G){return Cs(G,O.length===1?O[0]:O)}:O}):l=[fr];var x=-1;l=qt(l,Sr(Ve()));var T=Uy(o,function(O,G,V){var Y=qt(l,function(se){return se(O)});return{criteria:Y,index:++x,value:O}});return hA(T,function(O,G){return KC(O,G,p)})}function GC(o,l){return Vy(o,l,function(p,x){return Uv(o,x)})}function Vy(o,l,p){for(var x=-1,T=l.length,O={};++x<T;){var G=l[x],V=Cs(o,G);p(V,G)&&yl(O,za(G,o),V)}return O}function HC(o){return function(l){return Cs(l,o)}}function hv(o,l,p,x){var T=x?fA:Co,O=-1,G=l.length,V=o;for(o===l&&(l=ur(l)),p&&(V=qt(o,Sr(p)));++O<G;)for(var Y=0,se=l[O],oe=p?p(se):se;(Y=T(V,oe,Y,x))>-1;)V!==o&&Mf.call(V,Y,1),Mf.call(o,Y,1);return o}function $y(o,l){for(var p=o?l.length:0,x=p-1;p--;){var T=l[p];if(p==x||T!==O){var O=T;ra(T)?Mf.call(o,T,1):mv(o,T)}}return o}function dv(o,l){return o+Ef(Ty()*(l-o+1))}function kC(o,l,p,x){for(var T=-1,O=wn(Tf((l-o)/(p||1)),0),G=K(O);O--;)G[x?O:++T]=o,o+=p;return G}function pv(o,l){var p="";if(!o||l<1||l>J)return p;do l%2&&(p+=o),l=Ef(l/2),l&&(o+=o);while(l);return p}function ht(o,l){return Rv(wx(o,l,fr),o+"")}function WC(o){return Cy(Go(o))}function VC(o,l){var p=Go(o);return Wf(p,As(l,0,p.length))}function yl(o,l,p,x){if(!Zt(o))return o;l=za(l,o);for(var T=-1,O=l.length,G=O-1,V=o;V!=null&&++T<O;){var Y=Ai(l[T]),se=p;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return o;if(T!=G){var oe=V[Y];se=x?x(oe,Y,V):n,se===n&&(se=Zt(oe)?oe:ra(l[T+1])?[]:{})}vl(V,Y,se),V=V[Y]}return o}var jy=Af?function(o,l){return Af.set(o,l),o}:fr,$C=Sf?function(o,l){return Sf(o,"toString",{configurable:!0,enumerable:!1,value:Hv(l),writable:!0})}:fr;function jC(o){return Wf(Go(o))}function Xr(o,l,p){var x=-1,T=o.length;l<0&&(l=-l>T?0:T+l),p=p>T?T:p,p<0&&(p+=T),T=l>p?0:p-l>>>0,l>>>=0;for(var O=K(T);++x<T;)O[x]=o[x+l];return O}function qC(o,l){var p;return Fa(o,function(x,T,O){return p=l(x,T,O),!p}),!!p}function Df(o,l,p){var x=0,T=o==null?x:o.length;if(typeof l=="number"&&l===l&&T<=Fe){for(;x<T;){var O=x+T>>>1,G=o[O];G!==null&&!Er(G)&&(p?G<=l:G<l)?x=O+1:T=O}return T}return vv(o,l,fr,p)}function vv(o,l,p,x){var T=0,O=o==null?0:o.length;if(O===0)return 0;l=p(l);for(var G=l!==l,V=l===null,Y=Er(l),se=l===n;T<O;){var oe=Ef((T+O)/2),ce=p(o[oe]),ve=ce!==n,Oe=ce===null,$e=ce===ce,lt=Er(ce);if(G)var je=x||$e;else se?je=$e&&(x||ve):V?je=$e&&ve&&(x||!Oe):Y?je=$e&&ve&&!Oe&&(x||!lt):Oe||lt?je=!1:je=x?ce<=l:ce<l;je?T=oe+1:O=oe}return zn(O,_e)}function qy(o,l){for(var p=-1,x=o.length,T=0,O=[];++p<x;){var G=o[p],V=l?l(G):G;if(!p||!fi(V,Y)){var Y=V;O[T++]=G===0?0:G}}return O}function Xy(o){return typeof o=="number"?o:Er(o)?ne:+o}function Tr(o){if(typeof o=="string")return o;if(rt(o))return qt(o,Tr)+"";if(Er(o))return Ey?Ey.call(o):"";var l=o+"";return l=="0"&&1/o==-ee?"-0":l}function Ba(o,l,p){var x=-1,T=df,O=o.length,G=!0,V=[],Y=V;if(p)G=!1,T=Vp;else if(O>=i){var se=l?null:i2(o);if(se)return vf(se);G=!1,T=ll,Y=new Es}else Y=l?[]:V;e:for(;++x<O;){var oe=o[x],ce=l?l(oe):oe;if(oe=p||oe!==0?oe:0,G&&ce===ce){for(var ve=Y.length;ve--;)if(Y[ve]===ce)continue e;l&&Y.push(ce),V.push(oe)}else T(Y,ce,p)||(Y!==V&&Y.push(ce),V.push(oe))}return V}function mv(o,l){return l=za(l,o),o=bx(o,l),o==null||delete o[Ai(Yr(l))]}function Yy(o,l,p,x){return yl(o,l,p(Cs(o,l)),x)}function Nf(o,l,p,x){for(var T=o.length,O=x?T:-1;(x?O--:++O<T)&&l(o[O],O,o););return p?Xr(o,x?0:O,x?O+1:T):Xr(o,x?O+1:0,x?T:O)}function Zy(o,l){var p=o;return p instanceof yt&&(p=p.value()),$p(l,function(x,T){return T.func.apply(T.thisArg,Ia([x],T.args))},p)}function gv(o,l,p){var x=o.length;if(x<2)return x?Ba(o[0]):[];for(var T=-1,O=K(x);++T<x;)for(var G=o[T],V=-1;++V<x;)V!=T&&(O[T]=ml(O[T]||G,o[V],l,p));return Ba(Rn(O,1),l,p)}function Jy(o,l,p){for(var x=-1,T=o.length,O=l.length,G={};++x<T;){var V=x<O?l[x]:n;p(G,o[x],V)}return G}function _v(o){return on(o)?o:[]}function yv(o){return typeof o=="function"?o:fr}function za(o,l){return rt(o)?o:Cv(o,l)?[o]:Ex(Et(o))}var XC=ht;function Ua(o,l,p){var x=o.length;return p=p===n?x:p,!l&&p>=x?o:Xr(o,l,p)}var Ky=NA||function(o){return Ln.clearTimeout(o)};function Qy(o,l){if(l)return o.slice();var p=o.length,x=xy?xy(p):new o.constructor(p);return o.copy(x),x}function xv(o){var l=new o.constructor(o.byteLength);return new wf(l).set(new wf(o)),l}function YC(o,l){var p=l?xv(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function ZC(o){var l=new o.constructor(o.source,A.exec(o));return l.lastIndex=o.lastIndex,l}function JC(o){return pl?Ft(pl.call(o)):{}}function ex(o,l){var p=l?xv(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function tx(o,l){if(o!==l){var p=o!==n,x=o===null,T=o===o,O=Er(o),G=l!==n,V=l===null,Y=l===l,se=Er(l);if(!V&&!se&&!O&&o>l||O&&G&&Y&&!V&&!se||x&&G&&Y||!p&&Y||!T)return 1;if(!x&&!O&&!se&&o<l||se&&p&&T&&!x&&!O||V&&p&&T||!G&&T||!Y)return-1}return 0}function KC(o,l,p){for(var x=-1,T=o.criteria,O=l.criteria,G=T.length,V=p.length;++x<G;){var Y=tx(T[x],O[x]);if(Y){if(x>=V)return Y;var se=p[x];return Y*(se=="desc"?-1:1)}}return o.index-l.index}function nx(o,l,p,x){for(var T=-1,O=o.length,G=p.length,V=-1,Y=l.length,se=wn(O-G,0),oe=K(Y+se),ce=!x;++V<Y;)oe[V]=l[V];for(;++T<G;)(ce||T<O)&&(oe[p[T]]=o[T]);for(;se--;)oe[V++]=o[T++];return oe}function rx(o,l,p,x){for(var T=-1,O=o.length,G=-1,V=p.length,Y=-1,se=l.length,oe=wn(O-V,0),ce=K(oe+se),ve=!x;++T<oe;)ce[T]=o[T];for(var Oe=T;++Y<se;)ce[Oe+Y]=l[Y];for(;++G<V;)(ve||T<O)&&(ce[Oe+p[G]]=o[T++]);return ce}function ur(o,l){var p=-1,x=o.length;for(l||(l=K(x));++p<x;)l[p]=o[p];return l}function Ei(o,l,p,x){var T=!p;p||(p={});for(var O=-1,G=l.length;++O<G;){var V=l[O],Y=x?x(p[V],o[V],V,p,o):n;Y===n&&(Y=o[V]),T?ea(p,V,Y):vl(p,V,Y)}return p}function QC(o,l){return Ei(o,Av(o),l)}function e2(o,l){return Ei(o,mx(o),l)}function Ff(o,l){return function(p,x){var T=rt(p)?aA:bC,O=l?l():{};return T(p,o,Ve(x,2),O)}}function Fo(o){return ht(function(l,p){var x=-1,T=p.length,O=T>1?p[T-1]:n,G=T>2?p[2]:n;for(O=o.length>3&&typeof O=="function"?(T--,O):n,G&&Qn(p[0],p[1],G)&&(O=T<3?n:O,T=1),l=Ft(l);++x<T;){var V=p[x];V&&o(l,V,x,O)}return l})}function ix(o,l){return function(p,x){if(p==null)return p;if(!lr(p))return o(p,x);for(var T=p.length,O=l?T:-1,G=Ft(p);(l?O--:++O<T)&&x(G[O],O,G)!==!1;);return p}}function ax(o){return function(l,p,x){for(var T=-1,O=Ft(l),G=x(l),V=G.length;V--;){var Y=G[o?V:++T];if(p(O[Y],Y,O)===!1)break}return l}}function t2(o,l,p){var x=l&y,T=xl(o);function O(){var G=this&&this!==Ln&&this instanceof O?T:o;return G.apply(x?p:this,arguments)}return O}function sx(o){return function(l){l=Et(l);var p=Po(l)?li(l):n,x=p?p[0]:l.charAt(0),T=p?Ua(p,1).join(""):l.slice(1);return x[o]()+T}}function Bo(o){return function(l){return $p(iw(rw(l).replace($E,"")),o,"")}}function xl(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var p=No(o.prototype),x=o.apply(p,l);return Zt(x)?x:p}}function n2(o,l,p){var x=xl(o);function T(){for(var O=arguments.length,G=K(O),V=O,Y=zo(T);V--;)G[V]=arguments[V];var se=O<3&&G[0]!==Y&&G[O-1]!==Y?[]:Da(G,Y);if(O-=se.length,O<p)return fx(o,l,Bf,T.placeholder,n,G,se,n,n,p-O);var oe=this&&this!==Ln&&this instanceof T?x:o;return Mr(oe,this,G)}return T}function ox(o){return function(l,p,x){var T=Ft(l);if(!lr(l)){var O=Ve(p,3);l=Tn(l),p=function(V){return O(T[V],V,T)}}var G=o(l,p,x);return G>-1?T[O?l[G]:G]:n}}function ux(o){return na(function(l){var p=l.length,x=p,T=jr.prototype.thru;for(o&&l.reverse();x--;){var O=l[x];if(typeof O!="function")throw new $r(s);if(T&&!G&&Hf(O)=="wrapper")var G=new jr([],!0)}for(x=G?x:p;++x<p;){O=l[x];var V=Hf(O),Y=V=="wrapper"?Tv(O):n;Y&&Pv(Y[0])&&Y[1]==(D|E|b|L)&&!Y[4].length&&Y[9]==1?G=G[Hf(Y[0])].apply(G,Y[3]):G=O.length==1&&Pv(O)?G[V]():G.thru(O)}return function(){var se=arguments,oe=se[0];if(G&&se.length==1&&rt(oe))return G.plant(oe).value();for(var ce=0,ve=p?l[ce].apply(this,se):oe;++ce<p;)ve=l[ce].call(this,ve);return ve}})}function Bf(o,l,p,x,T,O,G,V,Y,se){var oe=l&D,ce=l&y,ve=l&w,Oe=l&(E|S),$e=l&F,lt=ve?n:xl(o);function je(){for(var vt=arguments.length,xt=K(vt),Ar=vt;Ar--;)xt[Ar]=arguments[Ar];if(Oe)var er=zo(je),Cr=pA(xt,er);if(x&&(xt=nx(xt,x,T,Oe)),O&&(xt=rx(xt,O,G,Oe)),vt-=Cr,Oe&&vt<se){var un=Da(xt,er);return fx(o,l,Bf,je.placeholder,p,xt,un,V,Y,se-vt)}var hi=ce?p:this,sa=ve?hi[o]:o;return vt=xt.length,V?xt=b2(xt,V):$e&&vt>1&&xt.reverse(),oe&&Y<vt&&(xt.length=Y),this&&this!==Ln&&this instanceof je&&(sa=lt||xl(sa)),sa.apply(hi,xt)}return je}function lx(o,l){return function(p,x){return LC(p,o,l(x),{})}}function zf(o,l){return function(p,x){var T;if(p===n&&x===n)return l;if(p!==n&&(T=p),x!==n){if(T===n)return x;typeof p=="string"||typeof x=="string"?(p=Tr(p),x=Tr(x)):(p=Xy(p),x=Xy(x)),T=o(p,x)}return T}}function wv(o){return na(function(l){return l=qt(l,Sr(Ve())),ht(function(p){var x=this;return o(l,function(T){return Mr(T,x,p)})})})}function Uf(o,l){l=l===n?" ":Tr(l);var p=l.length;if(p<2)return p?pv(l,o):l;var x=pv(l,Tf(o/Lo(l)));return Po(l)?Ua(li(x),0,o).join(""):x.slice(0,o)}function r2(o,l,p,x){var T=l&y,O=xl(o);function G(){for(var V=-1,Y=arguments.length,se=-1,oe=x.length,ce=K(oe+Y),ve=this&&this!==Ln&&this instanceof G?O:o;++se<oe;)ce[se]=x[se];for(;Y--;)ce[se++]=arguments[++V];return Mr(ve,T?p:this,ce)}return G}function cx(o){return function(l,p,x){return x&&typeof x!="number"&&Qn(l,p,x)&&(p=x=n),l=aa(l),p===n?(p=l,l=0):p=aa(p),x=x===n?l<p?1:-1:aa(x),kC(l,p,x,o)}}function Gf(o){return function(l,p){return typeof l=="string"&&typeof p=="string"||(l=Zr(l),p=Zr(p)),o(l,p)}}function fx(o,l,p,x,T,O,G,V,Y,se){var oe=l&E,ce=oe?G:n,ve=oe?n:G,Oe=oe?O:n,$e=oe?n:O;l|=oe?b:P,l&=~(oe?P:b),l&M||(l&=~(y|w));var lt=[o,l,T,Oe,ce,$e,ve,V,Y,se],je=p.apply(n,lt);return Pv(o)&&Mx(je,lt),je.placeholder=x,Sx(je,o,l)}function bv(o){var l=xn[o];return function(p,x){if(p=Zr(p),x=x==null?0:zn(ut(x),292),x&&Sy(p)){var T=(Et(p)+"e").split("e"),O=l(T[0]+"e"+(+T[1]+x));return T=(Et(O)+"e").split("e"),+(T[0]+"e"+(+T[1]-x))}return l(p)}}var i2=Io&&1/vf(new Io([,-0]))[1]==ee?function(o){return new Io(o)}:Vv;function hx(o){return function(l){var p=Un(l);return p==gt?Kp(l):p==qe?wA(l):dA(l,o(l))}}function ta(o,l,p,x,T,O,G,V){var Y=l&w;if(!Y&&typeof o!="function")throw new $r(s);var se=x?x.length:0;if(se||(l&=~(b|P),x=T=n),G=G===n?G:wn(ut(G),0),V=V===n?V:ut(V),se-=T?T.length:0,l&P){var oe=x,ce=T;x=T=n}var ve=Y?n:Tv(o),Oe=[o,l,p,x,T,oe,ce,O,G,V];if(ve&&y2(Oe,ve),o=Oe[0],l=Oe[1],p=Oe[2],x=Oe[3],T=Oe[4],V=Oe[9]=Oe[9]===n?Y?0:o.length:wn(Oe[9]-se,0),!V&&l&(E|S)&&(l&=~(E|S)),!l||l==y)var $e=t2(o,l,p);else l==E||l==S?$e=n2(o,l,V):(l==b||l==(y|b))&&!T.length?$e=r2(o,l,p,x):$e=Bf.apply(n,Oe);var lt=ve?jy:Mx;return Sx(lt($e,Oe),o,l)}function dx(o,l,p,x){return o===n||fi(o,Oo[p])&&!Rt.call(x,p)?l:o}function px(o,l,p,x,T,O){return Zt(o)&&Zt(l)&&(O.set(l,o),If(o,l,n,px,O),O.delete(l)),o}function a2(o){return Ml(o)?n:o}function vx(o,l,p,x,T,O){var G=p&_,V=o.length,Y=l.length;if(V!=Y&&!(G&&Y>V))return!1;var se=O.get(o),oe=O.get(l);if(se&&oe)return se==l&&oe==o;var ce=-1,ve=!0,Oe=p&g?new Es:n;for(O.set(o,l),O.set(l,o);++ce<V;){var $e=o[ce],lt=l[ce];if(x)var je=G?x(lt,$e,ce,l,o,O):x($e,lt,ce,o,l,O);if(je!==n){if(je)continue;ve=!1;break}if(Oe){if(!jp(l,function(vt,xt){if(!ll(Oe,xt)&&($e===vt||T($e,vt,p,x,O)))return Oe.push(xt)})){ve=!1;break}}else if(!($e===lt||T($e,lt,p,x,O))){ve=!1;break}}return O.delete(o),O.delete(l),ve}function s2(o,l,p,x,T,O,G){switch(p){case Le:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case we:return!(o.byteLength!=l.byteLength||!O(new wf(o),new wf(l)));case Ue:case it:case Cn:return fi(+o,+l);case he:return o.name==l.name&&o.message==l.message;case fe:case Ne:return o==l+"";case gt:var V=Kp;case qe:var Y=x&_;if(V||(V=vf),o.size!=l.size&&!Y)return!1;var se=G.get(o);if(se)return se==l;x|=g,G.set(o,l);var oe=vx(V(o),V(l),x,T,O,G);return G.delete(o),oe;case Pe:if(pl)return pl.call(o)==pl.call(l)}return!1}function o2(o,l,p,x,T,O){var G=p&_,V=Mv(o),Y=V.length,se=Mv(l),oe=se.length;if(Y!=oe&&!G)return!1;for(var ce=Y;ce--;){var ve=V[ce];if(!(G?ve in l:Rt.call(l,ve)))return!1}var Oe=O.get(o),$e=O.get(l);if(Oe&&$e)return Oe==l&&$e==o;var lt=!0;O.set(o,l),O.set(l,o);for(var je=G;++ce<Y;){ve=V[ce];var vt=o[ve],xt=l[ve];if(x)var Ar=G?x(xt,vt,ve,l,o,O):x(vt,xt,ve,o,l,O);if(!(Ar===n?vt===xt||T(vt,xt,p,x,O):Ar)){lt=!1;break}je||(je=ve=="constructor")}if(lt&&!je){var er=o.constructor,Cr=l.constructor;er!=Cr&&"constructor"in o&&"constructor"in l&&!(typeof er=="function"&&er instanceof er&&typeof Cr=="function"&&Cr instanceof Cr)&&(lt=!1)}return O.delete(o),O.delete(l),lt}function na(o){return Rv(wx(o,n,Lx),o+"")}function Mv(o){return Ny(o,Tn,Av)}function Sv(o){return Ny(o,cr,mx)}var Tv=Af?function(o){return Af.get(o)}:Vv;function Hf(o){for(var l=o.name+"",p=Do[l],x=Rt.call(Do,l)?p.length:0;x--;){var T=p[x],O=T.func;if(O==null||O==o)return T.name}return l}function zo(o){var l=Rt.call(C,"placeholder")?C:o;return l.placeholder}function Ve(){var o=C.iteratee||kv;return o=o===kv?zy:o,arguments.length?o(arguments[0],arguments[1]):o}function kf(o,l){var p=o.__data__;return v2(l)?p[typeof l=="string"?"string":"hash"]:p.map}function Ev(o){for(var l=Tn(o),p=l.length;p--;){var x=l[p],T=o[x];l[p]=[x,T,yx(T)]}return l}function Ps(o,l){var p=_A(o,l);return By(p)?p:n}function u2(o){var l=Rt.call(o,Ss),p=o[Ss];try{o[Ss]=n;var x=!0}catch(O){}var T=yf.call(o);return x&&(l?o[Ss]=p:delete o[Ss]),T}var Av=ev?function(o){return o==null?[]:(o=Ft(o),Oa(ev(o),function(l){return by.call(o,l)}))}:$v,mx=ev?function(o){for(var l=[];o;)Ia(l,Av(o)),o=bf(o);return l}:$v,Un=Kn;(tv&&Un(new tv(new ArrayBuffer(1)))!=Le||fl&&Un(new fl)!=gt||nv&&Un(nv.resolve())!=k||Io&&Un(new Io)!=qe||hl&&Un(new hl)!=at)&&(Un=function(o){var l=Kn(o),p=l==U?o.constructor:n,x=p?Ls(p):"";if(x)switch(x){case VA:return Le;case $A:return gt;case jA:return k;case qA:return qe;case XA:return at}return l});function l2(o,l,p){for(var x=-1,T=p.length;++x<T;){var O=p[x],G=O.size;switch(O.type){case"drop":o+=G;break;case"dropRight":l-=G;break;case"take":l=zn(l,o+G);break;case"takeRight":o=wn(o,l-G);break}}return{start:o,end:l}}function c2(o){var l=o.match(Rp);return l?l[1].split(Op):[]}function gx(o,l,p){l=za(l,o);for(var x=-1,T=l.length,O=!1;++x<T;){var G=Ai(l[x]);if(!(O=o!=null&&p(o,G)))break;o=o[G]}return O||++x!=T?O:(T=o==null?0:o.length,!!T&&Yf(T)&&ra(G,T)&&(rt(o)||Rs(o)))}function f2(o){var l=o.length,p=new o.constructor(l);return l&&typeof o[0]=="string"&&Rt.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function _x(o){return typeof o.constructor=="function"&&!wl(o)?No(bf(o)):{}}function h2(o,l,p){var x=o.constructor;switch(l){case we:return xv(o);case Ue:case it:return new x(+o);case Le:return YC(o,p);case Ce:case $:case de:case Ae:case Ye:case Te:case pt:case Ct:case Nt:return ex(o,p);case gt:return new x;case Cn:case Ne:return new x(o);case fe:return ZC(o);case qe:return new x;case Pe:return JC(o)}}function d2(o,l){var p=l.length;if(!p)return o;var x=p-1;return l[x]=(p>1?"& ":"")+l[x],l=l.join(p>2?", ":" "),o.replace(Lp,`{
/* [wrapped with `+l+`] */
`)}function p2(o){return rt(o)||Rs(o)||!!(My&&o&&o[My])}function ra(o,l){var p=typeof o;return l=l==null?J:l,!!l&&(p=="number"||p!="symbol"&&He.test(o))&&o>-1&&o%1==0&&o<l}function Qn(o,l,p){if(!Zt(p))return!1;var x=typeof l;return(x=="number"?lr(p)&&ra(l,p.length):x=="string"&&l in p)?fi(p[l],o):!1}function Cv(o,l){if(rt(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||Er(o)?!0:Ap.test(o)||!Ep.test(o)||l!=null&&o in Ft(l)}function v2(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function Pv(o){var l=Hf(o),p=C[l];if(typeof p!="function"||!(l in yt.prototype))return!1;if(o===p)return!0;var x=Tv(p);return!!x&&o===x[0]}function m2(o){return!!yy&&yy in o}var g2=gf?ia:jv;function wl(o){var l=o&&o.constructor,p=typeof l=="function"&&l.prototype||Oo;return o===p}function yx(o){return o===o&&!Zt(o)}function xx(o,l){return function(p){return p==null?!1:p[o]===l&&(l!==n||o in Ft(p))}}function _2(o){var l=qf(o,function(x){return p.size===f&&p.clear(),x}),p=l.cache;return l}function y2(o,l){var p=o[1],x=l[1],T=p|x,O=T<(y|w|D),G=x==D&&p==E||x==D&&p==L&&o[7].length<=l[8]||x==(D|L)&&l[7].length<=l[8]&&p==E;if(!(O||G))return o;x&y&&(o[2]=l[2],T|=p&y?0:M);var V=l[3];if(V){var Y=o[3];o[3]=Y?nx(Y,V,l[4]):V,o[4]=Y?Da(o[3],h):l[4]}return V=l[5],V&&(Y=o[5],o[5]=Y?rx(Y,V,l[6]):V,o[6]=Y?Da(o[5],h):l[6]),V=l[7],V&&(o[7]=V),x&D&&(o[8]=o[8]==null?l[8]:zn(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=T,o}function x2(o){var l=[];if(o!=null)for(var p in Ft(o))l.push(p);return l}function w2(o){return yf.call(o)}function wx(o,l,p){return l=wn(l===n?o.length-1:l,0),function(){for(var x=arguments,T=-1,O=wn(x.length-l,0),G=K(O);++T<O;)G[T]=x[l+T];T=-1;for(var V=K(l+1);++T<l;)V[T]=x[T];return V[l]=p(G),Mr(o,this,V)}}function bx(o,l){return l.length<2?o:Cs(o,Xr(l,0,-1))}function b2(o,l){for(var p=o.length,x=zn(l.length,p),T=ur(o);x--;){var O=l[x];o[x]=ra(O,p)?T[O]:n}return o}function Lv(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var Mx=Tx(jy),bl=BA||function(o,l){return Ln.setTimeout(o,l)},Rv=Tx($C);function Sx(o,l,p){var x=l+"";return Rv(o,d2(x,M2(c2(x),p)))}function Tx(o){var l=0,p=0;return function(){var x=HA(),T=N-(x-p);if(p=x,T>0){if(++l>=I)return arguments[0]}else l=0;return o.apply(n,arguments)}}function Wf(o,l){var p=-1,x=o.length,T=x-1;for(l=l===n?x:l;++p<l;){var O=dv(p,T),G=o[O];o[O]=o[p],o[p]=G}return o.length=l,o}var Ex=_2(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(Cp,function(p,x,T,O){l.push(T?O.replace(Np,"$1"):x||p)}),l});function Ai(o){if(typeof o=="string"||Er(o))return o;var l=o+"";return l=="0"&&1/o==-ee?"-0":l}function Ls(o){if(o!=null){try{return _f.call(o)}catch(l){}try{return o+""}catch(l){}}return""}function M2(o,l){return Vr(De,function(p){var x="_."+p[0];l&p[1]&&!df(o,x)&&o.push(x)}),o.sort()}function Ax(o){if(o instanceof yt)return o.clone();var l=new jr(o.__wrapped__,o.__chain__);return l.__actions__=ur(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function S2(o,l,p){(p?Qn(o,l,p):l===n)?l=1:l=wn(ut(l),0);var x=o==null?0:o.length;if(!x||l<1)return[];for(var T=0,O=0,G=K(Tf(x/l));T<x;)G[O++]=Xr(o,T,T+=l);return G}function T2(o){for(var l=-1,p=o==null?0:o.length,x=0,T=[];++l<p;){var O=o[l];O&&(T[x++]=O)}return T}function E2(){var o=arguments.length;if(!o)return[];for(var l=K(o-1),p=arguments[0],x=o;x--;)l[x-1]=arguments[x];return Ia(rt(p)?ur(p):[p],Rn(l,1))}var A2=ht(function(o,l){return on(o)?ml(o,Rn(l,1,on,!0)):[]}),C2=ht(function(o,l){var p=Yr(l);return on(p)&&(p=n),on(o)?ml(o,Rn(l,1,on,!0),Ve(p,2)):[]}),P2=ht(function(o,l){var p=Yr(l);return on(p)&&(p=n),on(o)?ml(o,Rn(l,1,on,!0),n,p):[]});function L2(o,l,p){var x=o==null?0:o.length;return x?(l=p||l===n?1:ut(l),Xr(o,l<0?0:l,x)):[]}function R2(o,l,p){var x=o==null?0:o.length;return x?(l=p||l===n?1:ut(l),l=x-l,Xr(o,0,l<0?0:l)):[]}function O2(o,l){return o&&o.length?Nf(o,Ve(l,3),!0,!0):[]}function I2(o,l){return o&&o.length?Nf(o,Ve(l,3),!0):[]}function D2(o,l,p,x){var T=o==null?0:o.length;return T?(p&&typeof p!="number"&&Qn(o,l,p)&&(p=0,x=T),EC(o,l,p,x)):[]}function Cx(o,l,p){var x=o==null?0:o.length;if(!x)return-1;var T=p==null?0:ut(p);return T<0&&(T=wn(x+T,0)),pf(o,Ve(l,3),T)}function Px(o,l,p){var x=o==null?0:o.length;if(!x)return-1;var T=x-1;return p!==n&&(T=ut(p),T=p<0?wn(x+T,0):zn(T,x-1)),pf(o,Ve(l,3),T,!0)}function Lx(o){var l=o==null?0:o.length;return l?Rn(o,1):[]}function N2(o){var l=o==null?0:o.length;return l?Rn(o,ee):[]}function F2(o,l){var p=o==null?0:o.length;return p?(l=l===n?1:ut(l),Rn(o,l)):[]}function B2(o){for(var l=-1,p=o==null?0:o.length,x={};++l<p;){var T=o[l];x[T[0]]=T[1]}return x}function Rx(o){return o&&o.length?o[0]:n}function z2(o,l,p){var x=o==null?0:o.length;if(!x)return-1;var T=p==null?0:ut(p);return T<0&&(T=wn(x+T,0)),Co(o,l,T)}function U2(o){var l=o==null?0:o.length;return l?Xr(o,0,-1):[]}var G2=ht(function(o){var l=qt(o,_v);return l.length&&l[0]===o[0]?uv(l):[]}),H2=ht(function(o){var l=Yr(o),p=qt(o,_v);return l===Yr(p)?l=n:p.pop(),p.length&&p[0]===o[0]?uv(p,Ve(l,2)):[]}),k2=ht(function(o){var l=Yr(o),p=qt(o,_v);return l=typeof l=="function"?l:n,l&&p.pop(),p.length&&p[0]===o[0]?uv(p,n,l):[]});function W2(o,l){return o==null?"":UA.call(o,l)}function Yr(o){var l=o==null?0:o.length;return l?o[l-1]:n}function V2(o,l,p){var x=o==null?0:o.length;if(!x)return-1;var T=x;return p!==n&&(T=ut(p),T=T<0?wn(x+T,0):zn(T,x-1)),l===l?MA(o,l,T):pf(o,fy,T,!0)}function $2(o,l){return o&&o.length?ky(o,ut(l)):n}var j2=ht(Ox);function Ox(o,l){return o&&o.length&&l&&l.length?hv(o,l):o}function q2(o,l,p){return o&&o.length&&l&&l.length?hv(o,l,Ve(p,2)):o}function X2(o,l,p){return o&&o.length&&l&&l.length?hv(o,l,n,p):o}var Y2=na(function(o,l){var p=o==null?0:o.length,x=iv(o,l);return $y(o,qt(l,function(T){return ra(T,p)?+T:T}).sort(tx)),x});function Z2(o,l){var p=[];if(!(o&&o.length))return p;var x=-1,T=[],O=o.length;for(l=Ve(l,3);++x<O;){var G=o[x];l(G,x,o)&&(p.push(G),T.push(x))}return $y(o,T),p}function Ov(o){return o==null?o:WA.call(o)}function J2(o,l,p){var x=o==null?0:o.length;return x?(p&&typeof p!="number"&&Qn(o,l,p)?(l=0,p=x):(l=l==null?0:ut(l),p=p===n?x:ut(p)),Xr(o,l,p)):[]}function K2(o,l){return Df(o,l)}function Q2(o,l,p){return vv(o,l,Ve(p,2))}function eP(o,l){var p=o==null?0:o.length;if(p){var x=Df(o,l);if(x<p&&fi(o[x],l))return x}return-1}function tP(o,l){return Df(o,l,!0)}function nP(o,l,p){return vv(o,l,Ve(p,2),!0)}function rP(o,l){var p=o==null?0:o.length;if(p){var x=Df(o,l,!0)-1;if(fi(o[x],l))return x}return-1}function iP(o){return o&&o.length?qy(o):[]}function aP(o,l){return o&&o.length?qy(o,Ve(l,2)):[]}function sP(o){var l=o==null?0:o.length;return l?Xr(o,1,l):[]}function oP(o,l,p){return o&&o.length?(l=p||l===n?1:ut(l),Xr(o,0,l<0?0:l)):[]}function uP(o,l,p){var x=o==null?0:o.length;return x?(l=p||l===n?1:ut(l),l=x-l,Xr(o,l<0?0:l,x)):[]}function lP(o,l){return o&&o.length?Nf(o,Ve(l,3),!1,!0):[]}function cP(o,l){return o&&o.length?Nf(o,Ve(l,3)):[]}var fP=ht(function(o){return Ba(Rn(o,1,on,!0))}),hP=ht(function(o){var l=Yr(o);return on(l)&&(l=n),Ba(Rn(o,1,on,!0),Ve(l,2))}),dP=ht(function(o){var l=Yr(o);return l=typeof l=="function"?l:n,Ba(Rn(o,1,on,!0),n,l)});function pP(o){return o&&o.length?Ba(o):[]}function vP(o,l){return o&&o.length?Ba(o,Ve(l,2)):[]}function mP(o,l){return l=typeof l=="function"?l:n,o&&o.length?Ba(o,n,l):[]}function Iv(o){if(!(o&&o.length))return[];var l=0;return o=Oa(o,function(p){if(on(p))return l=wn(p.length,l),!0}),Zp(l,function(p){return qt(o,qp(p))})}function Ix(o,l){if(!(o&&o.length))return[];var p=Iv(o);return l==null?p:qt(p,function(x){return Mr(l,n,x)})}var gP=ht(function(o,l){return on(o)?ml(o,l):[]}),_P=ht(function(o){return gv(Oa(o,on))}),yP=ht(function(o){var l=Yr(o);return on(l)&&(l=n),gv(Oa(o,on),Ve(l,2))}),xP=ht(function(o){var l=Yr(o);return l=typeof l=="function"?l:n,gv(Oa(o,on),n,l)}),wP=ht(Iv);function bP(o,l){return Jy(o||[],l||[],vl)}function MP(o,l){return Jy(o||[],l||[],yl)}var SP=ht(function(o){var l=o.length,p=l>1?o[l-1]:n;return p=typeof p=="function"?(o.pop(),p):n,Ix(o,p)});function Dx(o){var l=C(o);return l.__chain__=!0,l}function TP(o,l){return l(o),o}function Vf(o,l){return l(o)}var EP=na(function(o){var l=o.length,p=l?o[0]:0,x=this.__wrapped__,T=function(O){return iv(O,o)};return l>1||this.__actions__.length||!(x instanceof yt)||!ra(p)?this.thru(T):(x=x.slice(p,+p+(l?1:0)),x.__actions__.push({func:Vf,args:[T],thisArg:n}),new jr(x,this.__chain__).thru(function(O){return l&&!O.length&&O.push(n),O}))});function AP(){return Dx(this)}function CP(){return new jr(this.value(),this.__chain__)}function PP(){this.__values__===n&&(this.__values__=Xx(this.value()));var o=this.__index__>=this.__values__.length,l=o?n:this.__values__[this.__index__++];return{done:o,value:l}}function LP(){return this}function RP(o){for(var l,p=this;p instanceof Pf;){var x=Ax(p);x.__index__=0,x.__values__=n,l?T.__wrapped__=x:l=x;var T=x;p=p.__wrapped__}return T.__wrapped__=o,l}function OP(){var o=this.__wrapped__;if(o instanceof yt){var l=o;return this.__actions__.length&&(l=new yt(this)),l=l.reverse(),l.__actions__.push({func:Vf,args:[Ov],thisArg:n}),new jr(l,this.__chain__)}return this.thru(Ov)}function IP(){return Zy(this.__wrapped__,this.__actions__)}var DP=Ff(function(o,l,p){Rt.call(o,p)?++o[p]:ea(o,p,1)});function NP(o,l,p){var x=rt(o)?ly:TC;return p&&Qn(o,l,p)&&(l=n),x(o,Ve(l,3))}function FP(o,l){var p=rt(o)?Oa:Iy;return p(o,Ve(l,3))}var BP=ox(Cx),zP=ox(Px);function UP(o,l){return Rn($f(o,l),1)}function GP(o,l){return Rn($f(o,l),ee)}function HP(o,l,p){return p=p===n?1:ut(p),Rn($f(o,l),p)}function Nx(o,l){var p=rt(o)?Vr:Fa;return p(o,Ve(l,3))}function Fx(o,l){var p=rt(o)?sA:Oy;return p(o,Ve(l,3))}var kP=Ff(function(o,l,p){Rt.call(o,p)?o[p].push(l):ea(o,p,[l])});function WP(o,l,p,x){o=lr(o)?o:Go(o),p=p&&!x?ut(p):0;var T=o.length;return p<0&&(p=wn(T+p,0)),Zf(o)?p<=T&&o.indexOf(l,p)>-1:!!T&&Co(o,l,p)>-1}var VP=ht(function(o,l,p){var x=-1,T=typeof l=="function",O=lr(o)?K(o.length):[];return Fa(o,function(G){O[++x]=T?Mr(l,G,p):gl(G,l,p)}),O}),$P=Ff(function(o,l,p){ea(o,p,l)});function $f(o,l){var p=rt(o)?qt:Uy;return p(o,Ve(l,3))}function jP(o,l,p,x){return o==null?[]:(rt(l)||(l=l==null?[]:[l]),p=x?n:p,rt(p)||(p=p==null?[]:[p]),Wy(o,l,p))}var qP=Ff(function(o,l,p){o[p?0:1].push(l)},function(){return[[],[]]});function XP(o,l,p){var x=rt(o)?$p:dy,T=arguments.length<3;return x(o,Ve(l,4),p,T,Fa)}function YP(o,l,p){var x=rt(o)?oA:dy,T=arguments.length<3;return x(o,Ve(l,4),p,T,Oy)}function ZP(o,l){var p=rt(o)?Oa:Iy;return p(o,Xf(Ve(l,3)))}function JP(o){var l=rt(o)?Cy:WC;return l(o)}function KP(o,l,p){(p?Qn(o,l,p):l===n)?l=1:l=ut(l);var x=rt(o)?xC:VC;return x(o,l)}function QP(o){var l=rt(o)?wC:jC;return l(o)}function eL(o){if(o==null)return 0;if(lr(o))return Zf(o)?Lo(o):o.length;var l=Un(o);return l==gt||l==qe?o.size:cv(o).length}function tL(o,l,p){var x=rt(o)?jp:qC;return p&&Qn(o,l,p)&&(l=n),x(o,Ve(l,3))}var nL=ht(function(o,l){if(o==null)return[];var p=l.length;return p>1&&Qn(o,l[0],l[1])?l=[]:p>2&&Qn(l[0],l[1],l[2])&&(l=[l[0]]),Wy(o,Rn(l,1),[])}),jf=FA||function(){return Ln.Date.now()};function rL(o,l){if(typeof l!="function")throw new $r(s);return o=ut(o),function(){if(--o<1)return l.apply(this,arguments)}}function Bx(o,l,p){return l=p?n:l,l=o&&l==null?o.length:l,ta(o,D,n,n,n,n,l)}function zx(o,l){var p;if(typeof l!="function")throw new $r(s);return o=ut(o),function(){return--o>0&&(p=l.apply(this,arguments)),o<=1&&(l=n),p}}var Dv=ht(function(o,l,p){var x=y;if(p.length){var T=Da(p,zo(Dv));x|=b}return ta(o,x,l,p,T)}),Ux=ht(function(o,l,p){var x=y|w;if(p.length){var T=Da(p,zo(Ux));x|=b}return ta(l,x,o,p,T)});function Gx(o,l,p){l=p?n:l;var x=ta(o,E,n,n,n,n,n,l);return x.placeholder=Gx.placeholder,x}function Hx(o,l,p){l=p?n:l;var x=ta(o,S,n,n,n,n,n,l);return x.placeholder=Hx.placeholder,x}function kx(o,l,p){var x,T,O,G,V,Y,se=0,oe=!1,ce=!1,ve=!0;if(typeof o!="function")throw new $r(s);l=Zr(l)||0,Zt(p)&&(oe=!!p.leading,ce="maxWait"in p,O=ce?wn(Zr(p.maxWait)||0,l):O,ve="trailing"in p?!!p.trailing:ve);function Oe(un){var hi=x,sa=T;return x=T=n,se=un,G=o.apply(sa,hi),G}function $e(un){return se=un,V=bl(vt,l),oe?Oe(un):G}function lt(un){var hi=un-Y,sa=un-se,ow=l-hi;return ce?zn(ow,O-sa):ow}function je(un){var hi=un-Y,sa=un-se;return Y===n||hi>=l||hi<0||ce&&sa>=O}function vt(){var un=jf();if(je(un))return xt(un);V=bl(vt,lt(un))}function xt(un){return V=n,ve&&x?Oe(un):(x=T=n,G)}function Ar(){V!==n&&Ky(V),se=0,x=Y=T=V=n}function er(){return V===n?G:xt(jf())}function Cr(){var un=jf(),hi=je(un);if(x=arguments,T=this,Y=un,hi){if(V===n)return $e(Y);if(ce)return Ky(V),V=bl(vt,l),Oe(Y)}return V===n&&(V=bl(vt,l)),G}return Cr.cancel=Ar,Cr.flush=er,Cr}var iL=ht(function(o,l){return Ry(o,1,l)}),aL=ht(function(o,l,p){return Ry(o,Zr(l)||0,p)});function sL(o){return ta(o,F)}function qf(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new $r(s);var p=function(){var x=arguments,T=l?l.apply(this,x):x[0],O=p.cache;if(O.has(T))return O.get(T);var G=o.apply(this,x);return p.cache=O.set(T,G)||O,G};return p.cache=new(qf.Cache||Qi),p}qf.Cache=Qi;function Xf(o){if(typeof o!="function")throw new $r(s);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function oL(o){return zx(2,o)}var uL=XC(function(o,l){l=l.length==1&&rt(l[0])?qt(l[0],Sr(Ve())):qt(Rn(l,1),Sr(Ve()));var p=l.length;return ht(function(x){for(var T=-1,O=zn(x.length,p);++T<O;)x[T]=l[T].call(this,x[T]);return Mr(o,this,x)})}),Nv=ht(function(o,l){var p=Da(l,zo(Nv));return ta(o,b,n,l,p)}),Wx=ht(function(o,l){var p=Da(l,zo(Wx));return ta(o,P,n,l,p)}),lL=na(function(o,l){return ta(o,L,n,n,n,l)});function cL(o,l){if(typeof o!="function")throw new $r(s);return l=l===n?l:ut(l),ht(o,l)}function fL(o,l){if(typeof o!="function")throw new $r(s);return l=l==null?0:wn(ut(l),0),ht(function(p){var x=p[l],T=Ua(p,0,l);return x&&Ia(T,x),Mr(o,this,T)})}function hL(o,l,p){var x=!0,T=!0;if(typeof o!="function")throw new $r(s);return Zt(p)&&(x="leading"in p?!!p.leading:x,T="trailing"in p?!!p.trailing:T),kx(o,l,{leading:x,maxWait:l,trailing:T})}function dL(o){return Bx(o,1)}function pL(o,l){return Nv(yv(l),o)}function vL(){if(!arguments.length)return[];var o=arguments[0];return rt(o)?o:[o]}function mL(o){return qr(o,m)}function gL(o,l){return l=typeof l=="function"?l:n,qr(o,m,l)}function _L(o){return qr(o,d|m)}function yL(o,l){return l=typeof l=="function"?l:n,qr(o,d|m,l)}function xL(o,l){return l==null||Ly(o,l,Tn(l))}function fi(o,l){return o===l||o!==o&&l!==l}var wL=Gf(ov),bL=Gf(function(o,l){return o>=l}),Rs=Fy(function(){return arguments}())?Fy:function(o){return en(o)&&Rt.call(o,"callee")&&!by.call(o,"callee")},rt=K.isArray,ML=ry?Sr(ry):RC;function lr(o){return o!=null&&Yf(o.length)&&!ia(o)}function on(o){return en(o)&&lr(o)}function SL(o){return o===!0||o===!1||en(o)&&Kn(o)==Ue}var Ga=zA||jv,TL=iy?Sr(iy):OC;function EL(o){return en(o)&&o.nodeType===1&&!Ml(o)}function AL(o){if(o==null)return!0;if(lr(o)&&(rt(o)||typeof o=="string"||typeof o.splice=="function"||Ga(o)||Uo(o)||Rs(o)))return!o.length;var l=Un(o);if(l==gt||l==qe)return!o.size;if(wl(o))return!cv(o).length;for(var p in o)if(Rt.call(o,p))return!1;return!0}function CL(o,l){return _l(o,l)}function PL(o,l,p){p=typeof p=="function"?p:n;var x=p?p(o,l):n;return x===n?_l(o,l,n,p):!!x}function Fv(o){if(!en(o))return!1;var l=Kn(o);return l==he||l==Be||typeof o.message=="string"&&typeof o.name=="string"&&!Ml(o)}function LL(o){return typeof o=="number"&&Sy(o)}function ia(o){if(!Zt(o))return!1;var l=Kn(o);return l==tt||l==Mt||l==ft||l==me}function Vx(o){return typeof o=="number"&&o==ut(o)}function Yf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=J}function Zt(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function en(o){return o!=null&&typeof o=="object"}var $x=ay?Sr(ay):DC;function RL(o,l){return o===l||lv(o,l,Ev(l))}function OL(o,l,p){return p=typeof p=="function"?p:n,lv(o,l,Ev(l),p)}function IL(o){return jx(o)&&o!=+o}function DL(o){if(g2(o))throw new nt(a);return By(o)}function NL(o){return o===null}function FL(o){return o==null}function jx(o){return typeof o=="number"||en(o)&&Kn(o)==Cn}function Ml(o){if(!en(o)||Kn(o)!=U)return!1;var l=bf(o);if(l===null)return!0;var p=Rt.call(l,"constructor")&&l.constructor;return typeof p=="function"&&p instanceof p&&_f.call(p)==OA}var Bv=sy?Sr(sy):NC;function BL(o){return Vx(o)&&o>=-J&&o<=J}var qx=oy?Sr(oy):FC;function Zf(o){return typeof o=="string"||!rt(o)&&en(o)&&Kn(o)==Ne}function Er(o){return typeof o=="symbol"||en(o)&&Kn(o)==Pe}var Uo=uy?Sr(uy):BC;function zL(o){return o===n}function UL(o){return en(o)&&Un(o)==at}function GL(o){return en(o)&&Kn(o)==Ge}var HL=Gf(fv),kL=Gf(function(o,l){return o<=l});function Xx(o){if(!o)return[];if(lr(o))return Zf(o)?li(o):ur(o);if(cl&&o[cl])return xA(o[cl]());var l=Un(o),p=l==gt?Kp:l==qe?vf:Go;return p(o)}function aa(o){if(!o)return o===0?o:0;if(o=Zr(o),o===ee||o===-ee){var l=o<0?-1:1;return l*te}return o===o?o:0}function ut(o){var l=aa(o),p=l%1;return l===l?p?l-p:l:0}function Yx(o){return o?As(ut(o),0,ue):0}function Zr(o){if(typeof o=="number")return o;if(Er(o))return ne;if(Zt(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=Zt(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=py(o);var p=j.test(o);return p||pe.test(o)?rA(o.slice(2),p?2:8):R.test(o)?ne:+o}function Zx(o){return Ei(o,cr(o))}function WL(o){return o?As(ut(o),-J,J):o===0?o:0}function Et(o){return o==null?"":Tr(o)}var VL=Fo(function(o,l){if(wl(l)||lr(l)){Ei(l,Tn(l),o);return}for(var p in l)Rt.call(l,p)&&vl(o,p,l[p])}),Jx=Fo(function(o,l){Ei(l,cr(l),o)}),Jf=Fo(function(o,l,p,x){Ei(l,cr(l),o,x)}),$L=Fo(function(o,l,p,x){Ei(l,Tn(l),o,x)}),jL=na(iv);function qL(o,l){var p=No(o);return l==null?p:Py(p,l)}var XL=ht(function(o,l){o=Ft(o);var p=-1,x=l.length,T=x>2?l[2]:n;for(T&&Qn(l[0],l[1],T)&&(x=1);++p<x;)for(var O=l[p],G=cr(O),V=-1,Y=G.length;++V<Y;){var se=G[V],oe=o[se];(oe===n||fi(oe,Oo[se])&&!Rt.call(o,se))&&(o[se]=O[se])}return o}),YL=ht(function(o){return o.push(n,px),Mr(Kx,n,o)});function ZL(o,l){return cy(o,Ve(l,3),Ti)}function JL(o,l){return cy(o,Ve(l,3),sv)}function KL(o,l){return o==null?o:av(o,Ve(l,3),cr)}function QL(o,l){return o==null?o:Dy(o,Ve(l,3),cr)}function e3(o,l){return o&&Ti(o,Ve(l,3))}function t3(o,l){return o&&sv(o,Ve(l,3))}function n3(o){return o==null?[]:Of(o,Tn(o))}function r3(o){return o==null?[]:Of(o,cr(o))}function zv(o,l,p){var x=o==null?n:Cs(o,l);return x===n?p:x}function i3(o,l){return o!=null&&gx(o,l,AC)}function Uv(o,l){return o!=null&&gx(o,l,CC)}var a3=lx(function(o,l,p){l!=null&&typeof l.toString!="function"&&(l=yf.call(l)),o[l]=p},Hv(fr)),s3=lx(function(o,l,p){l!=null&&typeof l.toString!="function"&&(l=yf.call(l)),Rt.call(o,l)?o[l].push(p):o[l]=[p]},Ve),o3=ht(gl);function Tn(o){return lr(o)?Ay(o):cv(o)}function cr(o){return lr(o)?Ay(o,!0):zC(o)}function u3(o,l){var p={};return l=Ve(l,3),Ti(o,function(x,T,O){ea(p,l(x,T,O),x)}),p}function l3(o,l){var p={};return l=Ve(l,3),Ti(o,function(x,T,O){ea(p,T,l(x,T,O))}),p}var c3=Fo(function(o,l,p){If(o,l,p)}),Kx=Fo(function(o,l,p,x){If(o,l,p,x)}),f3=na(function(o,l){var p={};if(o==null)return p;var x=!1;l=qt(l,function(O){return O=za(O,o),x||(x=O.length>1),O}),Ei(o,Sv(o),p),x&&(p=qr(p,d|v|m,a2));for(var T=l.length;T--;)mv(p,l[T]);return p});function h3(o,l){return Qx(o,Xf(Ve(l)))}var d3=na(function(o,l){return o==null?{}:GC(o,l)});function Qx(o,l){if(o==null)return{};var p=qt(Sv(o),function(x){return[x]});return l=Ve(l),Vy(o,p,function(x,T){return l(x,T[0])})}function p3(o,l,p){l=za(l,o);var x=-1,T=l.length;for(T||(T=1,o=n);++x<T;){var O=o==null?n:o[Ai(l[x])];O===n&&(x=T,O=p),o=ia(O)?O.call(o):O}return o}function v3(o,l,p){return o==null?o:yl(o,l,p)}function m3(o,l,p,x){return x=typeof x=="function"?x:n,o==null?o:yl(o,l,p,x)}var ew=hx(Tn),tw=hx(cr);function g3(o,l,p){var x=rt(o),T=x||Ga(o)||Uo(o);if(l=Ve(l,4),p==null){var O=o&&o.constructor;T?p=x?new O:[]:Zt(o)?p=ia(O)?No(bf(o)):{}:p={}}return(T?Vr:Ti)(o,function(G,V,Y){return l(p,G,V,Y)}),p}function _3(o,l){return o==null?!0:mv(o,l)}function y3(o,l,p){return o==null?o:Yy(o,l,yv(p))}function x3(o,l,p,x){return x=typeof x=="function"?x:n,o==null?o:Yy(o,l,yv(p),x)}function Go(o){return o==null?[]:Jp(o,Tn(o))}function w3(o){return o==null?[]:Jp(o,cr(o))}function b3(o,l,p){return p===n&&(p=l,l=n),p!==n&&(p=Zr(p),p=p===p?p:0),l!==n&&(l=Zr(l),l=l===l?l:0),As(Zr(o),l,p)}function M3(o,l,p){return l=aa(l),p===n?(p=l,l=0):p=aa(p),o=Zr(o),PC(o,l,p)}function S3(o,l,p){if(p&&typeof p!="boolean"&&Qn(o,l,p)&&(l=p=n),p===n&&(typeof l=="boolean"?(p=l,l=n):typeof o=="boolean"&&(p=o,o=n)),o===n&&l===n?(o=0,l=1):(o=aa(o),l===n?(l=o,o=0):l=aa(l)),o>l){var x=o;o=l,l=x}if(p||o%1||l%1){var T=Ty();return zn(o+T*(l-o+nA("1e-"+((T+"").length-1))),l)}return dv(o,l)}var T3=Bo(function(o,l,p){return l=l.toLowerCase(),o+(p?nw(l):l)});function nw(o){return Gv(Et(o).toLowerCase())}function rw(o){return o=Et(o),o&&o.replace(Re,vA).replace(jE,"")}function E3(o,l,p){o=Et(o),l=Tr(l);var x=o.length;p=p===n?x:As(ut(p),0,x);var T=p;return p-=l.length,p>=0&&o.slice(p,T)==l}function A3(o){return o=Et(o),o&&Mo.test(o)?o.replace(Zi,mA):o}function C3(o){return o=Et(o),o&&Pp.test(o)?o.replace(ol,"\\$&"):o}var P3=Bo(function(o,l,p){return o+(p?"-":"")+l.toLowerCase()}),L3=Bo(function(o,l,p){return o+(p?" ":"")+l.toLowerCase()}),R3=sx("toLowerCase");function O3(o,l,p){o=Et(o),l=ut(l);var x=l?Lo(o):0;if(!l||x>=l)return o;var T=(l-x)/2;return Uf(Ef(T),p)+o+Uf(Tf(T),p)}function I3(o,l,p){o=Et(o),l=ut(l);var x=l?Lo(o):0;return l&&x<l?o+Uf(l-x,p):o}function D3(o,l,p){o=Et(o),l=ut(l);var x=l?Lo(o):0;return l&&x<l?Uf(l-x,p)+o:o}function N3(o,l,p){return p||l==null?l=0:l&&(l=+l),kA(Et(o).replace(ul,""),l||0)}function F3(o,l,p){return(p?Qn(o,l,p):l===n)?l=1:l=ut(l),pv(Et(o),l)}function B3(){var o=arguments,l=Et(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var z3=Bo(function(o,l,p){return o+(p?"_":"")+l.toLowerCase()});function U3(o,l,p){return p&&typeof p!="number"&&Qn(o,l,p)&&(l=p=n),p=p===n?ue:p>>>0,p?(o=Et(o),o&&(typeof l=="string"||l!=null&&!Bv(l))&&(l=Tr(l),!l&&Po(o))?Ua(li(o),0,p):o.split(l,p)):[]}var G3=Bo(function(o,l,p){return o+(p?" ":"")+Gv(l)});function H3(o,l,p){return o=Et(o),p=p==null?0:As(ut(p),0,o.length),l=Tr(l),o.slice(p,p+l.length)==l}function k3(o,l,p){var x=C.templateSettings;p&&Qn(o,l,p)&&(l=n),o=Et(o),l=Jf({},l,x,dx);var T=Jf({},l.imports,x.imports,dx),O=Tn(T),G=Jp(T,O),V,Y,se=0,oe=l.interpolate||ot,ce="__p += '",ve=Qp((l.escape||ot).source+"|"+oe.source+"|"+(oe===Ji?Fp:ot).source+"|"+(l.evaluate||ot).source+"|$","g"),Oe="//# sourceURL="+(Rt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++JE+"]")+`
`;o.replace(ve,function(je,vt,xt,Ar,er,Cr){return xt||(xt=Ar),ce+=o.slice(se,Cr).replace(et,gA),vt&&(V=!0,ce+=`' +
__e(`+vt+`) +
'`),er&&(Y=!0,ce+=`';
`+er+`;
__p += '`),xt&&(ce+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),se=Cr+je.length,je}),ce+=`';
`;var $e=Rt.call(l,"variable")&&l.variable;if(!$e)ce=`with (obj) {
`+ce+`
}
`;else if(Dp.test($e))throw new nt(u);ce=(Y?ce.replace(xr,""):ce).replace(Pt,"$1").replace(Zn,"$1;"),ce="function("+($e||"obj")+`) {
`+($e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ce+`return __p
}`;var lt=aw(function(){return St(O,Oe+"return "+ce).apply(n,G)});if(lt.source=ce,Fv(lt))throw lt;return lt}function W3(o){return Et(o).toLowerCase()}function V3(o){return Et(o).toUpperCase()}function $3(o,l,p){if(o=Et(o),o&&(p||l===n))return py(o);if(!o||!(l=Tr(l)))return o;var x=li(o),T=li(l),O=vy(x,T),G=my(x,T)+1;return Ua(x,O,G).join("")}function j3(o,l,p){if(o=Et(o),o&&(p||l===n))return o.slice(0,_y(o)+1);if(!o||!(l=Tr(l)))return o;var x=li(o),T=my(x,li(l))+1;return Ua(x,0,T).join("")}function q3(o,l,p){if(o=Et(o),o&&(p||l===n))return o.replace(ul,"");if(!o||!(l=Tr(l)))return o;var x=li(o),T=vy(x,li(l));return Ua(x,T).join("")}function X3(o,l){var p=H,x=q;if(Zt(l)){var T="separator"in l?l.separator:T;p="length"in l?ut(l.length):p,x="omission"in l?Tr(l.omission):x}o=Et(o);var O=o.length;if(Po(o)){var G=li(o);O=G.length}if(p>=O)return o;var V=p-Lo(x);if(V<1)return x;var Y=G?Ua(G,0,V).join(""):o.slice(0,V);if(T===n)return Y+x;if(G&&(V+=Y.length-V),Bv(T)){if(o.slice(V).search(T)){var se,oe=Y;for(T.global||(T=Qp(T.source,Et(A.exec(T))+"g")),T.lastIndex=0;se=T.exec(oe);)var ce=se.index;Y=Y.slice(0,ce===n?V:ce)}}else if(o.indexOf(Tr(T),V)!=V){var ve=Y.lastIndexOf(T);ve>-1&&(Y=Y.slice(0,ve))}return Y+x}function Y3(o){return o=Et(o),o&&wr.test(o)?o.replace(Sn,SA):o}var Z3=Bo(function(o,l,p){return o+(p?" ":"")+l.toUpperCase()}),Gv=sx("toUpperCase");function iw(o,l,p){return o=Et(o),l=p?n:l,l===n?yA(o)?AA(o):cA(o):o.match(l)||[]}var aw=ht(function(o,l){try{return Mr(o,n,l)}catch(p){return Fv(p)?p:new nt(p)}}),J3=na(function(o,l){return Vr(l,function(p){p=Ai(p),ea(o,p,Dv(o[p],o))}),o});function K3(o){var l=o==null?0:o.length,p=Ve();return o=l?qt(o,function(x){if(typeof x[1]!="function")throw new $r(s);return[p(x[0]),x[1]]}):[],ht(function(x){for(var T=-1;++T<l;){var O=o[T];if(Mr(O[0],this,x))return Mr(O[1],this,x)}})}function Q3(o){return SC(qr(o,d))}function Hv(o){return function(){return o}}function eR(o,l){return o==null||o!==o?l:o}var tR=ux(),nR=ux(!0);function fr(o){return o}function kv(o){return zy(typeof o=="function"?o:qr(o,d))}function rR(o){return Gy(qr(o,d))}function iR(o,l){return Hy(o,qr(l,d))}var aR=ht(function(o,l){return function(p){return gl(p,o,l)}}),sR=ht(function(o,l){return function(p){return gl(o,p,l)}});function Wv(o,l,p){var x=Tn(l),T=Of(l,x);p==null&&!(Zt(l)&&(T.length||!x.length))&&(p=l,l=o,o=this,T=Of(l,Tn(l)));var O=!(Zt(p)&&"chain"in p)||!!p.chain,G=ia(o);return Vr(T,function(V){var Y=l[V];o[V]=Y,G&&(o.prototype[V]=function(){var se=this.__chain__;if(O||se){var oe=o(this.__wrapped__),ce=oe.__actions__=ur(this.__actions__);return ce.push({func:Y,args:arguments,thisArg:o}),oe.__chain__=se,oe}return Y.apply(o,Ia([this.value()],arguments))})}),o}function oR(){return Ln._===this&&(Ln._=IA),this}function Vv(){}function uR(o){return o=ut(o),ht(function(l){return ky(l,o)})}var lR=wv(qt),cR=wv(ly),fR=wv(jp);function sw(o){return Cv(o)?qp(Ai(o)):HC(o)}function hR(o){return function(l){return o==null?n:Cs(o,l)}}var dR=cx(),pR=cx(!0);function $v(){return[]}function jv(){return!1}function vR(){return{}}function mR(){return""}function gR(){return!0}function _R(o,l){if(o=ut(o),o<1||o>J)return[];var p=ue,x=zn(o,ue);l=Ve(l),o-=ue;for(var T=Zp(x,l);++p<o;)l(p);return T}function yR(o){return rt(o)?qt(o,Ai):Er(o)?[o]:ur(Ex(Et(o)))}function xR(o){var l=++RA;return Et(o)+l}var wR=zf(function(o,l){return o+l},0),bR=bv("ceil"),MR=zf(function(o,l){return o/l},1),SR=bv("floor");function TR(o){return o&&o.length?Rf(o,fr,ov):n}function ER(o,l){return o&&o.length?Rf(o,Ve(l,2),ov):n}function AR(o){return hy(o,fr)}function CR(o,l){return hy(o,Ve(l,2))}function PR(o){return o&&o.length?Rf(o,fr,fv):n}function LR(o,l){return o&&o.length?Rf(o,Ve(l,2),fv):n}var RR=zf(function(o,l){return o*l},1),OR=bv("round"),IR=zf(function(o,l){return o-l},0);function DR(o){return o&&o.length?Yp(o,fr):0}function NR(o,l){return o&&o.length?Yp(o,Ve(l,2)):0}return C.after=rL,C.ary=Bx,C.assign=VL,C.assignIn=Jx,C.assignInWith=Jf,C.assignWith=$L,C.at=jL,C.before=zx,C.bind=Dv,C.bindAll=J3,C.bindKey=Ux,C.castArray=vL,C.chain=Dx,C.chunk=S2,C.compact=T2,C.concat=E2,C.cond=K3,C.conforms=Q3,C.constant=Hv,C.countBy=DP,C.create=qL,C.curry=Gx,C.curryRight=Hx,C.debounce=kx,C.defaults=XL,C.defaultsDeep=YL,C.defer=iL,C.delay=aL,C.difference=A2,C.differenceBy=C2,C.differenceWith=P2,C.drop=L2,C.dropRight=R2,C.dropRightWhile=O2,C.dropWhile=I2,C.fill=D2,C.filter=FP,C.flatMap=UP,C.flatMapDeep=GP,C.flatMapDepth=HP,C.flatten=Lx,C.flattenDeep=N2,C.flattenDepth=F2,C.flip=sL,C.flow=tR,C.flowRight=nR,C.fromPairs=B2,C.functions=n3,C.functionsIn=r3,C.groupBy=kP,C.initial=U2,C.intersection=G2,C.intersectionBy=H2,C.intersectionWith=k2,C.invert=a3,C.invertBy=s3,C.invokeMap=VP,C.iteratee=kv,C.keyBy=$P,C.keys=Tn,C.keysIn=cr,C.map=$f,C.mapKeys=u3,C.mapValues=l3,C.matches=rR,C.matchesProperty=iR,C.memoize=qf,C.merge=c3,C.mergeWith=Kx,C.method=aR,C.methodOf=sR,C.mixin=Wv,C.negate=Xf,C.nthArg=uR,C.omit=f3,C.omitBy=h3,C.once=oL,C.orderBy=jP,C.over=lR,C.overArgs=uL,C.overEvery=cR,C.overSome=fR,C.partial=Nv,C.partialRight=Wx,C.partition=qP,C.pick=d3,C.pickBy=Qx,C.property=sw,C.propertyOf=hR,C.pull=j2,C.pullAll=Ox,C.pullAllBy=q2,C.pullAllWith=X2,C.pullAt=Y2,C.range=dR,C.rangeRight=pR,C.rearg=lL,C.reject=ZP,C.remove=Z2,C.rest=cL,C.reverse=Ov,C.sampleSize=KP,C.set=v3,C.setWith=m3,C.shuffle=QP,C.slice=J2,C.sortBy=nL,C.sortedUniq=iP,C.sortedUniqBy=aP,C.split=U3,C.spread=fL,C.tail=sP,C.take=oP,C.takeRight=uP,C.takeRightWhile=lP,C.takeWhile=cP,C.tap=TP,C.throttle=hL,C.thru=Vf,C.toArray=Xx,C.toPairs=ew,C.toPairsIn=tw,C.toPath=yR,C.toPlainObject=Zx,C.transform=g3,C.unary=dL,C.union=fP,C.unionBy=hP,C.unionWith=dP,C.uniq=pP,C.uniqBy=vP,C.uniqWith=mP,C.unset=_3,C.unzip=Iv,C.unzipWith=Ix,C.update=y3,C.updateWith=x3,C.values=Go,C.valuesIn=w3,C.without=gP,C.words=iw,C.wrap=pL,C.xor=_P,C.xorBy=yP,C.xorWith=xP,C.zip=wP,C.zipObject=bP,C.zipObjectDeep=MP,C.zipWith=SP,C.entries=ew,C.entriesIn=tw,C.extend=Jx,C.extendWith=Jf,Wv(C,C),C.add=wR,C.attempt=aw,C.camelCase=T3,C.capitalize=nw,C.ceil=bR,C.clamp=b3,C.clone=mL,C.cloneDeep=_L,C.cloneDeepWith=yL,C.cloneWith=gL,C.conformsTo=xL,C.deburr=rw,C.defaultTo=eR,C.divide=MR,C.endsWith=E3,C.eq=fi,C.escape=A3,C.escapeRegExp=C3,C.every=NP,C.find=BP,C.findIndex=Cx,C.findKey=ZL,C.findLast=zP,C.findLastIndex=Px,C.findLastKey=JL,C.floor=SR,C.forEach=Nx,C.forEachRight=Fx,C.forIn=KL,C.forInRight=QL,C.forOwn=e3,C.forOwnRight=t3,C.get=zv,C.gt=wL,C.gte=bL,C.has=i3,C.hasIn=Uv,C.head=Rx,C.identity=fr,C.includes=WP,C.indexOf=z2,C.inRange=M3,C.invoke=o3,C.isArguments=Rs,C.isArray=rt,C.isArrayBuffer=ML,C.isArrayLike=lr,C.isArrayLikeObject=on,C.isBoolean=SL,C.isBuffer=Ga,C.isDate=TL,C.isElement=EL,C.isEmpty=AL,C.isEqual=CL,C.isEqualWith=PL,C.isError=Fv,C.isFinite=LL,C.isFunction=ia,C.isInteger=Vx,C.isLength=Yf,C.isMap=$x,C.isMatch=RL,C.isMatchWith=OL,C.isNaN=IL,C.isNative=DL,C.isNil=FL,C.isNull=NL,C.isNumber=jx,C.isObject=Zt,C.isObjectLike=en,C.isPlainObject=Ml,C.isRegExp=Bv,C.isSafeInteger=BL,C.isSet=qx,C.isString=Zf,C.isSymbol=Er,C.isTypedArray=Uo,C.isUndefined=zL,C.isWeakMap=UL,C.isWeakSet=GL,C.join=W2,C.kebabCase=P3,C.last=Yr,C.lastIndexOf=V2,C.lowerCase=L3,C.lowerFirst=R3,C.lt=HL,C.lte=kL,C.max=TR,C.maxBy=ER,C.mean=AR,C.meanBy=CR,C.min=PR,C.minBy=LR,C.stubArray=$v,C.stubFalse=jv,C.stubObject=vR,C.stubString=mR,C.stubTrue=gR,C.multiply=RR,C.nth=$2,C.noConflict=oR,C.noop=Vv,C.now=jf,C.pad=O3,C.padEnd=I3,C.padStart=D3,C.parseInt=N3,C.random=S3,C.reduce=XP,C.reduceRight=YP,C.repeat=F3,C.replace=B3,C.result=p3,C.round=OR,C.runInContext=X,C.sample=JP,C.size=eL,C.snakeCase=z3,C.some=tL,C.sortedIndex=K2,C.sortedIndexBy=Q2,C.sortedIndexOf=eP,C.sortedLastIndex=tP,C.sortedLastIndexBy=nP,C.sortedLastIndexOf=rP,C.startCase=G3,C.startsWith=H3,C.subtract=IR,C.sum=DR,C.sumBy=NR,C.template=k3,C.times=_R,C.toFinite=aa,C.toInteger=ut,C.toLength=Yx,C.toLower=W3,C.toNumber=Zr,C.toSafeInteger=WL,C.toString=Et,C.toUpper=V3,C.trim=$3,C.trimEnd=j3,C.trimStart=q3,C.truncate=X3,C.unescape=Y3,C.uniqueId=xR,C.upperCase=Z3,C.upperFirst=Gv,C.each=Nx,C.eachRight=Fx,C.first=Rx,Wv(C,function(){var o={};return Ti(C,function(l,p){Rt.call(C.prototype,p)||(o[p]=l)}),o}(),{chain:!1}),C.VERSION=r,Vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){C[o].placeholder=C}),Vr(["drop","take"],function(o,l){yt.prototype[o]=function(p){p=p===n?1:wn(ut(p),0);var x=this.__filtered__&&!l?new yt(this):this.clone();return x.__filtered__?x.__takeCount__=zn(p,x.__takeCount__):x.__views__.push({size:zn(p,ue),type:o+(x.__dir__<0?"Right":"")}),x},yt.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),Vr(["filter","map","takeWhile"],function(o,l){var p=l+1,x=p==z||p==Z;yt.prototype[o]=function(T){var O=this.clone();return O.__iteratees__.push({iteratee:Ve(T,3),type:p}),O.__filtered__=O.__filtered__||x,O}}),Vr(["head","last"],function(o,l){var p="take"+(l?"Right":"");yt.prototype[o]=function(){return this[p](1).value()[0]}}),Vr(["initial","tail"],function(o,l){var p="drop"+(l?"":"Right");yt.prototype[o]=function(){return this.__filtered__?new yt(this):this[p](1)}}),yt.prototype.compact=function(){return this.filter(fr)},yt.prototype.find=function(o){return this.filter(o).head()},yt.prototype.findLast=function(o){return this.reverse().find(o)},yt.prototype.invokeMap=ht(function(o,l){return typeof o=="function"?new yt(this):this.map(function(p){return gl(p,o,l)})}),yt.prototype.reject=function(o){return this.filter(Xf(Ve(o)))},yt.prototype.slice=function(o,l){o=ut(o);var p=this;return p.__filtered__&&(o>0||l<0)?new yt(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),l!==n&&(l=ut(l),p=l<0?p.dropRight(-l):p.take(l-o)),p)},yt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},yt.prototype.toArray=function(){return this.take(ue)},Ti(yt.prototype,function(o,l){var p=/^(?:filter|find|map|reject)|While$/.test(l),x=/^(?:head|last)$/.test(l),T=C[x?"take"+(l=="last"?"Right":""):l],O=x||/^find/.test(l);!T||(C.prototype[l]=function(){var G=this.__wrapped__,V=x?[1]:arguments,Y=G instanceof yt,se=V[0],oe=Y||rt(G),ce=function(vt){var xt=T.apply(C,Ia([vt],V));return x&&ve?xt[0]:xt};oe&&p&&typeof se=="function"&&se.length!=1&&(Y=oe=!1);var ve=this.__chain__,Oe=!!this.__actions__.length,$e=O&&!ve,lt=Y&&!Oe;if(!O&&oe){G=lt?G:new yt(this);var je=o.apply(G,V);return je.__actions__.push({func:Vf,args:[ce],thisArg:n}),new jr(je,ve)}return $e&&lt?o.apply(this,V):(je=this.thru(ce),$e?x?je.value()[0]:je.value():je)})}),Vr(["pop","push","shift","sort","splice","unshift"],function(o){var l=mf[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",x=/^(?:pop|shift)$/.test(o);C.prototype[o]=function(){var T=arguments;if(x&&!this.__chain__){var O=this.value();return l.apply(rt(O)?O:[],T)}return this[p](function(G){return l.apply(rt(G)?G:[],T)})}}),Ti(yt.prototype,function(o,l){var p=C[l];if(p){var x=p.name+"";Rt.call(Do,x)||(Do[x]=[]),Do[x].push({name:l,func:p})}}),Do[Bf(n,w).name]=[{name:"wrapper",func:n}],yt.prototype.clone=YA,yt.prototype.reverse=ZA,yt.prototype.value=JA,C.prototype.at=EP,C.prototype.chain=AP,C.prototype.commit=CP,C.prototype.next=PP,C.prototype.plant=RP,C.prototype.reverse=OP,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=IP,C.prototype.first=C.prototype.head,cl&&(C.prototype[cl]=LP),C},Ro=CA();Ms?((Ms.exports=Ro)._=Ro,kp._=Ro):Ln._=Ro}).call(Cl)})(Rg,Rg.exports);var fm=/iPhone/i,Sb=/iPod/i,Tb=/iPad/i,Eb=/\biOS-universal(?:.+)Mac\b/i,hm=/\bAndroid(?:.+)Mobile\b/i,Ab=/Android/i,ko=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,oh=/Silk/i,oa=/Windows Phone/i,Cb=/\bWindows(?:.+)ARM\b/i,Pb=/BlackBerry/i,Lb=/BB10/i,Rb=/Opera Mini/i,Ob=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ib=/Mobile(?:.+)Firefox\b/i,Db=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function UB(e){return function(t){return t.test(e)}}function pp(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var n=t.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=UB(n),a={apple:{phone:i(fm)&&!i(oa),ipod:i(Sb),tablet:!i(fm)&&(i(Tb)||Db(t))&&!i(oa),universal:i(Eb),device:(i(fm)||i(Sb)||i(Tb)||i(Eb)||Db(t))&&!i(oa)},amazon:{phone:i(ko),tablet:!i(ko)&&i(oh),device:i(ko)||i(oh)},android:{phone:!i(oa)&&i(ko)||!i(oa)&&i(hm),tablet:!i(oa)&&!i(ko)&&!i(hm)&&(i(oh)||i(Ab)),device:!i(oa)&&(i(ko)||i(oh)||i(hm)||i(Ab))||i(/\bokhttp\b/i)},windows:{phone:i(oa),tablet:i(Cb),device:i(oa)||i(Cb)},other:{blackberry:i(Pb),blackberry10:i(Lb),opera:i(Rb),firefox:i(Ib),chrome:i(Ob),device:i(Pb)||i(Lb)||i(Rb)||i(Ib)||i(Ob)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var GB=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,b0=(e,t,n,r)=>{for(var i=r>1?void 0:r?HB(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&GB(t,n,i),i};const gi=pp().any,Pl=gi?.5:.75,kB=gi?200:60,Ll=gi?NF.easeInOut:FF.easeOut;let dm;const Ci={circle:{factor:gi?.1:1},diamond1:{factor:gi?.6:1},diamond2:{factor:gi?-.6:1},diamond3:{factor:gi?.4:1},ava:{factor:gi?.1:1}};let vc=class extends bt{constructor(){super(...arguments);kt(this,"mouse",{x:.5,y:0})}onMousemove(t){this.mouse={x:t.clientX/window.innerWidth*2-1,y:-(t.clientY/window.innerHeight)*2+1}}get isActive(){return this.$store.state.scrollState.currentSection===0}moveThings(){const t=this.$refs.circle,n=this.$refs.diamond1,r=this.$refs.diamond2,i=this.$refs.diamond3,a=this.$refs.ava;Or.to(t,{duration:Pl,x:this.mouse.x*8*Ci.circle.factor,y:this.mouse.y*15*Ci.circle.factor,ease:Ll}),Or.to(n,{duration:Pl,x:-this.mouse.x*30*Ci.diamond1.factor,y:-this.mouse.y*10*Ci.diamond1.factor,ease:Ll}),Or.to(r,{duration:Pl,x:-this.mouse.x*30*Ci.diamond2.factor,y:this.mouse.y*15*Ci.diamond2.factor,ease:Ll}),Or.to(i,{duration:Pl,x:this.mouse.x*50*Ci.diamond3.factor,y:this.mouse.y*25*Ci.diamond3.factor,ease:Ll}),Or.to(a,{duration:Pl,x:this.mouse.x*10*Ci.diamond3.factor,y:this.mouse.y*10*Ci.diamond3.factor,ease:Ll})}get boundOnMouseMove(){return this.onMousemove.bind(this)}get moveThingsFunc(){return Rg.exports.throttle(this.moveThings,kB).bind(this)}get isAppInitted(){return this.$store.state.isInitted}onIsActiveChange(t){t?document.addEventListener("mousemove",this.boundOnMouseMove):document.removeEventListener("mousemove",this.boundOnMouseMove)}loop(t){if(this.isActive){if(gi&&t){dm||(dm=t);const n=t-dm;this.mouse.x=(Math.sin(n*.001)-.5)*2,this.mouse.y=(Math.cos(n*.001)-.5)*2}this.moveThingsFunc()}requestAnimationFrame(this.loop)}onAppInitted(t){if(!t)return;const n=Or.timeline({onComplete:()=>{this.initInteractivity()}});n.fromTo(this.$refs.diamondGroup,{opacity:0,y:80},{duration:1,opacity:1,y:0,stagger:.1}),n.fromTo(this.$refs.centerGroup,{opacity:0},{opacity:1},"-=0.85"),n.call(()=>{this.$emit("animationFinished",!0)},void 0,"-=0.4")}initInteractivity(){this.loop(),!gi&&document.addEventListener("mousemove",this.boundOnMouseMove)}beforeDestroy(){gi||document.removeEventListener("mousemove",this.boundOnMouseMove)}};b0([w0("isActive")],vc.prototype,"onIsActiveChange",1);b0([w0("isAppInitted")],vc.prototype,"onAppInitted",1);vc=b0([xs],vc);const WB=vc,VB="/assets/ava.523e5a92.png";var $B=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("div",{staticClass:"tw-max-w-full tw-w-full lg:tw-w-1/2 2xl:tw-680"},[n("svg",{attrs:{id:"Component_2_3","data-name":"Component 2 \u2013 3",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1507.482 1260.087"}},[n("g",{attrs:{transform:"translate(80 0)"}},[n("g",{directives:[{name:"multi-ref",rawName:"v-multi-ref:diamondGroup",arg:"diamondGroup"}]},[n("g",{ref:"diamond1"},[n("rect",{attrs:{id:"Rectangle_21","data-name":"Rectangle 21",width:"191.092",height:"191.092",rx:"7",transform:"translate(1072.36 338.946) rotate(45)",fill:"rgba(255,244,214,0.5)"}})])]),n("g",{ref:"centerGroup"},[n("g",{ref:"circle"},[n("path",{attrs:{id:"Path_246","data-name":"Path 246",d:"M371.525,0C576.713,0,743.051,166.241,743.051,371.311S576.713,742.621,371.525,742.621,0,576.38,0,371.311,166.338,0,371.525,0Z",transform:"translate(329.309 289.686)",fill:"#b2a991"}})]),n("g",{ref:"ava"},[n("image",{attrs:{id:"ava",width:"771",height:"1079",transform:"translate(303.461)","xlink:href":VB,opacity:"1"}})])]),n("g",{directives:[{name:"multi-ref",rawName:"v-multi-ref:diamondGroup",arg:"diamondGroup"}]},[n("g",{ref:"diamond3"},[n("rect",{attrs:{id:"Rectangle_20","data-name":"Rectangle 20",width:"335.158",height:"335.158",rx:"7",transform:"translate(236.993 397.654) rotate(45)",fill:"rgba(255,244,214,0.5)"}})]),n("g",{ref:"diamond2"},[n("path",{attrs:{id:"Path_247","data-name":"Path 247",d:"M7,0H107.675a7,7,0,0,1,7,7V107.675a7,7,0,0,1-7,7H7a7,7,0,0,1-7-7V7A7,7,0,0,1,7,0Z",transform:"translate(1072.36 997.913) rotate(45)",fill:"rgba(255,244,214,0.5)"}})])])])])])},jB=[],qB=Xi(WB,$B,jB,!1,null,null,null,null);const XB=qB.exports;var YB=Object.defineProperty,ZB=Object.getOwnPropertyDescriptor,JB=(e,t,n,r)=>{for(var i=r>1?void 0:r?ZB(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&YB(t,n,i),i};const pm=["Problem solver","Freelancer","Solid gamer","Dead serious guy"];let Og=class extends bt{constructor(){super(...arguments);kt(this,"isLastOfAnimation",!1);kt(this,"typingText","")}onLastOfAnimation(){this.isLastOfAnimation=!0,setTimeout(()=>this.startTextAnimation(0),2e3)}startTextAnimation(t){typeof pm[t]>"u"&&setTimeout(()=>{this.startTextAnimation(0)},7e3),t<pm[t].length&&this.typeWriter(pm[t],0,()=>{this.startTextAnimation(t+1)})}get boundTypeWriter(){return this.typeWriter.bind(this)}typeWriter(t,n,r){n<t.length?(this.typingText=t.substring(0,n+1)+'<span aria-hidden="true"></span>',setTimeout(()=>{this.boundTypeWriter(t,n+1,r)},75)):typeof r=="function"&&setTimeout(r,1700)}};Og=JB([xs({components:{Ava:XB}})],Og);const KB=Og;var QB=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("fragment",[n("div",{staticClass:"tw-container tw-justify-center"},[n("div",{staticClass:"tw-flex tw-justify-center"},[n("Ava",{on:{animationFinished:t.onLastOfAnimation}})],1),n("div",{ref:"introRight",staticClass:"tw-text-center tw-mt-3 lg:tw--mt-10"},[n("div",{staticClass:"tw-inline-block",class:{"reveal-text":t.isLastOfAnimation,"tw-invisible":!t.isLastOfAnimation}},[n("span",{ref:"letter1",staticClass:"intro__rightCapLetter"},[t._v(" H ")]),n("span",{ref:"letter2",staticClass:"intro__rightCapLetter"},[t._v("I")]),n("span",{ref:"im",staticClass:"intro__name"},[t._v(" I'm Trung Do ")]),n("span",{ref:"title",staticClass:"intro__profession"},[t._v(" A Website Developer | "),n("span",{domProps:{innerHTML:t._s(t.typingText)}})])])])])])},ez=[],tz=Xi(KB,QB,ez,!1,null,"eea925c2",null,null);const nz=tz.exports;var rz=Object.defineProperty,iz=Object.getOwnPropertyDescriptor,ST=(e,t,n,r)=>{for(var i=r>1?void 0:r?iz(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&rz(t,n,i),i};let yd=class extends bt{constructor(){super(...arguments);kt(this,"project")}};ST([BB({required:!0})],yd.prototype,"project",2);yd=ST([xs],yd);const az=yd;var sz=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("article",{staticClass:"project__item"},[n("div",{staticClass:"project__right"},[n("h2",{staticClass:"project__clientName"},[t._v(" "+t._s(t.project.clientName)+" ")]),n("h3",{staticClass:"project__title"},[t._v(" "+t._s(t.project.title)+" ")]),n("p",{staticClass:"project__description",domProps:{innerHTML:t._s(t.project.description)}}),t.project.link?n("a",{staticClass:"tw-mt-4 formGroup__button",attrs:{target:"_blank",href:t.project.link}},[t._v(" Visit site ")]):t._e()])])},oz=[],uz=Xi(az,sz,oz,!1,null,null,null,null);const lz=uz.exports;var cz=function(){var t=this,n=t._self._c;return n("div",{staticClass:"container pos-r container--small",attrs:{id:"contact-me"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col col-md-12"},[n("section",{staticClass:"contact__content"},[t._m(0),t._m(1),n("form",{staticClass:"homeEmailForm",attrs:{action:"",method:"POST"},on:{submit:function(r){return r.preventDefault(),t.submitEmail.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-6"},[n("div",{staticClass:"formGroup formGroup--stylized"},[n("input",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedInput",arg:"stylizedInput"},{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"formGroup__input",attrs:{type:"text",required:""},domProps:{value:t.formData.name},on:{blur:function(r){return t.stylize(r,0,!1)},focus:function(r){return t.stylize(r,0)},input:function(r){r.target.composing||t.$set(t.formData,"name",r.target.value)}}}),n("label",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedLabel",arg:"stylizedLabel"}],staticClass:"formGroup__label",attrs:{for:""}},[t._v("What may I call you?")]),n("span",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedDummy",arg:"stylizedDummy"}],staticClass:"dummy"})])]),n("div",{staticClass:"col-12 col-md-6"},[n("div",{staticClass:"formGroup formGroup--stylized"},[n("input",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedInput",arg:"stylizedInput"},{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"formGroup__input",attrs:{type:"email",required:""},domProps:{value:t.formData.email},on:{blur:function(r){return t.stylize(r,1,!1)},focus:function(r){return t.stylize(r,1)},input:function(r){r.target.composing||t.$set(t.formData,"email",r.target.value)}}}),n("label",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedLabel",arg:"stylizedLabel"}],staticClass:"formGroup__label",attrs:{for:""}},[t._v("Your contact email")]),n("span",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedDummy",arg:"stylizedDummy"}],staticClass:"dummy"})])])]),n("div",{staticClass:"formGroup formGroup--stylized"},[n("input",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedInput",arg:"stylizedInput"},{name:"model",rawName:"v-model",value:t.formData.subject,expression:"formData.subject"}],staticClass:"formGroup__input",attrs:{type:"text",required:""},domProps:{value:t.formData.subject},on:{blur:function(r){return t.stylize(r,2,!1)},focus:function(r){return t.stylize(r,2)},input:function(r){r.target.composing||t.$set(t.formData,"subject",r.target.value)}}}),n("label",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedLabel",arg:"stylizedLabel"}],staticClass:"formGroup__label",attrs:{for:""}},[t._v("Subject line")]),n("span",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedDummy",arg:"stylizedDummy"}],staticClass:"dummy"})]),n("div",{staticClass:"formGroup formGroup--stylized"},[n("textarea",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedInput",arg:"stylizedInput"},{name:"model",rawName:"v-model",value:t.formData.message,expression:"formData.message"}],staticClass:"formGroup__input",attrs:{name:"",cols:"30",rows:"10",required:""},domProps:{value:t.formData.message},on:{blur:function(r){return t.stylize(r,3,!1)},focus:function(r){return t.stylize(r,3)},input:function(r){r.target.composing||t.$set(t.formData,"message",r.target.value)}}}),n("label",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedLabel",arg:"stylizedLabel"}],staticClass:"formGroup__label",attrs:{for:""}},[t._v("Your message")]),n("span",{directives:[{name:"multi-ref",rawName:"v-multi-ref:stylizedDummy",arg:"stylizedDummy"}],staticClass:"dummy"})]),n("div",{staticClass:"text-center formGroup"},[n("button",{staticClass:"formGroup__button"},[n("svg",{staticClass:"tw-inline-block tw-mr-3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","fill-rule":"evenodd","clip-rule":"evenodd"}},[n("path",{attrs:{fill:"#999",d:"M14 4h-13v18h20v-11h1v12h-22v-20h14v1zm10 5h-1v-6.293l-11.646 11.647-.708-.708 11.647-11.646h-6.293v-1h8v8z"}})]),t._v("Open email app and send")])])])])])])])},fz=[function(){var e=this,t=e._self._c;return t("h2",{staticClass:"text-center contact__title"},[e._v("Let's work"),t("br"),e._v("TOGETHER!")])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"text-center contact__info"},[e._v("You can send an email to"),t("a",{staticClass:"c-main",attrs:{href:"mailto:hou.dobaotrung@gmail.com"}},[e._v("\xA0hou.dobaotrung@gmail.com")]),e._v("."),t("br"),e._v(" Or contact me through the form below.")])}];const hz={name:"ContactMe",data(){return{stylizedInputNameList:[],formData:{name:"",email:"",subject:"",message:""}}},mounted(){const e=this.$refs.stylizedLabel,t=this.$refs.stylizedDummy,n=this.$refs.stylizedInput;e.length!=t.length&&console.warn("Unmatched stylized number of input and label pair: "),n.forEach((r,i)=>{const a={target:r};this.stylize(a,i,!1)})},methods:{submitEmail(){const e=`${this.formData.message}%0D%0A%0D%0AHere is my contact email: ${this.formData.email} - ${this.formData.name}`;window.open(`mailto:hou.dobaotrung@gmail.com?subject=${this.formData.subject}&body=${e}`)},stylize(e,t,n=!0){const r=this.$refs.stylizedLabel,i=this.$refs.stylizedDummy,a=r[t].getBoundingClientRect().width,s=e.target.getBoundingClientRect().width;if(n){i[t].setAttribute("style",`clip: rect(0 ${s}px 1px ${a+20}px)`);return}e.target.value||i[t].setAttribute("style",`clip: rect(0 ${s}px 1px 0)`)}}};var dz=Xi(hz,cz,fz,!1,null,null,null,null);const pz=dz.exports;Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var vz="113",mz=0,Nb=1,gz=2,TT=1,_z=2,Vl=3,of=0,En=1,vp=2,ET=1,AT=0,yz=1,uf=2,rs=0,Zl=1,Ig=2,Fb=3,Bb=4,xz=5,lu=100,wz=101,bz=102,zb=103,Ub=104,Mz=200,Sz=201,Tz=202,Ez=203,CT=204,PT=205,Az=206,Cz=207,Pz=208,Lz=209,Rz=210,Oz=0,Iz=1,Dz=2,Dg=3,Nz=4,Fz=5,Bz=6,zz=7,mp=0,Uz=1,Gz=2,Jh=0,M0=1,Hz=2,kz=3,Wz=4,Vz=5,S0=300,T0=301,E0=302,LT=303,A0=304,RT=305,lf=306,C0=307,mc=1e3,nr=1001,xd=1002,dn=1003,Ng=1004,Fg=1005,Mn=1006,OT=1007,gp=1008,_p=1009,$z=1010,jz=1011,wd=1012,qz=1013,IT=1014,gc=1015,P0=1016,Xz=1017,Yz=1018,Zz=1019,bd=1020,Jz=1021,co=1022,Hi=1023,Kz=1024,Qz=1025,eU=Hi,Tu=1026,_c=1027,tU=1028,nU=1029,rU=1030,iU=1031,aU=1032,sU=1033,Gb=33776,Hb=33777,kb=33778,Wb=33779,Vb=35840,$b=35841,jb=35842,qb=35843,oU=36196,uU=37808,lU=37809,cU=37810,fU=37811,hU=37812,dU=37813,pU=37814,vU=37815,mU=37816,gU=37817,_U=37818,yU=37819,xU=37820,wU=37821,bU=2200,MU=2201,SU=2202,Md=2300,Kh=2301,vm=2302,Iu=2400,mu=2401,Sd=2402,TU=0,Br=3e3,L0=3001,DT=3007,R0=3002,EU=3003,NT=3004,FT=3005,BT=3006,AU=3200,CU=3201,nl=0,PU=1,mm=7680,LU=519,yp=35044,yc=35048;function La(){}Object.assign(La.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});var n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;var n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners!==void 0){var n=this._listeners,r=n[e];if(r!==void 0){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(e){if(this._listeners!==void 0){var t=this._listeners,n=t[e.type];if(n!==void 0){e.target=this;for(var r=n.slice(0),i=0,a=r.length;i<a;i++)r[i].call(this,e)}}}});var On=[];for(var Rl=0;Rl<256;Rl++)On[Rl]=(Rl<16?"0":"")+Rl.toString(16);var ct={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0,i=On[e&255]+On[e>>8&255]+On[e>>16&255]+On[e>>24&255]+"-"+On[t&255]+On[t>>8&255]+"-"+On[t>>16&15|64]+On[t>>24&255]+"-"+On[n&63|128]+On[n>>8&255]+"-"+On[n>>16&255]+On[n>>24&255]+On[r&255]+On[r>>8&255]+On[r>>16&255]+On[r>>24&255];return i.toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*ct.DEG2RAD},radToDeg:function(e){return e*ct.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,s=Math.sin,u=a(n/2),c=s(n/2),f=a((t+r)/2),h=s((t+r)/2),d=a((t-r)/2),v=s((t-r)/2),m=a((r-t)/2),_=s((r-t)/2);i==="XYX"?e.set(u*h,c*d,c*v,u*f):i==="YZY"?e.set(c*v,u*h,c*d,u*f):i==="ZXZ"?e.set(c*d,c*v,u*h,u*f):i==="XZX"?e.set(u*h,c*_,c*m,u*f):i==="YXY"?e.set(c*m,u*h,c*_,u*f):i==="ZYZ"?e.set(c*_,c*m,u*h,u*f):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function le(e,t){this.x=e||0,this.y=t||0}Object.defineProperties(le.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(le.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}});function Vn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Vn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,s,u,c){var f=this.elements;return f[0]=e,f[1]=r,f[2]=s,f[3]=t,f[4]=i,f[5]=u,f[6]=n,f[7]=a,f[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],s=n[3],u=n[6],c=n[1],f=n[4],h=n[7],d=n[2],v=n[5],m=n[8],_=r[0],g=r[3],y=r[6],w=r[1],M=r[4],E=r[7],S=r[2],b=r[5],P=r[8];return i[0]=a*_+s*w+u*S,i[3]=a*g+s*M+u*b,i[6]=a*y+s*E+u*P,i[1]=c*_+f*w+h*S,i[4]=c*g+f*M+h*b,i[7]=c*y+f*E+h*P,i[2]=d*_+v*w+m*S,i[5]=d*g+v*M+m*b,i[8]=d*y+v*E+m*P,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8];return t*a*f-t*s*c-n*i*f+n*s*u+r*i*c-r*a*u},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],s=n[2],u=n[3],c=n[4],f=n[5],h=n[6],d=n[7],v=n[8],m=v*c-f*d,_=f*h-v*u,g=d*u-c*h,y=i*m+a*_+s*g;if(y===0){var w="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(w);return console.warn(w),this.identity()}var M=1/y;return r[0]=m*M,r[1]=(s*d-v*a)*M,r[2]=(f*a-s*c)*M,r[3]=_*M,r[4]=(v*i-s*h)*M,r[5]=(s*u-f*i)*M,r[6]=g*M,r[7]=(a*h-d*i)*M,r[8]=(c*i-a*u)*M,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,s){var u=Math.cos(i),c=Math.sin(i);this.set(n*u,n*c,-n*(u*a+c*s)+a+e,-r*c,r*u,-r*(-c*a+u*s)+s+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],s=r[6],u=r[1],c=r[4],f=r[7];return r[0]=t*i+n*u,r[3]=t*a+n*c,r[6]=t*s+n*f,r[1]=-n*i+t*u,r[4]=-n*a+t*c,r[7]=-n*s+t*f,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Wo,fo={getDataURL:function(e){var t;if(typeof HTMLCanvasElement>"u")return e.src;if(e instanceof HTMLCanvasElement)t=e;else{Wo===void 0&&(Wo=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Wo.width=e.width,Wo.height=e.height;var n=Wo.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Wo}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},RU=0;function Ot(e,t,n,r,i,a,s,u,c,f){Object.defineProperty(this,"id",{value:RU++}),this.uuid=ct.generateUUID(),this.name="",this.image=e!==void 0?e:Ot.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:Ot.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:nr,this.wrapT=r!==void 0?r:nr,this.magFilter=i!==void 0?i:Mn,this.minFilter=a!==void 0?a:gp,this.anisotropy=c!==void 0?c:1,this.format=s!==void 0?s:Hi,this.internalFormat=null,this.type=u!==void 0?u:_p,this.offset=new le(0,0),this.repeat=new le(1,1),this.center=new le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Vn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f!==void 0?f:Br,this.version=0,this.onUpdate=null}Ot.DEFAULT_IMAGE=void 0;Ot.DEFAULT_MAPPING=S0;Ot.prototype=Object.assign(Object.create(La.prototype),{constructor:Ot,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var r=this.image;if(r.uuid===void 0&&(r.uuid=ct.generateUUID()),!t&&e.images[r.uuid]===void 0){var i;if(Array.isArray(r)){i=[];for(var a=0,s=r.length;a<s;a++)i.push(fo.getDataURL(r[a]))}else i=fo.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==S0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mc:e.x=e.x-Math.floor(e.x);break;case nr:e.x=e.x<0?0:1;break;case xd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case mc:e.y=e.y-Math.floor(e.y);break;case nr:e.y=e.y<0?0:1;break;case xd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Ot.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Gt(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=r!==void 0?r:1}Object.defineProperties(Gt.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(Gt.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=.01,s=.1,u=e.elements,c=u[0],f=u[4],h=u[8],d=u[1],v=u[5],m=u[9],_=u[2],g=u[6],y=u[10];if(Math.abs(f-d)<a&&Math.abs(h-_)<a&&Math.abs(m-g)<a){if(Math.abs(f+d)<s&&Math.abs(h+_)<s&&Math.abs(m+g)<s&&Math.abs(c+v+y-3)<s)return this.set(1,0,0,0),this;t=Math.PI;var w=(c+1)/2,M=(v+1)/2,E=(y+1)/2,S=(f+d)/4,b=(h+_)/4,P=(m+g)/4;return w>M&&w>E?w<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(w),r=S/n,i=b/n):M>E?M<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(M),n=S/r,i=P/r):E<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(E),n=b/i,r=P/i),this.set(n,r,i,t),this}var D=Math.sqrt((g-m)*(g-m)+(h-_)*(h-_)+(d-f)*(d-f));return Math.abs(D)<.001&&(D=1),this.x=(g-m)/D,this.y=(h-_)/D,this.z=(d-f)/D,this.w=Math.acos((c+v+y-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}});function ir(e,t,n){this.width=e,this.height=t,this.scissor=new Gt(0,0,e,t),this.scissorTest=!1,this.viewport=new Gt(0,0,e,t),n=n||{},this.texture=new Ot(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Mn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}ir.prototype=Object.assign(Object.create(La.prototype),{constructor:ir,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Xb(e,t,n){ir.call(this,e,t,n),this.samples=4}Xb.prototype=Object.assign(Object.create(ir.prototype),{constructor:Xb,isWebGLMultisampleRenderTarget:!0,copy:function(e){return ir.prototype.copy.call(this,e),this.samples=e.samples,this}});function yr(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=r!==void 0?r:1}Object.assign(yr,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,s){var u=n[r+0],c=n[r+1],f=n[r+2],h=n[r+3],d=i[a+0],v=i[a+1],m=i[a+2],_=i[a+3];if(h!==_||u!==d||c!==v||f!==m){var g=1-s,y=u*d+c*v+f*m+h*_,w=y>=0?1:-1,M=1-y*y;if(M>Number.EPSILON){var E=Math.sqrt(M),S=Math.atan2(E,y*w);g=Math.sin(g*S)/E,s=Math.sin(s*S)/E}var b=s*w;if(u=u*g+d*b,c=c*g+v*b,f=f*g+m*b,h=h*g+_*b,g===1-s){var P=1/Math.sqrt(u*u+c*c+f*f+h*h);u*=P,c*=P,f*=P,h*=P}}e[t]=u,e[t+1]=c,e[t+2]=f,e[t+3]=h}});Object.defineProperties(yr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(yr.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e.order,s=Math.cos,u=Math.sin,c=s(n/2),f=s(r/2),h=s(i/2),d=u(n/2),v=u(r/2),m=u(i/2);return a==="XYZ"?(this._x=d*f*h+c*v*m,this._y=c*v*h-d*f*m,this._z=c*f*m+d*v*h,this._w=c*f*h-d*v*m):a==="YXZ"?(this._x=d*f*h+c*v*m,this._y=c*v*h-d*f*m,this._z=c*f*m-d*v*h,this._w=c*f*h+d*v*m):a==="ZXY"?(this._x=d*f*h-c*v*m,this._y=c*v*h+d*f*m,this._z=c*f*m+d*v*h,this._w=c*f*h-d*v*m):a==="ZYX"?(this._x=d*f*h-c*v*m,this._y=c*v*h+d*f*m,this._z=c*f*m-d*v*h,this._w=c*f*h+d*v*m):a==="YZX"?(this._x=d*f*h+c*v*m,this._y=c*v*h+d*f*m,this._z=c*f*m-d*v*h,this._w=c*f*h-d*v*m):a==="XZY"&&(this._x=d*f*h-c*v*m,this._y=c*v*h-d*f*m,this._z=c*f*m+d*v*h,this._w=c*f*h+d*v*m),t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],s=t[5],u=t[9],c=t[2],f=t[6],h=t[10],d=n+s+h,v;return d>0?(v=.5/Math.sqrt(d+1),this._w=.25/v,this._x=(f-u)*v,this._y=(i-c)*v,this._z=(a-r)*v):n>s&&n>h?(v=2*Math.sqrt(1+n-s-h),this._w=(f-u)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(i+c)/v):s>h?(v=2*Math.sqrt(1+s-n-h),this._w=(i-c)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(u+f)/v):(v=2*Math.sqrt(1+h-n-s),this._w=(a-r)/v,this._x=(i+c)/v,this._y=(u+f)/v,this._z=.25*v),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=1e-6,r=e.dot(t)+1;return r<n?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(ct.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(n===0)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,s=t._x,u=t._y,c=t._z,f=t._w;return this._x=n*f+a*s+r*c-i*u,this._y=r*f+a*u+i*s-n*c,this._z=i*f+a*c+n*u-r*s,this._w=a*f-n*s-r*u-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,s=a*e._w+n*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var u=1-s*s;if(u<=Number.EPSILON){var c=1-t;return this._w=c*a+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var f=Math.sqrt(u),h=Math.atan2(f,s),d=Math.sin((1-t)*h)/f,v=Math.sin(t*h)/f;return this._w=a*d+this._w*v,this._x=n*d+this._x*v,this._y=r*d+this._y*v,this._z=i*d+this._z*v,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var gm=new B,Yb=new yr;function B(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(B.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yb.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Yb.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,s=e.z,u=e.w,c=u*t+a*r-s*n,f=u*n+s*t-i*r,h=u*r+i*n-a*t,d=-i*t-a*n-s*r;return this.x=c*u+d*-i+f*-s-h*-a,this.y=f*u+d*-a+h*-i-c*-s,this.z=h*u+d*-s+c*-a-f*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,s=t.y,u=t.z;return this.x=r*u-i*s,this.y=i*a-n*u,this.z=n*s-r*a,this},projectOnVector:function(e){var t=e.lengthSq();if(t===0)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return gm.copy(this).projectOnVector(e),this.sub(gm)},reflect:function(e){return this.sub(gm.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(ct.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var Vo=new B,di=new dt,OU=new B(0,0,0),IU=new B(1,1,1),Ha=new B,uh=new B,Pr=new B;function dt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(dt.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,s,u,c,f,h,d,v,m,_,g){var y=this.elements;return y[0]=e,y[4]=t,y[8]=n,y[12]=r,y[1]=i,y[5]=a,y[9]=s,y[13]=u,y[2]=c,y[6]=f,y[10]=h,y[14]=d,y[3]=v,y[7]=m,y[11]=_,y[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new dt().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/Vo.setFromMatrixColumn(e,0).length(),i=1/Vo.setFromMatrixColumn(e,1).length(),a=1/Vo.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),s=Math.sin(n),u=Math.cos(r),c=Math.sin(r),f=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){var d=a*f,v=a*h,m=s*f,_=s*h;t[0]=u*f,t[4]=-u*h,t[8]=c,t[1]=v+m*c,t[5]=d-_*c,t[9]=-s*u,t[2]=_-d*c,t[6]=m+v*c,t[10]=a*u}else if(e.order==="YXZ"){var g=u*f,y=u*h,w=c*f,M=c*h;t[0]=g+M*s,t[4]=w*s-y,t[8]=a*c,t[1]=a*h,t[5]=a*f,t[9]=-s,t[2]=y*s-w,t[6]=M+g*s,t[10]=a*u}else if(e.order==="ZXY"){var g=u*f,y=u*h,w=c*f,M=c*h;t[0]=g-M*s,t[4]=-a*h,t[8]=w+y*s,t[1]=y+w*s,t[5]=a*f,t[9]=M-g*s,t[2]=-a*c,t[6]=s,t[10]=a*u}else if(e.order==="ZYX"){var d=a*f,v=a*h,m=s*f,_=s*h;t[0]=u*f,t[4]=m*c-v,t[8]=d*c+_,t[1]=u*h,t[5]=_*c+d,t[9]=v*c-m,t[2]=-c,t[6]=s*u,t[10]=a*u}else if(e.order==="YZX"){var E=a*u,S=a*c,b=s*u,P=s*c;t[0]=u*f,t[4]=P-E*h,t[8]=b*h+S,t[1]=h,t[5]=a*f,t[9]=-s*f,t[2]=-c*f,t[6]=S*h+b,t[10]=E-P*h}else if(e.order==="XZY"){var E=a*u,S=a*c,b=s*u,P=s*c;t[0]=u*f,t[4]=-h,t[8]=c*f,t[1]=E*h+P,t[5]=a*f,t[9]=S*h-b,t[2]=b*h-S,t[6]=s*f,t[10]=P*h+E}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(OU,e,IU)},lookAt:function(e,t,n){var r=this.elements;return Pr.subVectors(e,t),Pr.lengthSq()===0&&(Pr.z=1),Pr.normalize(),Ha.crossVectors(n,Pr),Ha.lengthSq()===0&&(Math.abs(n.z)===1?Pr.x+=1e-4:Pr.z+=1e-4,Pr.normalize(),Ha.crossVectors(n,Pr)),Ha.normalize(),uh.crossVectors(Pr,Ha),r[0]=Ha.x,r[4]=uh.x,r[8]=Pr.x,r[1]=Ha.y,r[5]=uh.y,r[9]=Pr.y,r[2]=Ha.z,r[6]=uh.z,r[10]=Pr.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],s=n[4],u=n[8],c=n[12],f=n[1],h=n[5],d=n[9],v=n[13],m=n[2],_=n[6],g=n[10],y=n[14],w=n[3],M=n[7],E=n[11],S=n[15],b=r[0],P=r[4],D=r[8],L=r[12],F=r[1],H=r[5],q=r[9],I=r[13],N=r[2],z=r[6],W=r[10],Z=r[14],ee=r[3],J=r[7],te=r[11],ne=r[15];return i[0]=a*b+s*F+u*N+c*ee,i[4]=a*P+s*H+u*z+c*J,i[8]=a*D+s*q+u*W+c*te,i[12]=a*L+s*I+u*Z+c*ne,i[1]=f*b+h*F+d*N+v*ee,i[5]=f*P+h*H+d*z+v*J,i[9]=f*D+h*q+d*W+v*te,i[13]=f*L+h*I+d*Z+v*ne,i[2]=m*b+_*F+g*N+y*ee,i[6]=m*P+_*H+g*z+y*J,i[10]=m*D+_*q+g*W+y*te,i[14]=m*L+_*I+g*Z+y*ne,i[3]=w*b+M*F+E*N+S*ee,i[7]=w*P+M*H+E*z+S*J,i[11]=w*D+M*q+E*W+S*te,i[15]=w*L+M*I+E*Z+S*ne,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],s=e[5],u=e[9],c=e[13],f=e[2],h=e[6],d=e[10],v=e[14],m=e[3],_=e[7],g=e[11],y=e[15];return m*(+i*u*h-r*c*h-i*s*d+n*c*d+r*s*v-n*u*v)+_*(+t*u*v-t*c*d+i*a*d-r*a*v+r*c*f-i*u*f)+g*(+t*c*h-t*s*v-i*a*h+n*a*v+i*s*f-n*c*f)+y*(-r*s*f-t*u*h+t*s*d+r*a*h-n*a*d+n*u*f)},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],s=r[2],u=r[3],c=r[4],f=r[5],h=r[6],d=r[7],v=r[8],m=r[9],_=r[10],g=r[11],y=r[12],w=r[13],M=r[14],E=r[15],S=m*M*d-w*_*d+w*h*g-f*M*g-m*h*E+f*_*E,b=y*_*d-v*M*d-y*h*g+c*M*g+v*h*E-c*_*E,P=v*w*d-y*m*d+y*f*g-c*w*g-v*f*E+c*m*E,D=y*m*h-v*w*h-y*f*_+c*w*_+v*f*M-c*m*M,L=i*S+a*b+s*P+u*D;if(L===0){var F="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(F);return console.warn(F),this.identity()}var H=1/L;return n[0]=S*H,n[1]=(w*_*u-m*M*u-w*s*g+a*M*g+m*s*E-a*_*E)*H,n[2]=(f*M*u-w*h*u+w*s*d-a*M*d-f*s*E+a*h*E)*H,n[3]=(m*h*u-f*_*u-m*s*d+a*_*d+f*s*g-a*h*g)*H,n[4]=b*H,n[5]=(v*M*u-y*_*u+y*s*g-i*M*g-v*s*E+i*_*E)*H,n[6]=(y*h*u-c*M*u-y*s*d+i*M*d+c*s*E-i*h*E)*H,n[7]=(c*_*u-v*h*u+v*s*d-i*_*d-c*s*g+i*h*g)*H,n[8]=P*H,n[9]=(y*m*u-v*w*u-y*a*g+i*w*g+v*a*E-i*m*E)*H,n[10]=(c*w*u-y*f*u+y*a*d-i*w*d-c*a*E+i*f*E)*H,n[11]=(v*f*u-c*m*u-v*a*d+i*m*d+c*a*g-i*f*g)*H,n[12]=D*H,n[13]=(v*w*s-y*m*s+y*a*_-i*w*_-v*a*M+i*m*M)*H,n[14]=(y*f*s-c*w*s-y*a*h+i*w*h+c*a*M-i*f*M)*H,n[15]=(c*m*s-v*f*s+v*a*h-i*m*h-c*a*_+i*f*_)*H,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,s=e.y,u=e.z,c=i*a,f=i*s;return this.set(c*a+n,c*s-r*u,c*u+r*s,0,c*s+r*u,f*s+n,f*u-r*a,0,c*u-r*s,f*u+r*a,i*u*u+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,s=t._z,u=t._w,c=i+i,f=a+a,h=s+s,d=i*c,v=i*f,m=i*h,_=a*f,g=a*h,y=s*h,w=u*c,M=u*f,E=u*h,S=n.x,b=n.y,P=n.z;return r[0]=(1-(_+y))*S,r[1]=(v+E)*S,r[2]=(m-M)*S,r[3]=0,r[4]=(v-E)*b,r[5]=(1-(d+y))*b,r[6]=(g+w)*b,r[7]=0,r[8]=(m+M)*P,r[9]=(g-w)*P,r[10]=(1-(d+_))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=Vo.set(r[0],r[1],r[2]).length(),a=Vo.set(r[4],r[5],r[6]).length(),s=Vo.set(r[8],r[9],r[10]).length(),u=this.determinant();u<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],di.copy(this);var c=1/i,f=1/a,h=1/s;return di.elements[0]*=c,di.elements[1]*=c,di.elements[2]*=c,di.elements[4]*=f,di.elements[5]*=f,di.elements[6]*=f,di.elements[8]*=h,di.elements[9]*=h,di.elements[10]*=h,t.setFromRotationMatrix(di),n.x=i,n.y=a,n.z=s,this},makePerspective:function(e,t,n,r,i,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,u=2*i/(t-e),c=2*i/(n-r),f=(t+e)/(t-e),h=(n+r)/(n-r),d=-(a+i)/(a-i),v=-2*a*i/(a-i);return s[0]=u,s[4]=0,s[8]=f,s[12]=0,s[1]=0,s[5]=c,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=d,s[14]=v,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var s=this.elements,u=1/(t-e),c=1/(n-r),f=1/(a-i),h=(t+e)*u,d=(n+r)*c,v=(a+i)*f;return s[0]=2*u,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-d,s[2]=0,s[6]=0,s[10]=-2*f,s[14]=-v,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var Zb=new dt,Jb=new yr;function rl(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||rl.DefaultOrder}rl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];rl.DefaultOrder="XYZ";Object.defineProperties(rl.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(rl.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=ct.clamp,i=e.elements,a=i[0],s=i[4],u=i[8],c=i[1],f=i[5],h=i[9],d=i[2],v=i[6],m=i[10];return t=t||this._order,t==="XYZ"?(this._y=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,f),this._z=0)):t==="YXZ"?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(u,m),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-d,a),this._z=0)):t==="ZXY"?(this._x=Math.asin(r(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(c,a))):t==="ZYX"?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(v,m),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,f))):t==="YZX"?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(u,m))):t==="XZY"?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-h,m),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,n!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Zb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Zb,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Jb.setFromEuler(this),this.setFromQuaternion(Jb,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new B(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function zT(){this.mask=1}Object.assign(zT.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});var DU=0,Kb=new B,$o=new yr,ua=new dt,lh=new B,Ol=new B,NU=new B,FU=new yr,Qb=new B(1,0,0),e1=new B(0,1,0),t1=new B(0,0,1),BU={type:"added"},zU={type:"removed"};function xe(){Object.defineProperty(this,"id",{value:DU++}),this.uuid=ct.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xe.DefaultUp.clone();var e=new B,t=new rl,n=new yr,r=new B(1,1,1);function i(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(i),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dt},normalMatrix:{value:new Vn}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=xe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new zT,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}xe.DefaultUp=new B(0,1,0);xe.DefaultMatrixAutoUpdate=!0;xe.prototype=Object.assign(Object.create(La.prototype),{constructor:xe,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return $o.setFromAxisAngle(e,t),this.quaternion.multiply($o),this},rotateOnWorldAxis:function(e,t){return $o.setFromAxisAngle(e,t),this.quaternion.premultiply($o),this},rotateX:function(e){return this.rotateOnAxis(Qb,e)},rotateY:function(e){return this.rotateOnAxis(e1,e)},rotateZ:function(e){return this.rotateOnAxis(t1,e)},translateOnAxis:function(e,t){return Kb.copy(e).applyQuaternion(this.quaternion),this.position.add(Kb.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Qb,e)},translateY:function(e){return this.translateOnAxis(e1,e)},translateZ:function(e){return this.translateOnAxis(t1,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(ua.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?lh.copy(e):lh.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Ol.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ua.lookAt(Ol,lh,this.up):ua.lookAt(lh,Ol,this.up),this.quaternion.setFromRotationMatrix(ua),r&&(ua.extractRotation(r.matrixWorld),$o.setFromRotationMatrix(ua),this.quaternion.premultiply($o.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(BU)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(zU)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),ua.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ua.multiply(e.parent.matrixWorld)),e.applyMatrix4(ua),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],a=i.getObjectByProperty(e,t);if(a!==void 0)return a}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new B),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new yr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ol,e,NU),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new B),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ol,FU,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new B),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON());function i(y,w){return y[w.uuid]===void 0&&(y[w.uuid]=w.toJSON(e)),w.uuid}if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){var s=a.shapes;if(Array.isArray(s))for(var u=0,c=s.length;u<c;u++){var f=s[u];i(e.shapes,f)}else i(e.shapes,s)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var h=[],u=0,c=this.material.length;u<c;u++)h.push(i(e.materials,this.material[u]));r.material=h}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(t){var d=g(e.geometries),v=g(e.materials),m=g(e.textures),_=g(e.images),s=g(e.shapes);d.length>0&&(n.geometries=d),v.length>0&&(n.materials=v),m.length>0&&(n.textures=m),_.length>0&&(n.images=_),s.length>0&&(n.shapes=s)}return n.object=r,n;function g(y){var w=[];for(var M in y){var E=y[M];delete E.metadata,w.push(E)}return w}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});function wi(){xe.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}wi.prototype=Object.assign(Object.create(xe.prototype),{constructor:wi,isScene:!0,copy:function(e,t){return xe.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=xe.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var la=[new B,new B,new B,new B,new B,new B,new B,new B],Il=new B,ch=new Yi,jo=new B,qo=new B,Xo=new B,ka=new B,Wa=new B,Ns=new B,Dl=new B,fh=new B,hh=new B,Fs=new B;function Yi(e,t){this.min=e!==void 0?e:new B(1/0,1/0,1/0),this.max=t!==void 0?t:new B(-1/0,-1/0,-1/0)}Object.assign(Yi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,s=-1/0,u=0,c=e.length;u<c;u+=3){var f=e[u],h=e[u+1],d=e[u+2];f<t&&(t=f),h<n&&(n=h),d<r&&(r=d),f>i&&(i=f),h>a&&(a=h),d>s&&(s=d)}return this.min.set(t,n,r),this.max.set(i,a,s),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,s=-1/0,u=0,c=e.count;u<c;u++){var f=e.getX(u),h=e.getY(u),d=e.getZ(u);f<t&&(t=f),h<n&&(n=h),d<r&&(r=d),f>i&&(i=f),h>a&&(a=h),d>s&&(s=d)}return this.min.set(t,n,r),this.max.set(i,a,s),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Il.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new B),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new B),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),ch.copy(t.boundingBox),ch.applyMatrix4(e.matrixWorld),this.expandByPoint(ch.min),this.expandByPoint(ch.max));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new B),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Il),Il.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Dl),fh.subVectors(this.max,Dl),jo.subVectors(e.a,Dl),qo.subVectors(e.b,Dl),Xo.subVectors(e.c,Dl),ka.subVectors(qo,jo),Wa.subVectors(Xo,qo),Ns.subVectors(jo,Xo);var t=[0,-ka.z,ka.y,0,-Wa.z,Wa.y,0,-Ns.z,Ns.y,ka.z,0,-ka.x,Wa.z,0,-Wa.x,Ns.z,0,-Ns.x,-ka.y,ka.x,0,-Wa.y,Wa.x,0,-Ns.y,Ns.x,0];return!_m(t,jo,qo,Xo,fh)||(t=[1,0,0,0,1,0,0,0,1],!_m(t,jo,qo,Xo,fh))?!1:(hh.crossVectors(ka,Wa),t=[hh.x,hh.y,hh.z],_m(t,jo,qo,Xo,fh))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new B),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){var t=Il.copy(e).clamp(this.min,this.max);return t.sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(Il).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(la[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),la[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),la[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),la[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),la[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),la[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),la[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),la[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(la),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function _m(e,t,n,r,i){var a,s;for(a=0,s=e.length-3;a<=s;a+=3){Fs.fromArray(e,a);var u=i.x*Math.abs(Fs.x)+i.y*Math.abs(Fs.y)+i.z*Math.abs(Fs.z),c=t.dot(Fs),f=n.dot(Fs),h=r.dot(Fs);if(Math.max(-Math.max(c,f,h),Math.min(c,f,h))>u)return!1}return!0}var UU=new Yi;function ws(e,t){this.center=e!==void 0?e:new B,this.radius=t!==void 0?t:0}Object.assign(ws.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;t!==void 0?n.copy(t):UU.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new B),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Yi),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var ca=new B,ym=new B,dh=new B,Va=new B,xm=new B,ph=new B,wm=new B;function il(e,t){this.origin=e!==void 0?e:new B,this.direction=t!==void 0?t:new B(0,0,-1)}Object.assign(il.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new B),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,ca)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new B),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=ca.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ca.copy(this.direction).multiplyScalar(t).add(this.origin),ca.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){ym.copy(e).add(t).multiplyScalar(.5),dh.copy(t).sub(e).normalize(),Va.copy(this.origin).sub(ym);var i=e.distanceTo(t)*.5,a=-this.direction.dot(dh),s=Va.dot(this.direction),u=-Va.dot(dh),c=Va.lengthSq(),f=Math.abs(1-a*a),h,d,v,m;if(f>0)if(h=a*u-s,d=a*s-u,m=i*f,h>=0)if(d>=-m)if(d<=m){var _=1/f;h*=_,d*=_,v=h*(h+a*d+2*s)+d*(a*h+d+2*u)+c}else d=i,h=Math.max(0,-(a*d+s)),v=-h*h+d*(d+2*u)+c;else d=-i,h=Math.max(0,-(a*d+s)),v=-h*h+d*(d+2*u)+c;else d<=-m?(h=Math.max(0,-(-a*i+s)),d=h>0?-i:Math.min(Math.max(-i,-u),i),v=-h*h+d*(d+2*u)+c):d<=m?(h=0,d=Math.min(Math.max(-i,-u),i),v=d*(d+2*u)+c):(h=Math.max(0,-(a*i+s)),d=h>0?i:Math.min(Math.max(-i,-u),i),v=-h*h+d*(d+2*u)+c);else d=a>0?-i:i,h=Math.max(0,-(a*d+s)),v=-h*h+d*(d+2*u)+c;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(dh).multiplyScalar(d).add(ym),v},intersectSphere:function(e,t){ca.subVectors(e.center,this.origin);var n=ca.dot(this.direction),r=ca.dot(ca)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),s=n-a,u=n+a;return s<0&&u<0?null:s<0?this.at(u,t):this.at(s,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(t===0)return!0;var n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){var n,r,i,a,s,u,c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),f>=0?(i=(e.min.y-d.y)*f,a=(e.max.y-d.y)*f):(i=(e.max.y-d.y)*f,a=(e.min.y-d.y)*f),n>a||i>r||((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),h>=0?(s=(e.min.z-d.z)*h,u=(e.max.z-d.z)*h):(s=(e.max.z-d.z)*h,u=(e.min.z-d.z)*h),n>u||s>r)||((s>n||n!==n)&&(n=s),(u<r||r!==r)&&(r=u),r<0)?null:this.at(n>=0?n:r,t)},intersectsBox:function(e){return this.intersectBox(e,ca)!==null},intersectTriangle:function(e,t,n,r,i){xm.subVectors(t,e),ph.subVectors(n,e),wm.crossVectors(xm,ph);var a=this.direction.dot(wm),s;if(a>0){if(r)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Va.subVectors(this.origin,e);var u=s*this.direction.dot(ph.crossVectors(Va,ph));if(u<0)return null;var c=s*this.direction.dot(xm.cross(Va));if(c<0||u+c>a)return null;var f=-s*Va.dot(wm);return f<0?null:this.at(f/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var bm=new B,GU=new B,HU=new Vn;function Ri(e,t){this.normal=e!==void 0?e:new B(1,0,0),this.constant=t!==void 0?t:0}Object.assign(Ri.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=bm.subVectors(n,t).cross(GU.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new B),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new B);var n=e.delta(bm),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;if(!(i<0||i>1))return t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new B),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||HU.getNormalMatrix(e),r=this.coplanarPoint(bm).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var mi=new B,da=new B,Mm=new B,fa=new B,Yo=new B,Zo=new B,n1=new B,Sm=new B,Tm=new B,Em=new B;function Dn(e,t,n){this.a=e!==void 0?e:new B,this.b=t!==void 0?t:new B,this.c=n!==void 0?n:new B}Object.assign(Dn,{getNormal:function(e,t,n,r){r===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new B),r.subVectors(n,t),mi.subVectors(e,t),r.cross(mi);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){mi.subVectors(r,t),da.subVectors(n,t),Mm.subVectors(e,t);var a=mi.dot(mi),s=mi.dot(da),u=mi.dot(Mm),c=da.dot(da),f=da.dot(Mm),h=a*c-s*s;if(i===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new B),h===0)return i.set(-2,-1,-1);var d=1/h,v=(c*u-s*f)*d,m=(a*f-s*u)*d;return i.set(1-v-m,m,v)},containsPoint:function(e,t,n,r){return Dn.getBarycoord(e,t,n,r,fa),fa.x>=0&&fa.y>=0&&fa.x+fa.y<=1},getUV:function(e,t,n,r,i,a,s,u){return this.getBarycoord(e,t,n,r,fa),u.set(0,0),u.addScaledVector(i,fa.x),u.addScaledVector(a,fa.y),u.addScaledVector(s,fa.z),u},isFrontFacing:function(e,t,n,r){return mi.subVectors(n,t),da.subVectors(e,t),mi.cross(da).dot(r)<0}});Object.assign(Dn.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return mi.subVectors(this.c,this.b),da.subVectors(this.a,this.b),mi.cross(da).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new B),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Dn.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Ri),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Dn.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return Dn.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return Dn.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Dn.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new B);var n=this.a,r=this.b,i=this.c,a,s;Yo.subVectors(r,n),Zo.subVectors(i,n),Sm.subVectors(e,n);var u=Yo.dot(Sm),c=Zo.dot(Sm);if(u<=0&&c<=0)return t.copy(n);Tm.subVectors(e,r);var f=Yo.dot(Tm),h=Zo.dot(Tm);if(f>=0&&h<=f)return t.copy(r);var d=u*h-f*c;if(d<=0&&u>=0&&f<=0)return a=u/(u-f),t.copy(n).addScaledVector(Yo,a);Em.subVectors(e,i);var v=Yo.dot(Em),m=Zo.dot(Em);if(m>=0&&v<=m)return t.copy(i);var _=v*c-u*m;if(_<=0&&c>=0&&m<=0)return s=c/(c-m),t.copy(n).addScaledVector(Zo,s);var g=f*m-v*h;if(g<=0&&h-f>=0&&v-m>=0)return n1.subVectors(i,r),s=(h-f)/(h-f+(v-m)),t.copy(r).addScaledVector(n1,s);var y=1/(g+_+d);return a=_*y,s=d*y,t.copy(n).addScaledVector(Yo,a).addScaledVector(Zo,s)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var UT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pi={h:0,s:0,l:0},vh={h:0,s:0,l:0};function Se(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}function Am(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function Cm(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Pm(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(Se.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=ct.euclideanModulo(e,1),t=ct.clamp(t,0,1),n=ct.clamp(n,0,1),t===0)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Am(i,r,e+1/3),this.g=Am(i,r,e),this.b=Am(i,r,e-1/3)}return this},setStyle:function(e){function t(d){d!==void 0&&parseFloat(d)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var s=parseFloat(r[1])/360,u=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(s,u,c)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var f=n[1],h=f.length;if(h===3)return this.r=parseInt(f.charAt(0)+f.charAt(0),16)/255,this.g=parseInt(f.charAt(1)+f.charAt(1),16)/255,this.b=parseInt(f.charAt(2)+f.charAt(2),16)/255,this;if(h===6)return this.r=parseInt(f.charAt(0)+f.charAt(1),16)/255,this.g=parseInt(f.charAt(2)+f.charAt(3),16)/255,this.b=parseInt(f.charAt(4)+f.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=UT[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Cm(e.r),this.g=Cm(e.g),this.b=Cm(e.b),this},copyLinearToSRGB:function(e){return this.r=Pm(e.r),this.g=Pm(e.g),this.b=Pm(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),a=Math.min(t,n,r),s,u,c=(a+i)/2;if(a===i)s=0,u=0;else{var f=i-a;switch(u=c<=.5?f/(i+a):f/(2-i-a),i){case t:s=(n-r)/f+(n<r?6:0);break;case n:s=(r-t)/f+2;break;case r:s=(t-n)/f+4;break}s/=6}return e.h=s,e.s=u,e.l=c,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(pi),pi.h+=e,pi.s+=t,pi.l+=n,this.setHSL(pi.h,pi.s,pi.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(pi),e.getHSL(vh);var n=ct.lerp(pi.h,vh.h,t),r=ct.lerp(pi.s,vh.s,t),i=ct.lerp(pi.l,vh.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});Se.NAMES=UT;function Td(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new B,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Se,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=a!==void 0?a:0}Object.assign(Td.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var kU=0;function Xe(){Object.defineProperty(this,"id",{value:kU++}),this.uuid=ct.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Zl,this.side=of,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=AT,this.opacity=1,this.transparent=!1,this.blendSrc=CT,this.blendDst=PT,this.blendEquation=lu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Dg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mm,this.stencilZFail=mm,this.stencilZPass=mm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Xe.prototype=Object.assign(Object.create(La.prototype),{constructor:Xe,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(e!==void 0)for(var t in e){var n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===ET;continue}var r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}},toJSON:function(e){var t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Zl&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==of&&(n.side=this.side),this.vertexColors!==AT&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(s){var u=[];for(var c in s){var f=s[c];delete f.metadata,u.push(f)}return u}if(t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(t!==null){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Xe.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function bi(e){Xe.call(this),this.type="MeshBasicMaterial",this.color=new Se(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}bi.prototype=Object.create(Xe.prototype);bi.prototype.constructor=bi;bi.prototype.isMeshBasicMaterial=!0;bi.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Dt=new B;function Ze(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=yp,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Ze.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ze.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Se),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new le),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new B),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new Gt),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){for(var t=0,n=this.count;t<n;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.applyMatrix3(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.applyMatrix4(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.applyNormalMatrix(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.transformDirection(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Bg(e,t,n){Ze.call(this,new Int8Array(e),t,n)}Bg.prototype=Object.create(Ze.prototype);Bg.prototype.constructor=Bg;function zg(e,t,n){Ze.call(this,new Uint8Array(e),t,n)}zg.prototype=Object.create(Ze.prototype);zg.prototype.constructor=zg;function Ug(e,t,n){Ze.call(this,new Uint8ClampedArray(e),t,n)}Ug.prototype=Object.create(Ze.prototype);Ug.prototype.constructor=Ug;function Gg(e,t,n){Ze.call(this,new Int16Array(e),t,n)}Gg.prototype=Object.create(Ze.prototype);Gg.prototype.constructor=Gg;function xc(e,t,n){Ze.call(this,new Uint16Array(e),t,n)}xc.prototype=Object.create(Ze.prototype);xc.prototype.constructor=xc;function Hg(e,t,n){Ze.call(this,new Int32Array(e),t,n)}Hg.prototype=Object.create(Ze.prototype);Hg.prototype.constructor=Hg;function wc(e,t,n){Ze.call(this,new Uint32Array(e),t,n)}wc.prototype=Object.create(Ze.prototype);wc.prototype.constructor=wc;function ye(e,t,n){Ze.call(this,new Float32Array(e),t,n)}ye.prototype=Object.create(Ze.prototype);ye.prototype.constructor=ye;function kg(e,t,n){Ze.call(this,new Float64Array(e),t,n)}kg.prototype=Object.create(Ze.prototype);kg.prototype.constructor=kg;function GT(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(GT.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var s=i[a];s.materialIndex!==r&&(r=s.materialIndex,t!==void 0&&(t.count=a*3-t.start,n.push(t)),t={start:a*3,materialIndex:r})}t!==void 0&&(t.count=a*3-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=e.morphTargets,u=s.length,c;if(u>0){c=[];for(var f=0;f<u;f++)c[f]={name:s[f].name,data:[]};this.morphTargets.position=c}var h=e.morphNormals,d=h.length,v;if(d>0){v=[];for(var f=0;f<d;f++)v[f]={name:h[f].name,data:[]};this.morphTargets.normal=v}var m=e.skinIndices,_=e.skinWeights,g=m.length===n.length,y=_.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var f=0;f<t.length;f++){var w=t[f];this.vertices.push(n[w.a],n[w.b],n[w.c]);var M=w.vertexNormals;if(M.length===3)this.normals.push(M[0],M[1],M[2]);else{var E=w.normal;this.normals.push(E,E,E)}var S=w.vertexColors;if(S.length===3)this.colors.push(S[0],S[1],S[2]);else{var b=w.color;this.colors.push(b,b,b)}if(i===!0){var P=r[0][f];P!==void 0?this.uvs.push(P[0],P[1],P[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",f),this.uvs.push(new le,new le,new le))}if(a===!0){var P=r[1][f];P!==void 0?this.uvs2.push(P[0],P[1],P[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",f),this.uvs2.push(new le,new le,new le))}for(var D=0;D<u;D++){var L=s[D].vertices;c[D].data.push(L[w.a],L[w.b],L[w.c])}for(var D=0;D<d;D++){var F=h[D].vertexNormals[f];v[D].data.push(F.a,F.b,F.c)}g&&this.skinIndices.push(m[w.a],m[w.b],m[w.c]),y&&this.skinWeights.push(_[w.a],_[w.b],_[w.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function HT(e){if(e.length===0)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var WU=1,Pi=new dt,Lm=new xe,Jo=new B,Lr=new Yi,Nl=new Yi,mn=new B;function Ee(){Object.defineProperty(this,"id",{value:WU+=2}),this.uuid=ct.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ee.prototype=Object.assign(Object.create(La.prototype),{constructor:Ee,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(HT(e)>65535?wc:xc)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(n!==void 0){var r=new Vn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Pi.makeRotationX(e),this.applyMatrix4(Pi),this},rotateY:function(e){return Pi.makeRotationY(e),this.applyMatrix4(Pi),this},rotateZ:function(e){return Pi.makeRotationZ(e),this.applyMatrix4(Pi),this},translate:function(e,t,n){return Pi.makeTranslation(e,t,n),this.applyMatrix4(Pi),this},scale:function(e,t,n){return Pi.makeScale(e,t,n),this.applyMatrix4(Pi),this},lookAt:function(e){return Lm.lookAt(e),Lm.updateMatrix(),this.applyMatrix4(Lm.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jo).negate(),this.translate(Jo.x,Jo.y,Jo.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new ye(t.vertices.length*3,3),r=new ye(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new ye(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new ye(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return t.verticesNeedUpdate===!0&&(r=this.attributes.position,r!==void 0&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),t.normalsNeedUpdate===!0&&(r=this.attributes.normal,r!==void 0&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),t.colorsNeedUpdate===!0&&(r=this.attributes.color,r!==void 0&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,r!==void 0&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,r!==void 0&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new GT().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Ze(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Ze(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(e.colors.length*3);this.setAttribute("color",new Ze(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Ze(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Ze(a,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(var s in e.morphTargets){for(var u=[],c=e.morphTargets[s],f=0,h=c.length;f<h;f++){var d=c[f],v=new ye(d.data.length*3,3);v.name=d.name,u.push(v.copyVector3sArray(d.data))}this.morphAttributes[s]=u}if(e.skinIndices.length>0){var m=new ye(e.skinIndices.length*4,4);this.setAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var _=new ye(e.skinWeights.length*4,4);this.setAttribute("skinWeight",_.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Yi);var e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Lr.setFromBufferAttribute(i),this.morphTargetsRelative?(mn.addVectors(this.boundingBox.min,Lr.min),this.boundingBox.expandByPoint(mn),mn.addVectors(this.boundingBox.max,Lr.max),this.boundingBox.expandByPoint(mn)):(this.boundingBox.expandByPoint(Lr.min),this.boundingBox.expandByPoint(Lr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ws);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(Lr.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Nl.setFromBufferAttribute(a),this.morphTargetsRelative?(mn.addVectors(Lr.min,Nl.min),Lr.expandByPoint(mn),mn.addVectors(Lr.max,Nl.max),Lr.expandByPoint(mn)):(Lr.expandByPoint(Nl.min),Lr.expandByPoint(Nl.max))}Lr.getCenter(n);for(var s=0,r=0,i=e.count;r<i;r++)mn.fromBufferAttribute(e,r),s=Math.max(s,n.distanceToSquared(mn));if(t)for(var r=0,i=t.length;r<i;r++)for(var a=t[r],u=this.morphTargetsRelative,c=0,f=a.count;c<f;c++)mn.fromBufferAttribute(a,c),u&&(Jo.fromBufferAttribute(e,c),mn.add(Jo)),s=Math.max(s,n.distanceToSquared(mn));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(t.normal===void 0)this.setAttribute("normal",new Ze(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var s=t.normal.array,u,c,f,h=new B,d=new B,v=new B,m=new B,_=new B;if(e)for(var g=e.array,i=0,a=e.count;i<a;i+=3)u=g[i+0]*3,c=g[i+1]*3,f=g[i+2]*3,h.fromArray(n,u),d.fromArray(n,c),v.fromArray(n,f),m.subVectors(v,d),_.subVectors(h,d),m.cross(_),s[u]+=m.x,s[u+1]+=m.y,s[u+2]+=m.z,s[c]+=m.x,s[c+1]+=m.y,s[c+2]+=m.z,s[f]+=m.x,s[f+1]+=m.y,s[f+2]+=m.z;else for(var i=0,a=n.length;i<a;i+=9)h.fromArray(n,i),d.fromArray(n,i+3),v.fromArray(n,i+6),m.subVectors(v,d),_.subVectors(h,d),m.cross(_),s[i]=m.x,s[i+1]=m.y,s[i+2]=m.z,s[i+3]=m.x,s[i+4]=m.y,s[i+5]=m.z,s[i+6]=m.x,s[i+7]=m.y,s[i+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(e.attributes[r]!==void 0)for(var i=n[r],a=i.array,s=e.attributes[r],u=s.array,c=s.itemSize*t,f=Math.min(u.length,a.length-c),h=0,d=c;h<f;h++,d++)a[d]=u[h];return this},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)mn.x=e.getX(t),mn.y=e.getY(t),mn.z=e.getZ(t),mn.normalize(),e.setXYZ(t,mn.x,mn.y,mn.z)},toNonIndexed:function(){function e(g,y){for(var w=g.array,M=g.itemSize,E=new w.constructor(y.length*M),S=0,b=0,P=0,D=y.length;P<D;P++){S=y[P]*M;for(var L=0;L<M;L++)E[b++]=w[S++]}return new Ze(E,M)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ee,n=this.index.array,r=this.attributes;for(var i in r){var a=r[i],s=e(a,n);t.setAttribute(i,s)}var u=this.morphAttributes;for(i in u){for(var c=[],f=u[i],h=0,d=f.length;h<d;h++){var a=f[h],s=e(a,n);c.push(s)}t.morphAttributes[i]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var v=this.groups,h=0,m=v.length;h<m;h++){var _=v[h];t.addGroup(_.start,_.count,_.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){var t=this.parameters;for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a=i[n],s=a.toJSON();a.name!==""&&(s.name=a.name),e.data.attributes[n]=s}var u={},c=!1;for(var n in this.morphAttributes){for(var f=this.morphAttributes[n],h=[],d=0,v=f.length;d<v;d++){var a=f[d],s=a.toJSON();a.name!==""&&(s.name=a.name),h.push(s)}h.length>0&&(u[n]=h,c=!0)}c&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var _=this.boundingSphere;return _!==null&&(e.data.boundingSphere={center:_.center.toArray(),radius:_.radius}),e},clone:function(){return new Ee().copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;i!==null&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var s=a[t];this.setAttribute(t,s.clone())}var u=e.morphAttributes;for(t in u){var c=[],f=u[t];for(n=0,r=f.length;n<r;n++)c.push(f[n].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=e.morphTargetsRelative;var h=e.groups;for(n=0,r=h.length;n<r;n++){var d=h[n];this.addGroup(d.start,d.count,d.materialIndex)}var v=e.boundingBox;v!==null&&(this.boundingBox=v.clone());var m=e.boundingSphere;return m!==null&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var r1=new dt,Bs=new il,Rm=new ws,zs=new B,Us=new B,Gs=new B,Om=new B,Im=new B,Dm=new B,mh=new B,gh=new B,_h=new B,gu=new le,_u=new le,yu=new le,Jl=new B,yh=new B;function Vt(e,t){xe.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Ee,this.material=t!==void 0?t:new bi,this.updateMorphTargets()}Vt.prototype=Object.assign(Object.create(xe.prototype),{constructor:Vt,isMesh:!0,copy:function(e){return xe.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry,t,n,r;if(e.isBufferGeometry){var i=e.morphAttributes,a=Object.keys(i);if(a.length>0){var s=i[a[0]];if(s!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,n=s.length;t<n;t++)r=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var u=e.morphTargets;u!==void 0&&u.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Rm.copy(n.boundingSphere),Rm.applyMatrix4(i),e.ray.intersectsSphere(Rm)!==!1&&(r1.getInverse(i),Bs.copy(e.ray).applyMatrix4(r1),!(n.boundingBox!==null&&Bs.intersectsBox(n.boundingBox)===!1)))){var a;if(n.isBufferGeometry){var s,u,c,f=n.index,h=n.attributes.position,d=n.morphAttributes.position,v=n.morphTargetsRelative,m=n.attributes.uv,_=n.attributes.uv2,g=n.groups,y=n.drawRange,w,M,E,S,b,P,D,L;if(f!==null)if(Array.isArray(r))for(w=0,E=g.length;w<E;w++)for(b=g[w],P=r[b.materialIndex],D=Math.max(b.start,y.start),L=Math.min(b.start+b.count,y.start+y.count),M=D,S=L;M<S;M+=3)s=f.getX(M),u=f.getX(M+1),c=f.getX(M+2),a=xh(this,P,e,Bs,h,d,v,m,_,s,u,c),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=b.materialIndex,t.push(a));else for(D=Math.max(0,y.start),L=Math.min(f.count,y.start+y.count),w=D,E=L;w<E;w+=3)s=f.getX(w),u=f.getX(w+1),c=f.getX(w+2),a=xh(this,r,e,Bs,h,d,v,m,_,s,u,c),a&&(a.faceIndex=Math.floor(w/3),t.push(a));else if(h!==void 0)if(Array.isArray(r))for(w=0,E=g.length;w<E;w++)for(b=g[w],P=r[b.materialIndex],D=Math.max(b.start,y.start),L=Math.min(b.start+b.count,y.start+y.count),M=D,S=L;M<S;M+=3)s=M,u=M+1,c=M+2,a=xh(this,P,e,Bs,h,d,v,m,_,s,u,c),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=b.materialIndex,t.push(a));else for(D=Math.max(0,y.start),L=Math.min(h.count,y.start+y.count),w=D,E=L;w<E;w+=3)s=w,u=w+1,c=w+2,a=xh(this,r,e,Bs,h,d,v,m,_,s,u,c),a&&(a.faceIndex=Math.floor(w/3),t.push(a))}else if(n.isGeometry){var F,H,q,I=Array.isArray(r),N=n.vertices,z=n.faces,W,Z=n.faceVertexUvs[0];Z.length>0&&(W=Z);for(var ee=0,J=z.length;ee<J;ee++){var te=z[ee],ne=I?r[te.materialIndex]:r;if(ne!==void 0&&(F=N[te.a],H=N[te.b],q=N[te.c],a=kT(this,ne,e,Bs,F,H,q,Jl),a)){if(W&&W[ee]){var ue=W[ee];gu.copy(ue[0]),_u.copy(ue[1]),yu.copy(ue[2]),a.uv=Dn.getUV(Jl,F,H,q,gu,_u,yu,new le)}a.face=te,a.faceIndex=ee,t.push(a)}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function kT(e,t,n,r,i,a,s,u){var c;if(t.side===En?c=r.intersectTriangle(s,a,i,!0,u):c=r.intersectTriangle(i,a,s,t.side!==vp,u),c===null)return null;yh.copy(u),yh.applyMatrix4(e.matrixWorld);var f=n.ray.origin.distanceTo(yh);return f<n.near||f>n.far?null:{distance:f,point:yh.clone(),object:e}}function xh(e,t,n,r,i,a,s,u,c,f,h,d){zs.fromBufferAttribute(i,f),Us.fromBufferAttribute(i,h),Gs.fromBufferAttribute(i,d);var v=e.morphTargetInfluences;if(t.morphTargets&&a&&v){mh.set(0,0,0),gh.set(0,0,0),_h.set(0,0,0);for(var m=0,_=a.length;m<_;m++){var g=v[m],y=a[m];g!==0&&(Om.fromBufferAttribute(y,f),Im.fromBufferAttribute(y,h),Dm.fromBufferAttribute(y,d),s?(mh.addScaledVector(Om,g),gh.addScaledVector(Im,g),_h.addScaledVector(Dm,g)):(mh.addScaledVector(Om.sub(zs),g),gh.addScaledVector(Im.sub(Us),g),_h.addScaledVector(Dm.sub(Gs),g)))}zs.add(mh),Us.add(gh),Gs.add(_h)}var w=kT(e,t,n,r,zs,Us,Gs,Jl);if(w){u&&(gu.fromBufferAttribute(u,f),_u.fromBufferAttribute(u,h),yu.fromBufferAttribute(u,d),w.uv=Dn.getUV(Jl,zs,Us,Gs,gu,_u,yu,new le)),c&&(gu.fromBufferAttribute(c,f),_u.fromBufferAttribute(c,h),yu.fromBufferAttribute(c,d),w.uv2=Dn.getUV(Jl,zs,Us,Gs,gu,_u,yu,new le));var M=new Td(f,h,d);Dn.getNormal(zs,Us,Gs,M.normal),w.face=M}return w}var VU=0,Li=new dt,Nm=new xe,wh=new B;function Je(){Object.defineProperty(this,"id",{value:VU+=2}),this.uuid=ct.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Je.prototype=Object.assign(Object.create(La.prototype),{constructor:Je,isGeometry:!0,applyMatrix4:function(e){for(var t=new Vn().getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){var i=this.vertices[n];i.applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var a=this.faces[n];a.normal.applyMatrix3(t).normalize();for(var s=0,u=a.vertexNormals.length;s<u;s++)a.vertexNormals[s].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Li.makeRotationX(e),this.applyMatrix4(Li),this},rotateY:function(e){return Li.makeRotationY(e),this.applyMatrix4(Li),this},rotateZ:function(e){return Li.makeRotationZ(e),this.applyMatrix4(Li),this},translate:function(e,t,n){return Li.makeTranslation(e,t,n),this.applyMatrix4(Li),this},scale:function(e,t,n){return Li.makeScale(e,t,n),this.applyMatrix4(Li),this},lookAt:function(e){return Nm.lookAt(e),Nm.updateMatrix(),this.applyMatrix4(Nm.matrix),this},fromBufferGeometry:function(e){var t=this,n=e.index!==null?e.index.array:void 0,r=e.attributes;if(r.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position.array,a=r.normal!==void 0?r.normal.array:void 0,s=r.color!==void 0?r.color.array:void 0,u=r.uv!==void 0?r.uv.array:void 0,c=r.uv2!==void 0?r.uv2.array:void 0;c!==void 0&&(this.faceVertexUvs[1]=[]);for(var f=0;f<i.length;f+=3)t.vertices.push(new B().fromArray(i,f)),s!==void 0&&t.colors.push(new Se().fromArray(s,f));function h(w,M,E,S){var b=s===void 0?[]:[t.colors[w].clone(),t.colors[M].clone(),t.colors[E].clone()],P=a===void 0?[]:[new B().fromArray(a,w*3),new B().fromArray(a,M*3),new B().fromArray(a,E*3)],D=new Td(w,M,E,P,b,S);t.faces.push(D),u!==void 0&&t.faceVertexUvs[0].push([new le().fromArray(u,w*2),new le().fromArray(u,M*2),new le().fromArray(u,E*2)]),c!==void 0&&t.faceVertexUvs[1].push([new le().fromArray(c,w*2),new le().fromArray(c,M*2),new le().fromArray(c,E*2)])}var d=e.groups;if(d.length>0)for(var f=0;f<d.length;f++)for(var v=d[f],m=v.start,_=v.count,g=m,y=m+_;g<y;g+=3)n!==void 0?h(n[g],n[g+1],n[g+2],v.materialIndex):h(g,g+1,g+2,v.materialIndex);else if(n!==void 0)for(var f=0;f<n.length;f+=3)h(n[f],n[f+1],n[f+2]);else for(var f=0;f<i.length/3;f+=3)h(f,f+1,f+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(wh).negate(),this.translate(wh.x,wh.y,wh.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,r=new dt;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new B,t=new B,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],s=this.vertices[i.b],u=this.vertices[i.c];e.subVectors(u,s),t.subVectors(a,s),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var t,n,r,i,a,s;for(s=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)s[t]=new B;if(e){var u,c,f,h=new B,d=new B;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],u=this.vertices[a.a],c=this.vertices[a.b],f=this.vertices[a.c],h.subVectors(f,c),d.subVectors(u,c),h.cross(d),s[a.a].add(h),s[a.b].add(h),s[a.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)s[t].normalize();for(r=0,i=this.faces.length;r<i;r++){a=this.faces[r];var v=a.vertexNormals;v.length===3?(v[0].copy(s[a.a]),v[1].copy(s[a.b]),v[2].copy(s[a.c])):(v[0]=s[a.a].clone(),v[1]=s[a.b].clone(),v[2]=s[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;r.length===3?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new Je;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s=this.morphNormals[e].faceNormals,u=this.morphNormals[e].vertexNormals,f,h;for(n=0,r=this.faces.length;n<r;n++)f=new B,h={a:new B,b:new B,c:new B},s.push(f),u.push(h)}var c=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var f,h;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],f=c.faceNormals[n],h=c.vertexNormals[n],f.copy(i.normal),h.a.copy(i.vertexNormals[0]),h.b.copy(i.vertexNormals[1]),h.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Yi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ws),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}var r,i=this.vertices.length,a=this.vertices,s=e.vertices,u=this.faces,c=e.faces,f=this.colors,h=e.colors;n===void 0&&(n=0),t!==void 0&&(r=new Vn().getNormalMatrix(t));for(var d=0,v=s.length;d<v;d++){var m=s[d],_=m.clone();t!==void 0&&_.applyMatrix4(t),a.push(_)}for(var d=0,v=h.length;d<v;d++)f.push(h[d].clone());for(d=0,v=c.length;d<v;d++){var g=c[d],y,w,M,E=g.vertexNormals,S=g.vertexColors;y=new Td(g.a+i,g.b+i,g.c+i),y.normal.copy(g.normal),r!==void 0&&y.normal.applyMatrix3(r).normalize();for(var b=0,P=E.length;b<P;b++)w=E[b].clone(),r!==void 0&&w.applyMatrix3(r).normalize(),y.vertexNormals.push(w);y.color.copy(g.color);for(var b=0,P=S.length;b<P;b++)M=S[b],y.vertexColors.push(M.clone());y.materialIndex=g.materialIndex+n,u.push(y)}for(var d=0,v=e.faceVertexUvs.length;d<v;d++){var D=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(var b=0,P=D.length;b<P;b++){for(var L=D[b],F=[],H=0,q=L.length;H<q;H++)F.push(L[H].clone());this.faceVertexUvs[d].push(F)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e={},t=[],n=[],r,i,a=4,s=Math.pow(10,a),u,c,f,h,d,v;for(u=0,c=this.vertices.length;u<c;u++)r=this.vertices[u],i=Math.round(r.x*s)+"_"+Math.round(r.y*s)+"_"+Math.round(r.z*s),e[i]===void 0?(e[i]=u,t.push(this.vertices[u]),n[u]=t.length-1):n[u]=n[e[i]];var m=[];for(u=0,c=this.faces.length;u<c;u++){f=this.faces[u],f.a=n[f.a],f.b=n[f.b],f.c=n[f.c],h=[f.a,f.b,f.c];for(var _=0;_<3;_++)if(h[_]===h[(_+1)%3]){m.push(u);break}}for(u=m.length-1;u>=0;u--){var g=m[u];for(this.faces.splice(g,1),d=0,v=this.faceVertexUvs.length;d<v;d++)this.faceVertexUvs[d].splice(g,1)}var y=this.vertices.length-t.length;return this.vertices=t,y},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new B(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;function r(f,h){return f.materialIndex-h.materialIndex}e.sort(r);var i=this.faceVertexUvs[0],a=this.faceVertexUvs[1],s,u;i&&i.length===t&&(s=[]),a&&a.length===t&&(u=[]);for(var n=0;n<t;n++){var c=e[n]._id;s&&s.push(i[c]),u&&u.push(a[c])}s&&(this.faceVertexUvs[0]=s),u&&(this.faceVertexUvs[1]=u)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){var t=this.parameters;for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}for(var s=[],u=[],c={},f=[],h={},d=[],v={},i=0;i<this.faces.length;i++){var m=this.faces[i],_=!0,g=!1,y=this.faceVertexUvs[0][i]!==void 0,w=m.normal.length()>0,M=m.vertexNormals.length>0,E=m.color.r!==1||m.color.g!==1||m.color.b!==1,S=m.vertexColors.length>0,b=0;if(b=F(b,0,0),b=F(b,1,_),b=F(b,2,g),b=F(b,3,y),b=F(b,4,w),b=F(b,5,M),b=F(b,6,E),b=F(b,7,S),s.push(b),s.push(m.a,m.b,m.c),s.push(m.materialIndex),y){var P=this.faceVertexUvs[0][i];s.push(I(P[0]),I(P[1]),I(P[2]))}if(w&&s.push(H(m.normal)),M){var D=m.vertexNormals;s.push(H(D[0]),H(D[1]),H(D[2]))}if(E&&s.push(q(m.color)),S){var L=m.vertexColors;s.push(q(L[0]),q(L[1]),q(L[2]))}}function F(N,z,W){return W?N|1<<z:N&~(1<<z)}function H(N){var z=N.x.toString()+N.y.toString()+N.z.toString();return c[z]!==void 0||(c[z]=u.length/3,u.push(N.x,N.y,N.z)),c[z]}function q(N){var z=N.r.toString()+N.g.toString()+N.b.toString();return h[z]!==void 0||(h[z]=f.length,f.push(N.getHex())),h[z]}function I(N){var z=N.x.toString()+N.y.toString();return v[z]!==void 0||(v[z]=d.length/2,d.push(N.x,N.y)),v[z]}return e.data={},e.data.vertices=r,e.data.normals=u,f.length>0&&(e.data.colors=f),d.length>0&&(e.data.uvs=[d]),e.data.faces=s,e},clone:function(){return new Je().copy(this)},copy:function(e){var t,n,r,i,a,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var u=e.vertices;for(t=0,n=u.length;t<n;t++)this.vertices.push(u[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var f=e.faces;for(t=0,n=f.length;t<n;t++)this.faces.push(f[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var h=e.faceVertexUvs[t];for(this.faceVertexUvs[t]===void 0&&(this.faceVertexUvs[t]=[]),r=0,i=h.length;r<i;r++){var d=h[r],v=[];for(a=0,s=d.length;a<s;a++){var m=d[a];v.push(m.clone())}this.faceVertexUvs[t].push(v)}}var _=e.morphTargets;for(t=0,n=_.length;t<n;t++){var g={};if(g.name=_[t].name,_[t].vertices!==void 0)for(g.vertices=[],r=0,i=_[t].vertices.length;r<i;r++)g.vertices.push(_[t].vertices[r].clone());if(_[t].normals!==void 0)for(g.normals=[],r=0,i=_[t].normals.length;r<i;r++)g.normals.push(_[t].normals[r].clone());this.morphTargets.push(g)}var y=e.morphNormals;for(t=0,n=y.length;t<n;t++){var w={};if(y[t].vertexNormals!==void 0)for(w.vertexNormals=[],r=0,i=y[t].vertexNormals.length;r<i;r++){var M=y[t].vertexNormals[r],E={};E.a=M.a.clone(),E.b=M.b.clone(),E.c=M.c.clone(),w.vertexNormals.push(E)}if(y[t].faceNormals!==void 0)for(w.faceNormals=[],r=0,i=y[t].faceNormals.length;r<i;r++)w.faceNormals.push(y[t].faceNormals[r].clone());this.morphNormals.push(w)}var S=e.skinWeights;for(t=0,n=S.length;t<n;t++)this.skinWeights.push(S[t].clone());var b=e.skinIndices;for(t=0,n=b.length;t<n;t++)this.skinIndices.push(b[t].clone());var P=e.lineDistances;for(t=0,n=P.length;t<n;t++)this.lineDistances.push(P[t]);var D=e.boundingBox;D!==null&&(this.boundingBox=D.clone());var L=e.boundingSphere;return L!==null&&(this.boundingSphere=L.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class $U extends Je{constructor(t,n,r,i,a,s){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s},this.fromBufferGeometry(new xp(t,n,r,i,a,s)),this.mergeVertices()}}class xp extends Ee{constructor(t,n,r,i,a,s){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};var u=this;t=t||1,n=n||1,r=r||1,i=Math.floor(i)||1,a=Math.floor(a)||1,s=Math.floor(s)||1;var c=[],f=[],h=[],d=[],v=0,m=0;_("z","y","x",-1,-1,r,n,t,s,a,0),_("z","y","x",1,-1,r,n,-t,s,a,1),_("x","z","y",1,1,t,r,n,i,s,2),_("x","z","y",1,-1,t,r,-n,i,s,3),_("x","y","z",1,-1,t,n,r,i,a,4),_("x","y","z",-1,-1,t,n,-r,i,a,5),this.setIndex(c),this.setAttribute("position",new ye(f,3)),this.setAttribute("normal",new ye(h,3)),this.setAttribute("uv",new ye(d,2));function _(g,y,w,M,E,S,b,P,D,L,F){var H=S/D,q=b/L,I=S/2,N=b/2,z=P/2,W=D+1,Z=L+1,ee=0,J=0,te,ne,ue=new B;for(ne=0;ne<Z;ne++){var _e=ne*q-N;for(te=0;te<W;te++){var Fe=te*H-I;ue[g]=Fe*M,ue[y]=_e*E,ue[w]=z,f.push(ue.x,ue.y,ue.z),ue[g]=0,ue[y]=0,ue[w]=P>0?1:-1,h.push(ue.x,ue.y,ue.z),d.push(te/D),d.push(1-ne/L),ee+=1}}for(ne=0;ne<L;ne++)for(te=0;te<D;te++){var De=v+te+W*ne,Me=v+te+W*(ne+1),ae=v+(te+1)+W*(ne+1),ft=v+(te+1)+W*ne;c.push(De,Me,ft),c.push(Me,ae,ft),J+=6}u.addGroup(m,J,F),m+=J,v+=ee}}}function Du(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Gn(e){for(var t={},n=0;n<e.length;n++){var r=Du(e[n]);for(var i in r)t[i]=r[i]}return t}var jU={clone:Du,merge:Gn},qU=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,XU=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Bn(e){Xe.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=qU,this.fragmentShader=XU,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Bn.prototype=Object.create(Xe.prototype);Bn.prototype.constructor=Bn;Bn.prototype.isShaderMaterial=!0;Bn.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Du(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this};Bn.prototype.toJSON=function(e){var t=Xe.prototype.toJSON.call(this,e);t.uniforms={};for(var n in this.uniforms){var r=this.uniforms[n],i=r.value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var s in this.extensions)this.extensions[s]===!0&&(a[s]=!0);return Object.keys(a).length>0&&(t.extensions=a),t};function Ma(){xe.call(this),this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}Ma.prototype=Object.assign(Object.create(xe.prototype),{constructor:Ma,isCamera:!0,copy:function(e,t){return xe.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new B),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){xe.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){xe.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function rn(e,t,n,r){Ma.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=r!==void 0?r:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}rn.prototype=Object.assign(Object.create(Ma.prototype),{constructor:rn,isPerspectiveCamera:!0,copy:function(e,t){return Ma.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=ct.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(ct.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return ct.RAD2DEG*2*Math.atan(Math.tan(ct.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(ct.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(this.view!==null&&this.view.enabled){var s=a.fullWidth,u=a.fullHeight;i+=a.offsetX*r/s,t-=a.offsetY*n/u,r*=a.width/s,n*=a.height/u}var c=this.filmOffset;c!==0&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=xe.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Ko=90,Qo=1;function bc(e,t,n,r){xe.call(this),this.type="CubeCamera";var i=new rn(Ko,Qo,e,t);i.up.set(0,-1,0),i.lookAt(new B(1,0,0)),this.add(i);var a=new rn(Ko,Qo,e,t);a.up.set(0,-1,0),a.lookAt(new B(-1,0,0)),this.add(a);var s=new rn(Ko,Qo,e,t);s.up.set(0,0,1),s.lookAt(new B(0,1,0)),this.add(s);var u=new rn(Ko,Qo,e,t);u.up.set(0,0,-1),u.lookAt(new B(0,-1,0)),this.add(u);var c=new rn(Ko,Qo,e,t);c.up.set(0,-1,0),c.lookAt(new B(0,0,1)),this.add(c);var f=new rn(Ko,Qo,e,t);f.up.set(0,-1,0),f.lookAt(new B(0,0,-1)),this.add(f),r=r||{format:co,magFilter:Mn,minFilter:Mn},this.renderTarget=new Nu(n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(h,d){this.parent===null&&this.updateMatrixWorld();var v=h.getRenderTarget(),m=this.renderTarget,_=m.texture.generateMipmaps;m.texture.generateMipmaps=!1,h.setRenderTarget(m,0),h.render(d,i),h.setRenderTarget(m,1),h.render(d,a),h.setRenderTarget(m,2),h.render(d,s),h.setRenderTarget(m,3),h.render(d,u),h.setRenderTarget(m,4),h.render(d,c),m.texture.generateMipmaps=_,h.setRenderTarget(m,5),h.render(d,f),h.setRenderTarget(v)},this.clear=function(h,d,v,m){for(var _=h.getRenderTarget(),g=this.renderTarget,y=0;y<6;y++)h.setRenderTarget(g,y),h.clear(d,v,m);h.setRenderTarget(_)}}bc.prototype=Object.create(xe.prototype);bc.prototype.constructor=bc;function Nu(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),ir.call(this,e,e,t)}Nu.prototype=Object.create(ir.prototype);Nu.prototype.constructor=Nu;Nu.prototype.isWebGLCubeRenderTarget=!0;Nu.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new wi,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV;","	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},i=new Bn({type:"CubemapFromEquirect",uniforms:Du(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:En,blending:rs});i.uniforms.tEquirect.value=t;var a=new Vt(new xp(5,5,5),i);n.add(a);var s=new bc(1,10,1);return s.renderTarget=this,s.renderTarget.texture.name="CubeCameraTexture",s.update(e,n),a.geometry.dispose(),a.material.dispose(),this};function Fu(e,t,n,r,i,a,s,u,c,f,h,d){Ot.call(this,null,a,s,u,c,f,r,i,h,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=c!==void 0?c:dn,this.minFilter=f!==void 0?f:dn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Fu.prototype=Object.create(Ot.prototype);Fu.prototype.constructor=Fu;Fu.prototype.isDataTexture=!0;var eu=new ws,bh=new B;function cf(e,t,n,r,i,a){this.planes=[e!==void 0?e:new Ri,t!==void 0?t:new Ri,n!==void 0?n:new Ri,r!==void 0?r:new Ri,i!==void 0?i:new Ri,a!==void 0?a:new Ri]}Object.assign(cf.prototype,{set:function(e,t,n,r,i,a){var s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(a),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],c=n[5],f=n[6],h=n[7],d=n[8],v=n[9],m=n[10],_=n[11],g=n[12],y=n[13],w=n[14],M=n[15];return t[0].setComponents(s-r,h-u,_-d,M-g).normalize(),t[1].setComponents(s+r,h+u,_+d,M+g).normalize(),t[2].setComponents(s+i,h+c,_+v,M+y).normalize(),t[3].setComponents(s-i,h-c,_-v,M-y).normalize(),t[4].setComponents(s-a,h-f,_-m,M-w).normalize(),t[5].setComponents(s+a,h+f,_+m,M+w).normalize(),this},intersectsObject:function(e){var t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),eu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(eu)},intersectsSprite:function(e){return eu.center.set(0,0,0),eu.radius=.7071067811865476,eu.applyMatrix4(e.matrixWorld),this.intersectsSphere(eu)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var a=t[i].distanceToPoint(n);if(a<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(bh.x=r.normal.x>0?e.max.x:e.min.x,bh.y=r.normal.y>0?e.max.y:e.min.y,bh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(bh)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var ge={common:{diffuse:{value:new Se(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vn},uv2Transform:{value:new Vn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Se(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Se(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vn}},sprite:{diffuse:{value:new Se(15658734)},opacity:{value:1},center:{value:new le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vn}}};function WT(){var e=null,t=!1,n=null;function r(i,a){t!==!1&&(n(i,a),e.requestAnimationFrame(r))}return{start:function(){t!==!0&&n!==null&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(i){n=i},setContext:function(i){e=i}}}function YU(e,t){var n=t.isWebGL2,r=new WeakMap;function i(f,h){var d=f.array,v=f.usage,m=e.createBuffer();e.bindBuffer(h,m),e.bufferData(h,d,v),f.onUploadCallback();var _=5126;return d instanceof Float32Array?_=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?_=5123:d instanceof Int16Array?_=5122:d instanceof Uint32Array?_=5125:d instanceof Int32Array?_=5124:d instanceof Int8Array?_=5120:d instanceof Uint8Array&&(_=5121),{buffer:m,type:_,bytesPerElement:d.BYTES_PER_ELEMENT,version:f.version}}function a(f,h,d){var v=h.array,m=h.updateRange;e.bindBuffer(d,f),m.count===-1?e.bufferSubData(d,0,v):(n?e.bufferSubData(d,m.offset*v.BYTES_PER_ELEMENT,v,m.offset,m.count):e.bufferSubData(d,m.offset*v.BYTES_PER_ELEMENT,v.subarray(m.offset,m.offset+m.count)),m.count=-1)}function s(f){return f.isInterleavedBufferAttribute&&(f=f.data),r.get(f)}function u(f){f.isInterleavedBufferAttribute&&(f=f.data);var h=r.get(f);h&&(e.deleteBuffer(h.buffer),r.delete(f))}function c(f,h){f.isInterleavedBufferAttribute&&(f=f.data);var d=r.get(f);d===void 0?r.set(f,i(f,h)):d.version<f.version&&(a(d.buffer,f,h),d.version=f.version)}return{get:s,remove:u,update:c}}function Ed(e,t,n,r){Je.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Sa(e,t,n,r)),this.mergeVertices()}Ed.prototype=Object.create(Je.prototype);Ed.prototype.constructor=Ed;function Sa(e,t,n,r){Ee.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;var i=e/2,a=t/2,s=Math.floor(n)||1,u=Math.floor(r)||1,c=s+1,f=u+1,h=e/s,d=t/u,v,m,_=[],g=[],y=[],w=[];for(m=0;m<f;m++){var M=m*d-a;for(v=0;v<c;v++){var E=v*h-i;g.push(E,-M,0),y.push(0,0,1),w.push(v/s),w.push(1-m/u)}}for(m=0;m<u;m++)for(v=0;v<s;v++){var S=v+c*m,b=v+c*(m+1),P=v+1+c*(m+1),D=v+1+c*m;_.push(S,b,D),_.push(b,P,D)}this.setIndex(_),this.setAttribute("position",new ye(g,3)),this.setAttribute("normal",new ye(y,3)),this.setAttribute("uv",new ye(w,2))}Sa.prototype=Object.create(Ee.prototype);Sa.prototype.constructor=Sa;var ZU=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,JU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KU=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,QU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,eG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tG="vec3 transformed = vec3( position );",nG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rG=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,iG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,aG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;
	}
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;
		}
		if ( clipped ) discard;
	#endif
#endif`,sG=`#if NUM_CLIPPING_PLANES > 0
	#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oG=`#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif`,uG=`#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif`,lG=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,cG=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,fG=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,hG=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,dG=`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}`,pG=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);
    } else if (face == 1.0) {
      uv = vec2(direction.x, -direction.z) / abs(direction.y);
    } else if (face == 2.0) {
      uv = direction.xy / abs(direction.z);
    } else if (face == 3.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);
    } else if (face == 4.0) {
      uv = direction.xz / abs(direction.y);
    } else {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);
    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,vG=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	transformedNormal = mat3( instanceMatrix ) * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,_G=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xG="gl_FragColor = linearToOutputTexel( gl_FragColor );",wG=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,bG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		reflectVec = normalize( reflectVec );
		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,SG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,TG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,EG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,AG=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,CG=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,PG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,LG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,RG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,OG=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,IG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DG=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif`,NG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,FG=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,BG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,zG=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,UG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,GG=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,HG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = saturate( clearcoat );	material.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,kG=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,WG=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,VG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,$G=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,jG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,qG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,XG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,YG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ZG=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,JG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,e4=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,t4=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,n4=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,r4=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,i4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,a4=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,s4=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,o4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,u4=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,l4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,c4=`#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,f4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,h4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,d4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,p4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,v4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,m4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,g4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_4=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,y4=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,x4=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif`,w4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}`,b4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,M4=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,S4=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,T4=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,E4=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,A4=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,C4=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,P4=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,L4=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,R4=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,O4=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,I4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,D4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,N4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,F4=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,B4=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,z4=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,U4=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,G4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,H4=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );
	#endif
}`,k4=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}`,W4=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,V4=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,$4=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV;
	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,j4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,q4=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,X4=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Y4=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Z4=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,J4=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,K4=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Q4=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eH=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,tH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nH=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iH=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aH=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sH=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,uH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,lH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,hH=`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,pH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mt={alphamap_fragment:ZU,alphamap_pars_fragment:JU,alphatest_fragment:KU,aomap_fragment:QU,aomap_pars_fragment:eG,begin_vertex:tG,beginnormal_vertex:nG,bsdfs:rG,bumpmap_pars_fragment:iG,clipping_planes_fragment:aG,clipping_planes_pars_fragment:sG,clipping_planes_pars_vertex:oG,clipping_planes_vertex:uG,color_fragment:lG,color_pars_fragment:cG,color_pars_vertex:fG,color_vertex:hG,common:dG,cube_uv_reflection_fragment:pG,defaultnormal_vertex:vG,displacementmap_pars_vertex:mG,displacementmap_vertex:gG,emissivemap_fragment:_G,emissivemap_pars_fragment:yG,encodings_fragment:xG,encodings_pars_fragment:wG,envmap_fragment:bG,envmap_common_pars_fragment:MG,envmap_pars_fragment:SG,envmap_pars_vertex:TG,envmap_physical_pars_fragment:FG,envmap_vertex:EG,fog_vertex:AG,fog_pars_vertex:CG,fog_fragment:PG,fog_pars_fragment:LG,gradientmap_pars_fragment:RG,lightmap_fragment:OG,lightmap_pars_fragment:IG,lights_lambert_vertex:DG,lights_pars_begin:NG,lights_toon_fragment:BG,lights_toon_pars_fragment:zG,lights_phong_fragment:UG,lights_phong_pars_fragment:GG,lights_physical_fragment:HG,lights_physical_pars_fragment:kG,lights_fragment_begin:WG,lights_fragment_maps:VG,lights_fragment_end:$G,logdepthbuf_fragment:jG,logdepthbuf_pars_fragment:qG,logdepthbuf_pars_vertex:XG,logdepthbuf_vertex:YG,map_fragment:ZG,map_pars_fragment:JG,map_particle_fragment:KG,map_particle_pars_fragment:QG,metalnessmap_fragment:e4,metalnessmap_pars_fragment:t4,morphnormal_vertex:n4,morphtarget_pars_vertex:r4,morphtarget_vertex:i4,normal_fragment_begin:a4,normal_fragment_maps:s4,normalmap_pars_fragment:o4,clearcoat_normal_fragment_begin:u4,clearcoat_normal_fragment_maps:l4,clearcoat_normalmap_pars_fragment:c4,packing:f4,premultiplied_alpha_fragment:h4,project_vertex:d4,dithering_fragment:p4,dithering_pars_fragment:v4,roughnessmap_fragment:m4,roughnessmap_pars_fragment:g4,shadowmap_pars_fragment:_4,shadowmap_pars_vertex:y4,shadowmap_vertex:x4,shadowmask_pars_fragment:w4,skinbase_vertex:b4,skinning_pars_vertex:M4,skinning_vertex:S4,skinnormal_vertex:T4,specularmap_fragment:E4,specularmap_pars_fragment:A4,tonemapping_fragment:C4,tonemapping_pars_fragment:P4,uv_pars_fragment:L4,uv_pars_vertex:R4,uv_vertex:O4,uv2_pars_fragment:I4,uv2_pars_vertex:D4,uv2_vertex:N4,worldpos_vertex:F4,background_frag:B4,background_vert:z4,cube_frag:U4,cube_vert:G4,depth_frag:H4,depth_vert:k4,distanceRGBA_frag:W4,distanceRGBA_vert:V4,equirect_frag:$4,equirect_vert:j4,linedashed_frag:q4,linedashed_vert:X4,meshbasic_frag:Y4,meshbasic_vert:Z4,meshlambert_frag:J4,meshlambert_vert:K4,meshmatcap_frag:Q4,meshmatcap_vert:eH,meshtoon_frag:tH,meshtoon_vert:nH,meshphong_frag:rH,meshphong_vert:iH,meshphysical_frag:aH,meshphysical_vert:sH,normal_frag:oH,normal_vert:uH,points_frag:lH,points_vert:cH,shadow_frag:fH,shadow_vert:hH,sprite_frag:dH,sprite_vert:pH},ma={basic:{uniforms:Gn([ge.common,ge.specularmap,ge.envmap,ge.aomap,ge.lightmap,ge.fog]),vertexShader:mt.meshbasic_vert,fragmentShader:mt.meshbasic_frag},lambert:{uniforms:Gn([ge.common,ge.specularmap,ge.envmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.fog,ge.lights,{emissive:{value:new Se(0)}}]),vertexShader:mt.meshlambert_vert,fragmentShader:mt.meshlambert_frag},phong:{uniforms:Gn([ge.common,ge.specularmap,ge.envmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.fog,ge.lights,{emissive:{value:new Se(0)},specular:{value:new Se(1118481)},shininess:{value:30}}]),vertexShader:mt.meshphong_vert,fragmentShader:mt.meshphong_frag},standard:{uniforms:Gn([ge.common,ge.envmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.roughnessmap,ge.metalnessmap,ge.fog,ge.lights,{emissive:{value:new Se(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag},toon:{uniforms:Gn([ge.common,ge.specularmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.gradientmap,ge.fog,ge.lights,{emissive:{value:new Se(0)},specular:{value:new Se(1118481)},shininess:{value:30}}]),vertexShader:mt.meshtoon_vert,fragmentShader:mt.meshtoon_frag},matcap:{uniforms:Gn([ge.common,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.fog,{matcap:{value:null}}]),vertexShader:mt.meshmatcap_vert,fragmentShader:mt.meshmatcap_frag},points:{uniforms:Gn([ge.points,ge.fog]),vertexShader:mt.points_vert,fragmentShader:mt.points_frag},dashed:{uniforms:Gn([ge.common,ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mt.linedashed_vert,fragmentShader:mt.linedashed_frag},depth:{uniforms:Gn([ge.common,ge.displacementmap]),vertexShader:mt.depth_vert,fragmentShader:mt.depth_frag},normal:{uniforms:Gn([ge.common,ge.bumpmap,ge.normalmap,ge.displacementmap,{opacity:{value:1}}]),vertexShader:mt.normal_vert,fragmentShader:mt.normal_frag},sprite:{uniforms:Gn([ge.sprite,ge.fog]),vertexShader:mt.sprite_vert,fragmentShader:mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Vn},t2D:{value:null}},vertexShader:mt.background_vert,fragmentShader:mt.background_frag},cube:{uniforms:Gn([ge.envmap,{opacity:{value:1}}]),vertexShader:mt.cube_vert,fragmentShader:mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mt.equirect_vert,fragmentShader:mt.equirect_frag},distanceRGBA:{uniforms:Gn([ge.common,ge.displacementmap,{referencePosition:{value:new B},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mt.distanceRGBA_vert,fragmentShader:mt.distanceRGBA_frag},shadow:{uniforms:Gn([ge.lights,ge.fog,{color:{value:new Se(0)},opacity:{value:1}}]),vertexShader:mt.shadow_vert,fragmentShader:mt.shadow_frag}};ma.physical={uniforms:Gn([ma.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Se(0)},clearcoatNormalScale:{value:new le(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag};function vH(e,t,n,r){var i=new Se(0),a=0,s,u,c=null,f=0,h=null;function d(m,_,g,y){var w=_.background,M=e.xr,E=M.getSession&&M.getSession();if(E&&E.environmentBlendMode==="additive"&&(w=null),w===null?v(i,a):w&&w.isColor&&(v(w,1),y=!0),(e.autoClear||y)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),w&&(w.isCubeTexture||w.isWebGLCubeRenderTarget||w.mapping===lf)){u===void 0&&(u=new Vt(new xp(1,1,1),new Bn({type:"BackgroundCubeMaterial",uniforms:Du(ma.cube.uniforms),vertexShader:ma.cube.vertexShader,fragmentShader:ma.cube.fragmentShader,side:En,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,P,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(u));var S=w.isWebGLCubeRenderTarget?w.texture:w;u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture?-1:1,(c!==w||f!==S.version||h!==e.toneMapping)&&(u.material.needsUpdate=!0,c=w,f=S.version,h=e.toneMapping),m.unshift(u,u.geometry,u.material,0,0,null)}else w&&w.isTexture&&(s===void 0&&(s=new Vt(new Sa(2,2),new Bn({type:"BackgroundMaterial",uniforms:Du(ma.background.uniforms),vertexShader:ma.background.vertexShader,fragmentShader:ma.background.fragmentShader,side:of,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(s)),s.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),s.material.uniforms.uvTransform.value.copy(w.matrix),(c!==w||f!==w.version||h!==e.toneMapping)&&(s.material.needsUpdate=!0,c=w,f=w.version,h=e.toneMapping),m.unshift(s,s.geometry,s.material,0,0,null))}function v(m,_){t.buffers.color.setClear(m.r,m.g,m.b,_,r)}return{getClearColor:function(){return i},setClearColor:function(m,_){i.set(m),a=_!==void 0?_:1,v(i,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,v(i,a)},render:d}}function mH(e,t,n,r){var i=r.isWebGL2,a;function s(f){a=f}function u(f,h){e.drawArrays(a,f,h),n.update(h,a)}function c(f,h,d,v){if(v!==0){var m,_;if(i)m=e,_="drawArraysInstanced";else if(m=t.get("ANGLE_instanced_arrays"),_="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[_](a,h,d,v),n.update(d,a,v)}}this.setMode=s,this.render=u,this.renderInstances=c}function gH(e,t,n){var r;function i(){if(r!==void 0)return r;var P=t.get("EXT_texture_filter_anisotropic");return P!==null?r=e.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT):r=0,r}function a(P){if(P==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext,u=n.precision!==void 0?n.precision:"highp",c=a(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);var f=n.logarithmicDepthBuffer===!0,h=e.getParameter(34930),d=e.getParameter(35660),v=e.getParameter(3379),m=e.getParameter(34076),_=e.getParameter(34921),g=e.getParameter(36347),y=e.getParameter(36348),w=e.getParameter(36349),M=d>0,E=s||!!t.get("OES_texture_float"),S=M&&E,b=s?e.getParameter(36183):0;return{isWebGL2:s,getMaxAnisotropy:i,getMaxPrecision:a,precision:u,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:d,maxTextureSize:v,maxCubemapSize:m,maxAttributes:_,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:w,vertexTextures:M,floatFragmentTextures:E,floatVertexTextures:S,maxSamples:b}}function _H(){var e=this,t=null,n=0,r=!1,i=!1,a=new Ri,s=new Vn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d,v){var m=h.length!==0||d||n!==0||r;return r=d,t=f(h,v,0),n=h.length,m},this.beginShadows=function(){i=!0,f(null)},this.endShadows=function(){i=!1,c()},this.setState=function(h,d,v,m,_,g){if(!r||h===null||h.length===0||i&&!v)i?f(null):c();else{var y=i?0:n,w=y*4,M=_.clippingState||null;u.value=M,M=f(h,m,w,g);for(var E=0;E!==w;++E)M[E]=t[E];_.clippingState=M,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=y}};function c(){u.value!==t&&(u.value=t,u.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function f(h,d,v,m){var _=h!==null?h.length:0,g=null;if(_!==0){if(g=u.value,m!==!0||g===null){var y=v+_*4,w=d.matrixWorldInverse;s.getNormalMatrix(w),(g===null||g.length<y)&&(g=new Float32Array(y));for(var M=0,E=v;M!==_;++M,E+=4)a.copy(h[M]).applyMatrix4(w,s),a.normal.toArray(g,E),g[E+3]=a.constant}u.value=g,u.needsUpdate=!0}return e.numPlanes=_,g}}function yH(e){var t={};return{get:function(n){if(t[n]!==void 0)return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function xH(e,t,n){var r=new WeakMap,i=new WeakMap;function a(h){var d=h.target,v=r.get(d);v.index!==null&&t.remove(v.index);for(var m in v.attributes)t.remove(v.attributes[m]);d.removeEventListener("dispose",a),r.delete(d);var _=i.get(v);_&&(t.remove(_),i.delete(v)),n.memory.geometries--}function s(h,d){var v=r.get(d);return v||(d.addEventListener("dispose",a),d.isBufferGeometry?v=d:d.isGeometry&&(d._bufferGeometry===void 0&&(d._bufferGeometry=new Ee().setFromObject(h)),v=d._bufferGeometry),r.set(d,v),n.memory.geometries++,v)}function u(h){var d=h.index,v=h.attributes;d!==null&&t.update(d,34963);for(var m in v)t.update(v[m],34962);var _=h.morphAttributes;for(var m in _)for(var g=_[m],y=0,w=g.length;y<w;y++)t.update(g[y],34962)}function c(h){var d=[],v=h.index,m=h.attributes.position,_=0;if(v!==null){var g=v.array;_=v.version;for(var y=0,w=g.length;y<w;y+=3){var M=g[y+0],E=g[y+1],S=g[y+2];d.push(M,E,E,S,S,M)}}else{var g=m.array;_=m.version;for(var y=0,w=g.length/3-1;y<w;y+=3){var M=y+0,E=y+1,S=y+2;d.push(M,E,E,S,S,M)}}var b=new(HT(d)>65535?wc:xc)(d,1);b.version=_,t.update(b,34963);var P=i.get(h);P&&t.remove(P),i.set(h,b)}function f(h){var d=i.get(h);if(d){var v=h.index;v!==null&&d.version<v.version&&c(h)}else c(h);return i.get(h)}return{get:s,update:u,getWireframeAttribute:f}}function wH(e,t,n,r){var i=r.isWebGL2,a;function s(v){a=v}var u,c;function f(v){u=v.type,c=v.bytesPerElement}function h(v,m){e.drawElements(a,m,u,v*c),n.update(m,a)}function d(v,m,_,g){if(g!==0){var y,w;if(i)y=e,w="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[w](a,_,u,m*c,g),n.update(_,a,g)}}this.setMode=s,this.setIndex=f,this.render=h,this.renderInstances=d}function bH(e){var t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,u){switch(u=u||1,n.calls++,s){case 4:n.triangles+=u*(a/3);break;case 1:n.lines+=u*(a/2);break;case 3:n.lines+=u*(a-1);break;case 2:n.lines+=u*a;break;case 0:n.points+=u*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function MH(e,t){return Math.abs(t[1])-Math.abs(e[1])}function SH(e){var t={},n=new Float32Array(8);function r(i,a,s,u){var c=i.morphTargetInfluences,f=c===void 0?0:c.length,h=t[a.id];if(h===void 0){h=[];for(var d=0;d<f;d++)h[d]=[d,0];t[a.id]=h}for(var v=s.morphTargets&&a.morphAttributes.position,m=s.morphNormals&&a.morphAttributes.normal,d=0;d<f;d++){var _=h[d];_[1]!==0&&(v&&a.deleteAttribute("morphTarget"+d),m&&a.deleteAttribute("morphNormal"+d))}for(var d=0;d<f;d++){var _=h[d];_[0]=d,_[1]=c[d]}h.sort(MH);for(var g=0,d=0;d<8;d++){var _=h[d];if(_){var y=_[0],w=_[1];if(w){v&&a.setAttribute("morphTarget"+d,v[y]),m&&a.setAttribute("morphNormal"+d,m[y]),n[d]=w,g+=w;continue}}n[d]=0}var M=a.morphTargetsRelative?1:1-g;u.getUniforms().setValue(e,"morphTargetBaseInfluence",M),u.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function TH(e,t,n,r){var i={};function a(u){var c=r.render.frame,f=u.geometry,h=t.get(u,f);return i[h.id]!==c&&(f.isGeometry&&h.updateFromObject(u),t.update(h),i[h.id]=c),u.isInstancedMesh&&n.update(u.instanceMatrix,34962),h}function s(){i={}}return{update:a,dispose:s}}function hs(e,t,n,r,i,a,s,u,c,f){e=e!==void 0?e:[],t=t!==void 0?t:T0,s=s!==void 0?s:co,Ot.call(this,e,t,n,r,i,a,s,u,c,f),this.flipY=!1}hs.prototype=Object.create(Ot.prototype);hs.prototype.constructor=hs;hs.prototype.isCubeTexture=!0;Object.defineProperty(hs.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Mc(e,t,n,r){Ot.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=dn,this.minFilter=dn,this.wrapR=nr,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Mc.prototype=Object.create(Ot.prototype);Mc.prototype.constructor=Mc;Mc.prototype.isDataTexture2DArray=!0;function Sc(e,t,n,r){Ot.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=dn,this.minFilter=dn,this.wrapR=nr,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Sc.prototype=Object.create(Ot.prototype);Sc.prototype.constructor=Sc;Sc.prototype.isDataTexture3D=!0;var VT=new Ot,EH=new Mc,AH=new Sc,$T=new hs,i1=[],a1=[],s1=new Float32Array(16),o1=new Float32Array(9),u1=new Float32Array(4);function al(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=i1[i];if(a===void 0&&(a=new Float32Array(i),i1[i]=a),t!==0){r.toArray(a,0);for(var s=1,u=0;s!==t;++s)u+=n,e[s].toArray(a,u)}return a}function ai(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function zr(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function jT(e,t){var n=a1[t];n===void 0&&(n=new Int32Array(t),a1[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function CH(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function PH(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ai(n,t))return;e.uniform2fv(this.addr,t),zr(n,t)}}function LH(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ai(n,t))return;e.uniform3fv(this.addr,t),zr(n,t)}}function RH(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ai(n,t))return;e.uniform4fv(this.addr,t),zr(n,t)}}function OH(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(ai(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),zr(n,t)}else{if(ai(n,r))return;u1.set(r),e.uniformMatrix2fv(this.addr,!1,u1),zr(n,r)}}function IH(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(ai(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),zr(n,t)}else{if(ai(n,r))return;o1.set(r),e.uniformMatrix3fv(this.addr,!1,o1),zr(n,r)}}function DH(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(ai(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),zr(n,t)}else{if(ai(n,r))return;s1.set(r),e.uniformMatrix4fv(this.addr,!1,s1),zr(n,r)}}function NH(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||VT,i)}function FH(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||EH,i)}function BH(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||AH,i)}function zH(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||$T,i)}function UH(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function GH(e,t){var n=this.cache;ai(n,t)||(e.uniform2iv(this.addr,t),zr(n,t))}function HH(e,t){var n=this.cache;ai(n,t)||(e.uniform3iv(this.addr,t),zr(n,t))}function kH(e,t){var n=this.cache;ai(n,t)||(e.uniform4iv(this.addr,t),zr(n,t))}function WH(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function VH(e){switch(e){case 5126:return CH;case 35664:return PH;case 35665:return LH;case 35666:return RH;case 35674:return OH;case 35675:return IH;case 35676:return DH;case 5124:case 35670:return UH;case 35667:case 35671:return GH;case 35668:case 35672:return HH;case 35669:case 35673:return kH;case 5125:return WH;case 35678:case 36198:case 36298:case 36306:case 35682:return NH;case 35679:case 36299:case 36307:return BH;case 35680:case 36300:case 36308:case 36293:return zH;case 36289:case 36303:case 36311:case 36292:return FH}}function $H(e,t){e.uniform1fv(this.addr,t)}function jH(e,t){e.uniform1iv(this.addr,t)}function qH(e,t){e.uniform2iv(this.addr,t)}function XH(e,t){e.uniform3iv(this.addr,t)}function YH(e,t){e.uniform4iv(this.addr,t)}function ZH(e,t){var n=al(t,this.size,2);e.uniform2fv(this.addr,n)}function JH(e,t){var n=al(t,this.size,3);e.uniform3fv(this.addr,n)}function KH(e,t){var n=al(t,this.size,4);e.uniform4fv(this.addr,n)}function QH(e,t){var n=al(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ek(e,t){var n=al(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function tk(e,t){var n=al(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function nk(e,t,n){var r=t.length,i=jT(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||VT,i[a])}function rk(e,t,n){var r=t.length,i=jT(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||$T,i[a])}function ik(e){switch(e){case 5126:return $H;case 35664:return ZH;case 35665:return JH;case 35666:return KH;case 35674:return QH;case 35675:return ek;case 35676:return tk;case 5124:case 35670:return jH;case 35667:case 35671:return qH;case 35668:case 35672:return XH;case 35669:case 35673:return YH;case 35678:case 36198:case 36298:case 36306:case 35682:return nk;case 35680:case 36300:case 36308:case 36293:return rk}}function ak(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=VH(t.type)}function qT(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=ik(t.type)}qT.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),zr(t,e)};function XT(e){this.id=e,this.seq=[],this.map={}}XT.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var s=r[i];s.setValue(e,t[s.id],n)}};var Fm=/([\w\d_]+)(\])?(\[|\.)?/g;function l1(e,t){e.seq.push(t),e.map[t.id]=t}function sk(e,t,n){var r=e.name,i=r.length;for(Fm.lastIndex=0;;){var a=Fm.exec(r),s=Fm.lastIndex,u=a[1],c=a[2]==="]",f=a[3];if(c&&(u=u|0),f===void 0||f==="["&&s+2===i){l1(n,f===void 0?new ak(u,e,t):new qT(u,e,t));break}else{var h=n.map,d=h[u];d===void 0&&(d=new XT(u),l1(n,d)),n=d}}}function is(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r),a=e.getUniformLocation(t,i.name);sk(i,a,this)}}is.prototype.setValue=function(e,t,n,r){var i=this.map[t];i!==void 0&&i.setValue(e,n,r)};is.prototype.setOptional=function(e,t,n){var r=t[n];r!==void 0&&this.setValue(e,n,r)};is.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var s=t[i],u=n[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,r)}};is.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};function c1(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var ok=0;function uk(e){for(var t=e.split(`
`),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function YT(e){switch(e){case Br:return["Linear","( value )"];case L0:return["sRGB","( value )"];case R0:return["RGBE","( value )"];case NT:return["RGBM","( value, 7.0 )"];case FT:return["RGBM","( value, 16.0 )"];case BT:return["RGBD","( value, 256.0 )"];case DT:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case EU:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function f1(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&i==="")return"";var a=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+i+uk(a)}function Fl(e,t){var n=YT(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function lk(e,t){var n=YT(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ck(e,t){var n;switch(t){case M0:n="Linear";break;case Hz:n="Reinhard";break;case kz:n="Uncharted2";break;case Wz:n="OptimizedCineon";break;case Vz:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function fk(e){var t=[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter($l).join(`
`)}function hk(e){var t=[];for(var n in e){var r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function dk(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),s=a.name;n[s]=e.getAttribLocation(t,s)}return n}function $l(e){return e!==""}function h1(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function d1(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var pk=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wg(e){return e.replace(pk,vk)}function vk(e,t){var n=mt[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return Wg(n)}var mk=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function p1(e){return e.replace(mk,gk)}function gk(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function v1(e){var t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function _k(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===TT?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===_z?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Vl&&(t="SHADOWMAP_TYPE_VSM"),t}function yk(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case T0:case E0:t="ENVMAP_TYPE_CUBE";break;case lf:case C0:t="ENVMAP_TYPE_CUBE_UV";break;case LT:case A0:t="ENVMAP_TYPE_EQUIREC";break;case RT:t="ENVMAP_TYPE_SPHERE";break}return t}function xk(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case E0:case A0:t="ENVMAP_MODE_REFRACTION";break}return t}function wk(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case mp:t="ENVMAP_BLENDING_MULTIPLY";break;case Uz:t="ENVMAP_BLENDING_MIX";break;case Gz:t="ENVMAP_BLENDING_ADD";break}return t}function bk(e,t,n){var r=e.getContext(),i=n.defines,a=n.vertexShader,s=n.fragmentShader,u=_k(n),c=yk(n),f=xk(n),h=wk(n),d=e.gammaFactor>0?e.gammaFactor:1,v=n.isWebGL2?"":fk(n),m=hk(i),_=r.createProgram(),g,y,w=n.numMultiviewViews;if(n.isRawShaderMaterial?(g=[m].filter($l).join(`
`),g.length>0&&(g+=`
`),y=[v,m].filter($l).join(`
`),y.length>0&&(y+=`
`)):(g=[v1(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($l).join(`
`),y=[v,v1(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Jh?"#define TONE_MAPPING":"",n.toneMapping!==Jh?mt.tonemapping_pars_fragment:"",n.toneMapping!==Jh?ck("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.outputEncoding||n.mapEncoding||n.matcapEncoding||n.envMapEncoding||n.emissiveMapEncoding||n.lightMapEncoding?mt.encodings_pars_fragment:"",n.mapEncoding?Fl("mapTexelToLinear",n.mapEncoding):"",n.matcapEncoding?Fl("matcapTexelToLinear",n.matcapEncoding):"",n.envMapEncoding?Fl("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?Fl("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMapEncoding?Fl("lightMapTexelToLinear",n.lightMapEncoding):"",n.outputEncoding?lk("linearToOutputTexel",n.outputEncoding):"",n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter($l).join(`
`)),a=Wg(a),a=h1(a,n),a=d1(a,n),s=Wg(s),s=h1(s,n),s=d1(s,n),a=p1(a),s=p1(s),n.isWebGL2&&!n.isRawShaderMaterial){var M=!1,E=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&a.match(E)!==null&&s.match(E)!==null&&(M=!0,a=a.replace(E,""),s=s.replace(E,"")),g=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=[`#version 300 es
`,"#define varying in",M?"":"out highp vec4 pc_fragColor;",M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y,w>0&&(g=g.replace(`#version 300 es
`,[`#version 300 es
`,"#extension GL_OVR_multiview2 : require","layout(num_views = "+w+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`)),g=g.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+w+"];","uniform mat4 projectionMatrices["+w+"];","uniform mat4 viewMatrices["+w+"];","uniform mat3 normalMatrices["+w+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),y=y.replace(`#version 300 es
`,[`#version 300 es
`,"#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`)),y=y.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+w+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`)))}var S=g+a,b=y+s,P=c1(r,35633,S),D=c1(r,35632,b);if(r.attachShader(_,P),r.attachShader(_,D),n.index0AttributeName!==void 0?r.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),e.debug.checkShaderErrors){var L=r.getProgramInfoLog(_).trim(),F=r.getShaderInfoLog(P).trim(),H=r.getShaderInfoLog(D).trim(),q=!0,I=!0;if(r.getProgramParameter(_,35714)===!1){q=!1;var N=f1(r,P,"vertex"),z=f1(r,D,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(_,35715),"gl.getProgramInfoLog",L,N,z)}else L!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",L):(F===""||H==="")&&(I=!1);I&&(this.diagnostics={runnable:q,programLog:L,vertexShader:{log:F,prefix:g},fragmentShader:{log:H,prefix:y}})}r.deleteShader(P),r.deleteShader(D);var W;this.getUniforms=function(){return W===void 0&&(W=new is(r,_)),W};var Z;return this.getAttributes=function(){return Z===void 0&&(Z=dk(r,_)),Z},this.destroy=function(){r.deleteProgram(_),this.program=void 0},this.name=n.shaderName,this.id=ok++,this.cacheKey=t,this.usedTimes=1,this.program=_,this.vertexShader=P,this.fragmentShader=D,this.numMultiviewViews=w,this}function Mk(e,t,n){var r=[],i=n.isWebGL2,a=n.logarithmicDepthBuffer,s=n.floatVertexTextures,u=n.precision,c=n.maxVertexUniforms,f=n.vertexTextures,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function v(g,y){var w;if(y){var M=ma[y];w={name:g.type,uniforms:jU.clone(M.uniforms),vertexShader:M.vertexShader,fragmentShader:M.fragmentShader}}else w={name:g.type,uniforms:g.uniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader};return w}function m(g){var y=g.skeleton,w=y.bones;if(s)return 1024;var M=c,E=Math.floor((M-20)/4),S=Math.min(E,w.length);return S<w.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+w.length+" bones. This GPU supports "+S+"."),0):S}function _(g){var y;return g?g.isTexture?y=g.encoding:g.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),y=g.texture.encoding):y=Br,y}this.getParameters=function(g,y,w,M,E,S,b){var P=M.fog,D=g.isMeshStandardMaterial?M.environment:null,L=g.envMap||D,F=h[g.type],H=b.isSkinnedMesh?m(b):0;g.precision!==null&&(u=n.getMaxPrecision(g.precision),u!==g.precision&&console.warn("THREE.WebGLProgram.getParameters:",g.precision,"not supported, using",u,"instead."));var q=v(g,F);g.onBeforeCompile(q,e);var I=e.getRenderTarget(),N=I&&I.isWebGLMultiviewRenderTarget?I.numViews:0,z={isWebGL2:i,shaderID:F,shaderName:q.name,uniforms:q.uniforms,vertexShader:q.vertexShader,fragmentShader:q.fragmentShader,defines:g.defines,isRawShaderMaterial:g.isRawShaderMaterial,isShaderMaterial:g.isShaderMaterial,precision:u,instancing:b.isInstancedMesh===!0,supportsVertexTextures:f,numMultiviewViews:N,outputEncoding:I!==null?_(I.texture):e.outputEncoding,map:!!g.map,mapEncoding:_(g.map),matcap:!!g.matcap,matcapEncoding:_(g.matcap),envMap:!!L,envMapMode:L&&L.mapping,envMapEncoding:_(L),envMapCubeUV:!!L&&(L.mapping===lf||L.mapping===C0),lightMap:!!g.lightMap,lightMapEncoding:_(g.lightMap),aoMap:!!g.aoMap,emissiveMap:!!g.emissiveMap,emissiveMapEncoding:_(g.emissiveMap),bumpMap:!!g.bumpMap,normalMap:!!g.normalMap,objectSpaceNormalMap:g.normalMapType===PU,tangentSpaceNormalMap:g.normalMapType===nl,clearcoatNormalMap:!!g.clearcoatNormalMap,displacementMap:!!g.displacementMap,roughnessMap:!!g.roughnessMap,metalnessMap:!!g.metalnessMap,specularMap:!!g.specularMap,alphaMap:!!g.alphaMap,gradientMap:!!g.gradientMap,sheen:!!g.sheen,combine:g.combine,vertexTangents:g.normalMap&&g.vertexTangents,vertexColors:g.vertexColors,vertexUvs:!!g.map||!!g.bumpMap||!!g.normalMap||!!g.specularMap||!!g.alphaMap||!!g.emissiveMap||!!g.roughnessMap||!!g.metalnessMap||!!g.clearcoatNormalMap||!!g.displacementMap,uvsVertexOnly:!(!!g.map||!!g.bumpMap||!!g.normalMap||!!g.specularMap||!!g.alphaMap||!!g.emissiveMap||!!g.roughnessMap||!!g.metalnessMap||!!g.clearcoatNormalMap)&&!!g.displacementMap,fog:!!P,useFog:g.fog,fogExp2:P&&P.isFogExp2,flatShading:g.flatShading,sizeAttenuation:g.sizeAttenuation,logarithmicDepthBuffer:a,skinning:g.skinning&&H>0,maxBones:H,useVertexTexture:s,morphTargets:g.morphTargets,morphNormals:g.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:y.directional.length,numPointLights:y.point.length,numSpotLights:y.spot.length,numRectAreaLights:y.rectArea.length,numHemiLights:y.hemi.length,numDirLightShadows:y.directionalShadowMap.length,numPointLightShadows:y.pointShadowMap.length,numSpotLightShadows:y.spotShadowMap.length,numClippingPlanes:E,numClipIntersection:S,dithering:g.dithering,shadowMapEnabled:e.shadowMap.enabled&&w.length>0,shadowMapType:e.shadowMap.type,toneMapping:g.toneMapped?e.toneMapping:Jh,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:g.premultipliedAlpha,alphaTest:g.alphaTest,doubleSided:g.side===vp,flipSided:g.side===En,depthPacking:g.depthPacking!==void 0?g.depthPacking:!1,index0AttributeName:g.index0AttributeName,extensionDerivatives:g.extensions&&g.extensions.derivatives,extensionFragDepth:g.extensions&&g.extensions.frawbuffers,extensionDrawbuffers:g.extensions&&g.extensions.drawbuffers,extensionShaderTextureLOD:g.extensions&&g.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:i||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:i||t.get("EXT_shader_texture_lod")!==null,onBeforeCompile:g.onBeforeCompile};return z},this.getProgramCacheKey=function(g){var y=[];if(g.shaderID?y.push(g.shaderID):(y.push(g.fragmentShader),y.push(g.vertexShader)),g.defines!==void 0)for(var w in g.defines)y.push(w),y.push(g.defines[w]);if(g.isRawShaderMaterial===void 0){for(var M=0;M<d.length;M++)y.push(g[d[M]]);y.push(e.outputEncoding),y.push(e.gammaFactor)}return y.push(g.onBeforeCompile.toString()),y.join()},this.acquireProgram=function(g,y){for(var w,M=0,E=r.length;M<E;M++){var S=r[M];if(S.cacheKey===y){w=S,++w.usedTimes;break}}return w===void 0&&(w=new bk(e,y,g),r.push(w)),w},this.releaseProgram=function(g){if(--g.usedTimes===0){var y=r.indexOf(g);r[y]=r[r.length-1],r.pop(),g.destroy()}},this.programs=r}function Sk(){var e=new WeakMap;function t(a){var s=e.get(a);return s===void 0&&(s={},e.set(a,s)),s}function n(a){e.delete(a)}function r(a,s,u){e.get(a)[s]=u}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function Tk(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ek(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function m1(){var e=[],t=0,n=[],r=[],i={id:-1};function a(){t=0,n.length=0,r.length=0}function s(h,d,v,m,_,g){var y=e[t];return y===void 0?(y={id:h.id,object:h,geometry:d,material:v,program:v.program||i,groupOrder:m,renderOrder:h.renderOrder,z:_,group:g},e[t]=y):(y.id=h.id,y.object=h,y.geometry=d,y.material=v,y.program=v.program||i,y.groupOrder=m,y.renderOrder=h.renderOrder,y.z=_,y.group=g),t++,y}function u(h,d,v,m,_,g){var y=s(h,d,v,m,_,g);(v.transparent===!0?r:n).push(y)}function c(h,d,v,m,_,g){var y=s(h,d,v,m,_,g);(v.transparent===!0?r:n).unshift(y)}function f(h,d){n.length>1&&n.sort(h||Tk),r.length>1&&r.sort(d||Ek)}return{opaque:n,transparent:r,init:a,push:u,unshift:c,sort:f}}function Ak(){var e=new WeakMap;function t(i){var a=i.target;a.removeEventListener("dispose",t),e.delete(a)}function n(i,a){var s=e.get(i),u;return s===void 0?(u=new m1,e.set(i,new WeakMap),e.get(i).set(a,u),i.addEventListener("dispose",t)):(u=s.get(a),u===void 0&&(u=new m1,s.set(a,u))),u}function r(){e=new WeakMap}return{get:n,dispose:r}}function Ck(){var e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new B,color:new Se,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new le};break;case"SpotLight":n={position:new B,direction:new B,color:new Se,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new le};break;case"PointLight":n={position:new B,color:new Se,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new le,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new B,skyColor:new Se,groundColor:new Se};break;case"RectAreaLight":n={color:new Se,position:new B,halfWidth:new B,halfHeight:new B};break}return e[t.id]=n,n}}}var Pk=0;function Lk(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Rk(){for(var e=new Ck,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new B);var r=new B,i=new dt,a=new dt;function s(u,c,f){for(var h=0,d=0,v=0,m=0;m<9;m++)t.probe[m].set(0,0,0);var _=0,g=0,y=0,w=0,M=0,E=0,S=0,b=0,P=f.matrixWorldInverse;u.sort(Lk);for(var m=0,D=u.length;m<D;m++){var L=u[m],F=L.color,H=L.intensity,q=L.distance,I=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)h+=F.r*H,d+=F.g*H,v+=F.b*H;else if(L.isLightProbe)for(var N=0;N<9;N++)t.probe[N].addScaledVector(L.sh.coefficients[N],H);else if(L.isDirectionalLight){var z=e.get(L);if(z.color.copy(L.color).multiplyScalar(L.intensity),z.direction.setFromMatrixPosition(L.matrixWorld),r.setFromMatrixPosition(L.target.matrixWorld),z.direction.sub(r),z.direction.transformDirection(P),z.shadow=L.castShadow,L.castShadow){var W=L.shadow;z.shadowBias=W.bias,z.shadowRadius=W.radius,z.shadowMapSize=W.mapSize,t.directionalShadowMap[_]=I,t.directionalShadowMatrix[_]=L.shadow.matrix,E++}t.directional[_]=z,_++}else if(L.isSpotLight){var z=e.get(L);if(z.position.setFromMatrixPosition(L.matrixWorld),z.position.applyMatrix4(P),z.color.copy(F).multiplyScalar(H),z.distance=q,z.direction.setFromMatrixPosition(L.matrixWorld),r.setFromMatrixPosition(L.target.matrixWorld),z.direction.sub(r),z.direction.transformDirection(P),z.coneCos=Math.cos(L.angle),z.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),z.decay=L.decay,z.shadow=L.castShadow,L.castShadow){var W=L.shadow;z.shadowBias=W.bias,z.shadowRadius=W.radius,z.shadowMapSize=W.mapSize,t.spotShadowMap[y]=I,t.spotShadowMatrix[y]=L.shadow.matrix,b++}t.spot[y]=z,y++}else if(L.isRectAreaLight){var z=e.get(L);z.color.copy(F).multiplyScalar(H),z.position.setFromMatrixPosition(L.matrixWorld),z.position.applyMatrix4(P),a.identity(),i.copy(L.matrixWorld),i.premultiply(P),a.extractRotation(i),z.halfWidth.set(L.width*.5,0,0),z.halfHeight.set(0,L.height*.5,0),z.halfWidth.applyMatrix4(a),z.halfHeight.applyMatrix4(a),t.rectArea[w]=z,w++}else if(L.isPointLight){var z=e.get(L);if(z.position.setFromMatrixPosition(L.matrixWorld),z.position.applyMatrix4(P),z.color.copy(L.color).multiplyScalar(L.intensity),z.distance=L.distance,z.decay=L.decay,z.shadow=L.castShadow,L.castShadow){var W=L.shadow;z.shadowBias=W.bias,z.shadowRadius=W.radius,z.shadowMapSize=W.mapSize,z.shadowCameraNear=W.camera.near,z.shadowCameraFar=W.camera.far,t.pointShadowMap[g]=I,t.pointShadowMatrix[g]=L.shadow.matrix,S++}t.point[g]=z,g++}else if(L.isHemisphereLight){var z=e.get(L);z.direction.setFromMatrixPosition(L.matrixWorld),z.direction.transformDirection(P),z.direction.normalize(),z.skyColor.copy(L.color).multiplyScalar(H),z.groundColor.copy(L.groundColor).multiplyScalar(H),t.hemi[M]=z,M++}}t.ambient[0]=h,t.ambient[1]=d,t.ambient[2]=v;var Z=t.hash;(Z.directionalLength!==_||Z.pointLength!==g||Z.spotLength!==y||Z.rectAreaLength!==w||Z.hemiLength!==M||Z.numDirectionalShadows!==E||Z.numPointShadows!==S||Z.numSpotShadows!==b)&&(t.directional.length=_,t.spot.length=y,t.rectArea.length=w,t.point.length=g,t.hemi.length=M,t.directionalShadowMap.length=E,t.pointShadowMap.length=S,t.spotShadowMap.length=b,t.directionalShadowMatrix.length=E,t.pointShadowMatrix.length=S,t.spotShadowMatrix.length=b,Z.directionalLength=_,Z.pointLength=g,Z.spotLength=y,Z.rectAreaLength=w,Z.hemiLength=M,Z.numDirectionalShadows=E,Z.numPointShadows=S,Z.numSpotShadows=b,t.version=Pk++)}return{setup:s,state:t}}function g1(){var e=new Rk,t=[],n=[];function r(){t.length=0,n.length=0}function i(c){t.push(c)}function a(c){n.push(c)}function s(c){e.setup(t,n,c)}var u={lightsArray:t,shadowsArray:n,lights:e};return{init:r,state:u,setupLights:s,pushLight:i,pushShadow:a}}function Ok(){var e=new WeakMap;function t(i){var a=i.target;a.removeEventListener("dispose",t),e.delete(a)}function n(i,a){var s;return e.has(i)===!1?(s=new g1,e.set(i,new WeakMap),e.get(i).set(a,s),i.addEventListener("dispose",t)):e.get(i).has(a)===!1?(s=new g1,e.get(i).set(a,s)):s=e.get(i).get(a),s}function r(){e=new WeakMap}return{get:n,dispose:r}}function ho(e){Xe.call(this),this.type="MeshDepthMaterial",this.depthPacking=AU,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}ho.prototype=Object.create(Xe.prototype);ho.prototype.constructor=ho;ho.prototype.isMeshDepthMaterial=!0;ho.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function po(e){Xe.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new B,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}po.prototype=Object.create(Xe.prototype);po.prototype.constructor=po;po.prototype.isMeshDistanceMaterial=!0;po.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Ik=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Dk=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function ZT(e,t,n){var r=new cf,i=new le,a=new le,s=new Gt,u=[],c=[],f={},h={0:En,1:of,2:vp},d=new Bn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new le},radius:{value:4}},vertexShader:Dk,fragmentShader:Ik}),v=d.clone();v.defines.HORIZONAL_PASS=1;var m=new Ee;m.setAttribute("position",new Ze(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var _=new Vt(m,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TT,this.render=function(b,P,D){if(g.enabled!==!1&&!(g.autoUpdate===!1&&g.needsUpdate===!1)&&b.length!==0){var L=e.getRenderTarget(),F=e.getActiveCubeFace(),H=e.getActiveMipmapLevel(),q=e.state;q.setBlending(rs),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);for(var I=0,N=b.length;I<N;I++){var z=b[I],W=z.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}i.copy(W.mapSize);var Z=W.getFrameExtents();if(i.multiply(Z),a.copy(W.mapSize),(i.x>n||i.y>n)&&(console.warn("THREE.WebGLShadowMap:",z,"has shadow exceeding max texture size, reducing"),i.x>n&&(a.x=Math.floor(n/Z.x),i.x=a.x*Z.x,W.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/Z.y),i.y=a.y*Z.y,W.mapSize.y=a.y)),W.map===null&&!W.isPointLightShadow&&this.type===Vl){var ee={minFilter:Mn,magFilter:Mn,format:Hi};W.map=new ir(i.x,i.y,ee),W.map.texture.name=z.name+".shadowMap",W.mapPass=new ir(i.x,i.y,ee),W.camera.updateProjectionMatrix()}if(W.map===null){var ee={minFilter:dn,magFilter:dn,format:Hi};W.map=new ir(i.x,i.y,ee),W.map.texture.name=z.name+".shadowMap",W.camera.updateProjectionMatrix()}e.setRenderTarget(W.map),e.clear();for(var J=W.getViewportCount(),te=0;te<J;te++){var ne=W.getViewport(te);s.set(a.x*ne.x,a.y*ne.y,a.x*ne.z,a.y*ne.w),q.viewport(s),W.updateMatrices(z,te),r=W.getFrustum(),S(P,D,W.camera,z,this.type)}!W.isPointLightShadow&&this.type===Vl&&y(W,D)}g.needsUpdate=!1,e.setRenderTarget(L,F,H)}};function y(b,P){var D=t.update(_);d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(P,null,D,d,_,null),v.uniforms.shadow_pass.value=b.mapPass.texture,v.uniforms.resolution.value=b.mapSize,v.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(P,null,D,v,_,null)}function w(b,P,D){var L=b<<0|P<<1|D<<2,F=u[L];return F===void 0&&(F=new ho({depthPacking:CU,morphTargets:b,skinning:P}),u[L]=F),F}function M(b,P,D){var L=b<<0|P<<1|D<<2,F=c[L];return F===void 0&&(F=new po({morphTargets:b,skinning:P}),c[L]=F),F}function E(b,P,D,L,F,H){var q=b.geometry,I=null,N=w,z=b.customDepthMaterial;if(D.isPointLight===!0&&(N=M,z=b.customDistanceMaterial),z===void 0){var W=!1;P.morphTargets===!0&&(q.isBufferGeometry===!0?W=q.morphAttributes&&q.morphAttributes.position&&q.morphAttributes.position.length>0:q.isGeometry===!0&&(W=q.morphTargets&&q.morphTargets.length>0));var Z=!1;b.isSkinnedMesh===!0&&(P.skinning===!0?Z=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b));var ee=b.isInstancedMesh===!0;I=N(W,Z,ee)}else I=z;if(e.localClippingEnabled&&P.clipShadows===!0&&P.clippingPlanes.length!==0){var J=I.uuid,te=P.uuid,ne=f[J];ne===void 0&&(ne={},f[J]=ne);var ue=ne[te];ue===void 0&&(ue=I.clone(),ne[te]=ue),I=ue}return I.visible=P.visible,I.wireframe=P.wireframe,H===Vl?I.side=P.shadowSide!==null?P.shadowSide:P.side:I.side=P.shadowSide!==null?P.shadowSide:h[P.side],I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,D.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(D.matrixWorld),I.nearDistance=L,I.farDistance=F),I}function S(b,P,D,L,F){if(b.visible!==!1){var H=b.layers.test(P.layers);if(H&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&F===Vl)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,b.matrixWorld);var q=t.update(b),I=b.material;if(Array.isArray(I))for(var N=q.groups,z=0,W=N.length;z<W;z++){var Z=N[z],ee=I[Z.materialIndex];if(ee&&ee.visible){var J=E(b,ee,L,D.near,D.far,F);e.renderBufferDirect(D,null,q,J,b,Z)}}else if(I.visible){var J=E(b,I,L,D.near,D.far,F);e.renderBufferDirect(D,null,q,J,b,null)}}for(var te=b.children,ne=0,ue=te.length;ne<ue;ne++)S(te[ne],P,D,L,F)}}}function Nk(e,t,n){var r=n.isWebGL2;function i(){var $=!1,de=new Gt,Ae=null,Ye=new Gt(0,0,0,0);return{setMask:function(Te){Ae!==Te&&!$&&(e.colorMask(Te,Te,Te,Te),Ae=Te)},setLocked:function(Te){$=Te},setClear:function(Te,pt,Ct,Nt,xr){xr===!0&&(Te*=Nt,pt*=Nt,Ct*=Nt),de.set(Te,pt,Ct,Nt),Ye.equals(de)===!1&&(e.clearColor(Te,pt,Ct,Nt),Ye.copy(de))},reset:function(){$=!1,Ae=null,Ye.set(-1,0,0,0)}}}function a(){var $=!1,de=null,Ae=null,Ye=null;return{setTest:function(Te){Te?Ue(2929):it(2929)},setMask:function(Te){de!==Te&&!$&&(e.depthMask(Te),de=Te)},setFunc:function(Te){if(Ae!==Te){if(Te)switch(Te){case Oz:e.depthFunc(512);break;case Iz:e.depthFunc(519);break;case Dz:e.depthFunc(513);break;case Dg:e.depthFunc(515);break;case Nz:e.depthFunc(514);break;case Fz:e.depthFunc(518);break;case Bz:e.depthFunc(516);break;case zz:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);Ae=Te}},setLocked:function(Te){$=Te},setClear:function(Te){Ye!==Te&&(e.clearDepth(Te),Ye=Te)},reset:function(){$=!1,de=null,Ae=null,Ye=null}}}function s(){var $=!1,de=null,Ae=null,Ye=null,Te=null,pt=null,Ct=null,Nt=null,xr=null;return{setTest:function(Pt){$||(Pt?Ue(2960):it(2960))},setMask:function(Pt){de!==Pt&&!$&&(e.stencilMask(Pt),de=Pt)},setFunc:function(Pt,Zn,Sn){(Ae!==Pt||Ye!==Zn||Te!==Sn)&&(e.stencilFunc(Pt,Zn,Sn),Ae=Pt,Ye=Zn,Te=Sn)},setOp:function(Pt,Zn,Sn){(pt!==Pt||Ct!==Zn||Nt!==Sn)&&(e.stencilOp(Pt,Zn,Sn),pt=Pt,Ct=Zn,Nt=Sn)},setLocked:function(Pt){$=Pt},setClear:function(Pt){xr!==Pt&&(e.clearStencil(Pt),xr=Pt)},reset:function(){$=!1,de=null,Ae=null,Ye=null,Te=null,pt=null,Ct=null,Nt=null,xr=null}}}var u=new i,c=new a,f=new s,h=e.getParameter(34921),d=new Uint8Array(h),v=new Uint8Array(h),m=new Uint8Array(h),_={},g=null,y=null,w=null,M=null,E=null,S=null,b=null,P=null,D=null,L=!1,F=null,H=null,q=null,I=null,N=null,z=e.getParameter(35661),W=!1,Z=0,ee=e.getParameter(7938);ee.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL\ ([0-9])/.exec(ee)[1]),W=Z>=1):ee.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ee)[1]),W=Z>=2);var J=null,te={},ne=new Gt,ue=new Gt;function _e($,de,Ae){var Ye=new Uint8Array(4),Te=e.createTexture();e.bindTexture($,Te),e.texParameteri($,10241,9728),e.texParameteri($,10240,9728);for(var pt=0;pt<Ae;pt++)e.texImage2D(de+pt,0,6408,1,1,0,6408,5121,Ye);return Te}var Fe={};Fe[3553]=_e(3553,3553,1),Fe[34067]=_e(34067,34069,6),u.setClear(0,0,0,1),c.setClear(1),f.setClear(0),Ue(2929),c.setFunc(Dg),Yt(!1),U(Nb),Ue(2884),gt(rs);function De(){for(var $=0,de=d.length;$<de;$++)d[$]=0}function Me($){ae($,0)}function ae($,de){if(d[$]=1,v[$]===0&&(e.enableVertexAttribArray($),v[$]=1),m[$]!==de){var Ae=r?e:t.get("ANGLE_instanced_arrays");Ae[r?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($,de),m[$]=de}}function ft(){for(var $=0,de=v.length;$!==de;++$)v[$]!==d[$]&&(e.disableVertexAttribArray($),v[$]=0)}function Ue($){_[$]!==!0&&(e.enable($),_[$]=!0)}function it($){_[$]!==!1&&(e.disable($),_[$]=!1)}function Be($){return g!==$?(e.useProgram($),g=$,!0):!1}var he={[lu]:32774,[wz]:32778,[bz]:32779};if(r)he[zb]=32775,he[Ub]=32776;else{var tt=t.get("EXT_blend_minmax");tt!==null&&(he[zb]=tt.MIN_EXT,he[Ub]=tt.MAX_EXT)}var Mt={[Mz]:0,[Sz]:1,[Tz]:768,[CT]:770,[Rz]:776,[Pz]:774,[Az]:772,[Ez]:769,[PT]:771,[Lz]:775,[Cz]:773};function gt($,de,Ae,Ye,Te,pt,Ct,Nt){if($===rs){y&&(it(3042),y=!1);return}if(y||(Ue(3042),y=!0),$!==xz){if($!==w||Nt!==L){if((M!==lu||b!==lu)&&(e.blendEquation(32774),M=lu,b=lu),Nt)switch($){case Zl:e.blendFuncSeparate(1,771,1,771);break;case Ig:e.blendFunc(1,1);break;case Fb:e.blendFuncSeparate(0,0,769,771);break;case Bb:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Zl:e.blendFuncSeparate(770,771,1,771);break;case Ig:e.blendFunc(770,1);break;case Fb:e.blendFunc(0,769);break;case Bb:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}E=null,S=null,P=null,D=null,w=$,L=Nt}return}Te=Te||de,pt=pt||Ae,Ct=Ct||Ye,(de!==M||Te!==b)&&(e.blendEquationSeparate(he[de],he[Te]),M=de,b=Te),(Ae!==E||Ye!==S||pt!==P||Ct!==D)&&(e.blendFuncSeparate(Mt[Ae],Mt[Ye],Mt[pt],Mt[Ct]),E=Ae,S=Ye,P=pt,D=Ct),w=$,L=null}function Cn($,de){$.side===vp?it(2884):Ue(2884);var Ae=$.side===En;de&&(Ae=!Ae),Yt(Ae),$.blending===Zl&&$.transparent===!1?gt(rs):gt($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),c.setFunc($.depthFunc),c.setTest($.depthTest),c.setMask($.depthWrite),u.setMask($.colorWrite);var Ye=$.stencilWrite;f.setTest(Ye),Ye&&(f.setMask($.stencilWriteMask),f.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),f.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),me($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits)}function Yt($){F!==$&&($?e.frontFace(2304):e.frontFace(2305),F=$)}function U($){$!==mz?(Ue(2884),$!==H&&($===Nb?e.cullFace(1029):$===gz?e.cullFace(1028):e.cullFace(1032))):it(2884),H=$}function k($){$!==q&&(W&&e.lineWidth($),q=$)}function me($,de,Ae){$?(Ue(32823),(I!==de||N!==Ae)&&(e.polygonOffset(de,Ae),I=de,N=Ae)):it(32823)}function fe($){$?Ue(3089):it(3089)}function qe($){$===void 0&&($=33984+z-1),J!==$&&(e.activeTexture($),J=$)}function Ne($,de){J===null&&qe();var Ae=te[J];Ae===void 0&&(Ae={type:void 0,texture:void 0},te[J]=Ae),(Ae.type!==$||Ae.texture!==de)&&(e.bindTexture($,de||Fe[$]),Ae.type=$,Ae.texture=de)}function Pe(){var $=te[J];$!==void 0&&$.type!==void 0&&(e.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function We(){try{e.compressedTexImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function at(){try{e.texImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ge(){try{e.texImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function we($){ne.equals($)===!1&&(e.scissor($.x,$.y,$.z,$.w),ne.copy($))}function Le($){ue.equals($)===!1&&(e.viewport($.x,$.y,$.z,$.w),ue.copy($))}function Ce(){for(var $=0;$<v.length;$++)v[$]===1&&(e.disableVertexAttribArray($),v[$]=0);_={},J=null,te={},g=null,w=null,F=null,H=null,u.reset(),c.reset(),f.reset()}return{buffers:{color:u,depth:c,stencil:f},initAttributes:De,enableAttribute:Me,enableAttributeAndDivisor:ae,disableUnusedAttributes:ft,enable:Ue,disable:it,useProgram:Be,setBlending:gt,setMaterial:Cn,setFlipSided:Yt,setCullFace:U,setLineWidth:k,setPolygonOffset:me,setScissorTest:fe,activeTexture:qe,bindTexture:Ne,unbindTexture:Pe,compressedTexImage2D:We,texImage2D:at,texImage3D:Ge,scissor:we,viewport:Le,reset:Ce}}function Fk(e,t,n,r,i,a,s){var u=i.isWebGL2,c=i.maxTextures,f=i.maxCubemapSize,h=i.maxTextureSize,d=i.maxSamples,v=new WeakMap,m,_=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(U){}function g(U,k){return _?new OffscreenCanvas(U,k):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function y(U,k,me,fe){var qe=1;if((U.width>fe||U.height>fe)&&(qe=fe/Math.max(U.width,U.height)),qe<1||k===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){var Ne=k?ct.floorPowerOfTwo:Math.floor,Pe=Ne(qe*U.width),We=Ne(qe*U.height);m===void 0&&(m=g(Pe,We));var at=me?g(Pe,We):m;at.width=Pe,at.height=We;var Ge=at.getContext("2d");return Ge.drawImage(U,0,0,Pe,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Pe+"x"+We+")."),at}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function w(U){return ct.isPowerOfTwo(U.width)&&ct.isPowerOfTwo(U.height)}function M(U){return u?!1:U.wrapS!==nr||U.wrapT!==nr||U.minFilter!==dn&&U.minFilter!==Mn}function E(U,k){return U.generateMipmaps&&k&&U.minFilter!==dn&&U.minFilter!==Mn}function S(U,k,me,fe){e.generateMipmap(U);var qe=r.get(k);qe.__maxMipLevel=Math.log(Math.max(me,fe))*Math.LOG2E}function b(U,k,me){if(u===!1)return k;if(U!==null){if(e[U]!==void 0)return e[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}var fe=k;return k===6403&&(me===5126&&(fe=33326),me===5131&&(fe=33325),me===5121&&(fe=33321)),k===6407&&(me===5126&&(fe=34837),me===5131&&(fe=34843),me===5121&&(fe=32849)),k===6408&&(me===5126&&(fe=34836),me===5131&&(fe=34842),me===5121&&(fe=32856)),fe===33325||fe===33326||fe===34842||fe===34836?t.get("EXT_color_buffer_float"):(fe===34843||fe===34837)&&console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),fe}function P(U){return U===dn||U===Ng||U===Fg?9728:9729}function D(U){var k=U.target;k.removeEventListener("dispose",D),F(k),k.isVideoTexture&&v.delete(k),s.memory.textures--}function L(U){var k=U.target;k.removeEventListener("dispose",L),H(k),s.memory.textures--}function F(U){var k=r.get(U);k.__webglInit!==void 0&&(e.deleteTexture(k.__webglTexture),r.remove(U))}function H(U){var k=r.get(U),me=r.get(U.texture);if(!!U){if(me.__webglTexture!==void 0&&e.deleteTexture(me.__webglTexture),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(var fe=0;fe<6;fe++)e.deleteFramebuffer(k.__webglFramebuffer[fe]),k.__webglDepthbuffer&&e.deleteRenderbuffer(k.__webglDepthbuffer[fe]);else e.deleteFramebuffer(k.__webglFramebuffer),k.__webglDepthbuffer&&e.deleteRenderbuffer(k.__webglDepthbuffer);if(U.isWebGLMultiviewRenderTarget){e.deleteTexture(k.__webglColorTexture),e.deleteTexture(k.__webglDepthStencilTexture),s.memory.textures-=2;for(var fe=0,qe=k.__webglViewFramebuffers.length;fe<qe;fe++)e.deleteFramebuffer(k.__webglViewFramebuffers[fe])}r.remove(U.texture),r.remove(U)}}var q=0;function I(){q=0}function N(){var U=q;return U>=c&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+c),q+=1,U}function z(U,k){var me=r.get(U);if(U.isVideoTexture&&tt(U),U.version>0&&me.__version!==U.version){var fe=U.image;if(fe===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Fe(me,U,k);return}}n.activeTexture(33984+k),n.bindTexture(3553,me.__webglTexture)}function W(U,k){var me=r.get(U);if(U.version>0&&me.__version!==U.version){Fe(me,U,k);return}n.activeTexture(33984+k),n.bindTexture(35866,me.__webglTexture)}function Z(U,k){var me=r.get(U);if(U.version>0&&me.__version!==U.version){Fe(me,U,k);return}n.activeTexture(33984+k),n.bindTexture(32879,me.__webglTexture)}function ee(U,k){if(U.image.length===6){var me=r.get(U);if(U.version>0&&me.__version!==U.version){_e(me,U),n.activeTexture(33984+k),n.bindTexture(34067,me.__webglTexture),e.pixelStorei(37440,U.flipY);for(var fe=U&&(U.isCompressedTexture||U.image[0].isCompressedTexture),qe=U.image[0]&&U.image[0].isDataTexture,Ne=[],Pe=0;Pe<6;Pe++)!fe&&!qe?Ne[Pe]=y(U.image[Pe],!1,!0,f):Ne[Pe]=qe?U.image[Pe].image:U.image[Pe];var We=Ne[0],at=w(We)||u,Ge=a.convert(U.format),we=a.convert(U.type),Le=b(U.internalFormat,Ge,we);ue(34067,U,at);var Ce;if(fe){for(var Pe=0;Pe<6;Pe++){Ce=Ne[Pe].mipmaps;for(var $=0;$<Ce.length;$++){var de=Ce[$];U.format!==Hi&&U.format!==co?Ge!==null?n.compressedTexImage2D(34069+Pe,$,Le,de.width,de.height,0,de.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Pe,$,Le,de.width,de.height,0,Ge,we,de.data)}}me.__maxMipLevel=Ce.length-1}else{Ce=U.mipmaps;for(var Pe=0;Pe<6;Pe++)if(qe){n.texImage2D(34069+Pe,0,Le,Ne[Pe].width,Ne[Pe].height,0,Ge,we,Ne[Pe].data);for(var $=0;$<Ce.length;$++){var de=Ce[$],Ae=de.image[Pe].image;n.texImage2D(34069+Pe,$+1,Le,Ae.width,Ae.height,0,Ge,we,Ae.data)}}else{n.texImage2D(34069+Pe,0,Le,Ge,we,Ne[Pe]);for(var $=0;$<Ce.length;$++){var de=Ce[$];n.texImage2D(34069+Pe,$+1,Le,Ge,we,de.image[Pe])}}me.__maxMipLevel=Ce.length}E(U,at)&&S(34067,U,We.width,We.height),me.__version=U.version,U.onUpdate&&U.onUpdate(U)}else n.activeTexture(33984+k),n.bindTexture(34067,me.__webglTexture)}}function J(U,k){n.activeTexture(33984+k),n.bindTexture(34067,r.get(U).__webglTexture)}var te={[mc]:10497,[nr]:33071,[xd]:33648},ne={[dn]:9728,[Ng]:9984,[Fg]:9986,[Mn]:9729,[OT]:9985,[gp]:9987};function ue(U,k,me){me?(e.texParameteri(U,10242,te[k.wrapS]),e.texParameteri(U,10243,te[k.wrapT]),(U===32879||U===35866)&&e.texParameteri(U,32882,te[k.wrapR]),e.texParameteri(U,10240,ne[k.magFilter]),e.texParameteri(U,10241,ne[k.minFilter])):(e.texParameteri(U,10242,33071),e.texParameteri(U,10243,33071),(U===32879||U===35866)&&e.texParameteri(U,32882,33071),(k.wrapS!==nr||k.wrapT!==nr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(U,10240,P(k.magFilter)),e.texParameteri(U,10241,P(k.minFilter)),k.minFilter!==dn&&k.minFilter!==Mn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var fe=t.get("EXT_texture_filter_anisotropic");if(fe){if(k.type===gc&&t.get("OES_texture_float_linear")===null||k.type===P0&&(u||t.get("OES_texture_half_float_linear"))===null)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(e.texParameterf(U,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function _e(U,k){U.__webglInit===void 0&&(U.__webglInit=!0,k.addEventListener("dispose",D),U.__webglTexture=e.createTexture(),s.memory.textures++)}function Fe(U,k,me){var fe=3553;k.isDataTexture2DArray&&(fe=35866),k.isDataTexture3D&&(fe=32879),_e(U,k),n.activeTexture(33984+me),n.bindTexture(fe,U.__webglTexture),e.pixelStorei(37440,k.flipY),e.pixelStorei(37441,k.premultiplyAlpha),e.pixelStorei(3317,k.unpackAlignment);var qe=M(k)&&w(k.image)===!1,Ne=y(k.image,qe,!1,h),Pe=w(Ne)||u,We=a.convert(k.format),at=a.convert(k.type),Ge=b(k.internalFormat,We,at);ue(fe,k,Pe);var we,Le=k.mipmaps;if(k.isDepthTexture){if(Ge=6402,k.type===gc){if(u===!1)throw new Error("Float Depth Texture only supported in WebGL2.0");Ge=36012}else u&&(Ge=33189);k.format===Tu&&Ge===6402&&k.type!==wd&&k.type!==IT&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=wd,at=a.convert(k.type)),k.format===_c&&(Ge=34041,k.type!==bd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=bd,at=a.convert(k.type))),n.texImage2D(3553,0,Ge,Ne.width,Ne.height,0,We,at,null)}else if(k.isDataTexture)if(Le.length>0&&Pe){for(var Ce=0,$=Le.length;Ce<$;Ce++)we=Le[Ce],n.texImage2D(3553,Ce,Ge,we.width,we.height,0,We,at,we.data);k.generateMipmaps=!1,U.__maxMipLevel=Le.length-1}else n.texImage2D(3553,0,Ge,Ne.width,Ne.height,0,We,at,Ne.data),U.__maxMipLevel=0;else if(k.isCompressedTexture){for(var Ce=0,$=Le.length;Ce<$;Ce++)we=Le[Ce],k.format!==Hi&&k.format!==co?We!==null?n.compressedTexImage2D(3553,Ce,Ge,we.width,we.height,0,we.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Ce,Ge,we.width,we.height,0,We,at,we.data);U.__maxMipLevel=Le.length-1}else if(k.isDataTexture2DArray)n.texImage3D(35866,0,Ge,Ne.width,Ne.height,Ne.depth,0,We,at,Ne.data),U.__maxMipLevel=0;else if(k.isDataTexture3D)n.texImage3D(32879,0,Ge,Ne.width,Ne.height,Ne.depth,0,We,at,Ne.data),U.__maxMipLevel=0;else if(Le.length>0&&Pe){for(var Ce=0,$=Le.length;Ce<$;Ce++)we=Le[Ce],n.texImage2D(3553,Ce,Ge,We,at,we);k.generateMipmaps=!1,U.__maxMipLevel=Le.length-1}else n.texImage2D(3553,0,Ge,We,at,Ne),U.__maxMipLevel=0;E(k,Pe)&&S(fe,k,Ne.width,Ne.height),U.__version=k.version,k.onUpdate&&k.onUpdate(k)}function De(U,k,me,fe){var qe=a.convert(k.texture.format),Ne=a.convert(k.texture.type),Pe=b(k.texture.internalFormat,qe,Ne);n.texImage2D(fe,0,Pe,k.width,k.height,0,qe,Ne,null),e.bindFramebuffer(36160,U),e.framebufferTexture2D(36160,me,fe,r.get(k.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function Me(U,k,me){if(e.bindRenderbuffer(36161,U),k.depthBuffer&&!k.stencilBuffer){if(me){var fe=he(k);e.renderbufferStorageMultisample(36161,fe,33189,k.width,k.height)}else e.renderbufferStorage(36161,33189,k.width,k.height);e.framebufferRenderbuffer(36160,36096,36161,U)}else if(k.depthBuffer&&k.stencilBuffer){if(me){var fe=he(k);e.renderbufferStorageMultisample(36161,fe,35056,k.width,k.height)}else e.renderbufferStorage(36161,34041,k.width,k.height);e.framebufferRenderbuffer(36160,33306,36161,U)}else{var qe=a.convert(k.texture.format),Ne=a.convert(k.texture.type),Pe=b(k.texture.internalFormat,qe,Ne);if(me){var fe=he(k);e.renderbufferStorageMultisample(36161,fe,Pe,k.width,k.height)}else e.renderbufferStorage(36161,Pe,k.width,k.height)}e.bindRenderbuffer(36161,null)}function ae(U,k){var me=k&&k.isWebGLCubeRenderTarget;if(me)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,U),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),z(k.depthTexture,0);var fe=r.get(k.depthTexture).__webglTexture;if(k.depthTexture.format===Tu)e.framebufferTexture2D(36160,36096,3553,fe,0);else if(k.depthTexture.format===_c)e.framebufferTexture2D(36160,33306,3553,fe,0);else throw new Error("Unknown depthTexture format")}function ft(U){var k=r.get(U),me=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture){if(me)throw new Error("target.depthTexture not supported in Cube render targets");ae(k.__webglFramebuffer,U)}else if(me){k.__webglDepthbuffer=[];for(var fe=0;fe<6;fe++)e.bindFramebuffer(36160,k.__webglFramebuffer[fe]),k.__webglDepthbuffer[fe]=e.createRenderbuffer(),Me(k.__webglDepthbuffer[fe],U)}else e.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=e.createRenderbuffer(),Me(k.__webglDepthbuffer,U);e.bindFramebuffer(36160,null)}function Ue(U){var k=r.get(U),me=r.get(U.texture);U.addEventListener("dispose",L),me.__webglTexture=e.createTexture(),s.memory.textures++;var fe=U.isWebGLCubeRenderTarget===!0,qe=U.isWebGLMultisampleRenderTarget===!0,Ne=U.isWebGLMultiviewRenderTarget===!0,Pe=w(U)||u;if(fe){k.__webglFramebuffer=[];for(var We=0;We<6;We++)k.__webglFramebuffer[We]=e.createFramebuffer()}else if(k.__webglFramebuffer=e.createFramebuffer(),qe)if(u){k.__webglMultisampledFramebuffer=e.createFramebuffer(),k.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,k.__webglColorRenderbuffer);var at=a.convert(U.texture.format),Ge=a.convert(U.texture.type),we=b(U.texture.internalFormat,at,Ge),Le=he(U);e.renderbufferStorageMultisample(36161,Le,we,U.width,U.height),e.bindFramebuffer(36160,k.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,k.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),U.depthBuffer&&(k.__webglDepthRenderbuffer=e.createRenderbuffer(),Me(k.__webglDepthRenderbuffer,U,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(Ne){var Ce=U.width,$=U.height,de=U.numViews;e.bindFramebuffer(36160,k.__webglFramebuffer);var Ae=t.get("OVR_multiview2");s.memory.textures+=2;var Ye=e.createTexture();e.bindTexture(35866,Ye),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,Ce,$,de,0,6408,5121,null),Ae.framebufferTextureMultiviewOVR(36160,36064,Ye,0,0,de);var Te=e.createTexture();e.bindTexture(35866,Te),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,Ce,$,de,0,34041,34042,null),Ae.framebufferTextureMultiviewOVR(36160,33306,Te,0,0,de);for(var pt=new Array(de),We=0;We<de;++We)pt[We]=e.createFramebuffer(),e.bindFramebuffer(36160,pt[We]),e.framebufferTextureLayer(36160,36064,Ye,0,We);k.__webglColorTexture=Ye,k.__webglDepthStencilTexture=Te,k.__webglViewFramebuffers=pt,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(fe){n.bindTexture(34067,me.__webglTexture),ue(34067,U.texture,Pe);for(var We=0;We<6;We++)De(k.__webglFramebuffer[We],U,36064,34069+We);E(U.texture,Pe)&&S(34067,U.texture,U.width,U.height),n.bindTexture(34067,null)}else Ne||(n.bindTexture(3553,me.__webglTexture),ue(3553,U.texture,Pe),De(k.__webglFramebuffer,U,36064,3553),E(U.texture,Pe)&&S(3553,U.texture,U.width,U.height),n.bindTexture(3553,null));U.depthBuffer&&ft(U)}function it(U){var k=U.texture,me=w(U)||u;if(E(k,me)){var fe=U.isWebGLCubeRenderTarget?34067:3553,qe=r.get(k).__webglTexture;n.bindTexture(fe,qe),S(fe,k,U.width,U.height),n.bindTexture(fe,null)}}function Be(U){if(U.isWebGLMultisampleRenderTarget)if(u){var k=r.get(U);e.bindFramebuffer(36008,k.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,k.__webglFramebuffer);var me=U.width,fe=U.height,qe=16384;U.depthBuffer&&(qe|=256),U.stencilBuffer&&(qe|=1024),e.blitFramebuffer(0,0,me,fe,0,0,me,fe,qe,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function he(U){return u&&U.isWebGLMultisampleRenderTarget?Math.min(d,U.samples):0}function tt(U){var k=s.render.frame;v.get(U)!==k&&(v.set(U,k),U.update())}var Mt=!1,gt=!1;function Cn(U,k){U&&U.isWebGLRenderTarget&&(Mt===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Mt=!0),U=U.texture),z(U,k)}function Yt(U,k){U&&U.isWebGLCubeRenderTarget&&(gt===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),gt=!0),U=U.texture),U&&U.isCubeTexture||Array.isArray(U.image)&&U.image.length===6?ee(U,k):J(U,k)}this.allocateTextureUnit=N,this.resetTextureUnits=I,this.setTexture2D=z,this.setTexture2DArray=W,this.setTexture3D=Z,this.setTextureCube=ee,this.setTextureCubeDynamic=J,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=it,this.updateMultisampleRenderTarget=Be,this.safeSetTexture2D=Cn,this.safeSetTextureCube=Yt}function Bk(e,t,n){var r=n.isWebGL2;function i(a){var s;if(a===_p)return 5121;if(a===Xz)return 32819;if(a===Yz)return 32820;if(a===Zz)return 33635;if(a===$z)return 5120;if(a===jz)return 5122;if(a===wd)return 5123;if(a===qz)return 5124;if(a===IT)return 5125;if(a===gc)return 5126;if(a===P0)return r?5131:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===Jz)return 6406;if(a===co)return 6407;if(a===Hi)return 6408;if(a===Kz)return 6409;if(a===Qz)return 6410;if(a===Tu)return 6402;if(a===_c)return 34041;if(a===tU)return 6403;if(a===nU)return 36244;if(a===rU)return 33319;if(a===iU)return 33320;if(a===aU)return 36248;if(a===sU)return 36249;if(a===Gb||a===Hb||a===kb||a===Wb)if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===Gb)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===Hb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===kb)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Wb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===Vb||a===$b||a===jb||a===qb)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===Vb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===$b)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===jb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===qb)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===oU)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===uU||a===lU||a===cU||a===fU||a===hU||a===dU||a===pU||a===vU||a===mU||a===gU||a===_U||a===yU||a===xU||a===wU)return s=t.get("WEBGL_compressed_texture_astc"),s!==null?a:null;if(a===bd)return r?34042:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}function Vg(e,t,n,r){ir.call(this,e,t,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}Vg.prototype=Object.assign(Object.create(ir.prototype),{constructor:Vg,isWebGLMultiviewRenderTarget:!0,copy:function(e){return ir.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}});function zk(e,t){var n=2,r=e.extensions,i=e.properties,a,s,u,c,f,h,d,v=0;function m(){if(d===void 0){var D=r.get("OVR_multiview2");if(d=D!==null&&t.getContextAttributes().antialias===!1,d){v=t.getParameter(D.MAX_VIEWS_OVR),a=new Vg(0,0,n),h=new le,c=[],u=[],f=[];for(var L=0;L<v;L++)c[L]=new dt,u[L]=new Vn}}return d}function _(D){return D.isArrayCamera?D.cameras:(f[0]=D,f)}function g(D,L){for(var F=_(D),H=0;H<F.length;H++)c[H].copy(F[H].projectionMatrix);L.setValue(t,"projectionMatrices",c)}function y(D,L){for(var F=_(D),H=0;H<F.length;H++)c[H].copy(F[H].matrixWorldInverse);L.setValue(t,"viewMatrices",c)}function w(D,L,F){for(var H=_(L),q=0;q<H.length;q++)c[q].multiplyMatrices(H[q].matrixWorldInverse,D.matrixWorld),u[q].getNormalMatrix(c[q]);F.setValue(t,"modelViewMatrices",c),F.setValue(t,"normalMatrices",u)}function M(D){if(D.isArrayCamera===void 0)return!0;var L=D.cameras;if(L.length>v)return!1;for(var F=1,H=L.length;F<H;F++)if(L[0].viewport.z!==L[F].viewport.z||L[0].viewport.w!==L[F].viewport.w)return!1;return!0}function E(D){if(s?h.set(s.width,s.height):e.getDrawingBufferSize(h),D.isArrayCamera){var L=D.cameras[0].viewport;a.setSize(L.z,L.w),a.setNumViews(D.cameras.length)}else a.setSize(h.x,h.y),a.setNumViews(n)}function S(D){M(D)!==!1&&(s=e.getRenderTarget(),E(D),e.setRenderTarget(a))}function b(D){a===e.getRenderTarget()&&(e.setRenderTarget(s),P(D))}function P(D){var L=a,F=L.numViews,H=i.get(L).__webglViewFramebuffers,q=L.width,I=L.height;if(D.isArrayCamera)for(var N=0;N<F;N++){var z=D.cameras[N].viewport,W=z.x,Z=z.y,ee=W+z.z,J=Z+z.w;t.bindFramebuffer(36008,H[N]),t.blitFramebuffer(0,0,q,I,W,Z,ee,J,16384,9728)}else t.bindFramebuffer(36008,H[0]),t.blitFramebuffer(0,0,q,I,0,0,h.x,h.y,16384,9728)}this.isAvailable=m,this.attachCamera=S,this.detachCamera=b,this.updateCameraProjectionMatricesUniform=g,this.updateCameraViewMatricesUniform=y,this.updateObjectMatricesUniforms=w}function $g(e){rn.call(this),this.cameras=e||[]}$g.prototype=Object.assign(Object.create(rn.prototype),{constructor:$g,isArrayCamera:!0});function Tc(){xe.call(this),this.type="Group"}Tc.prototype=Object.assign(Object.create(xe.prototype),{constructor:Tc,isGroup:!0});function JT(e,t){var n=this,r=null,i=null,a="local-floor",s=null,u=[],c=new Map,f=new rn;f.layers.enable(1),f.viewport=new Gt;var h=new rn;h.layers.enable(2),h.viewport=new Gt;var d=new $g([f,h]);d.layers.enable(1),d.layers.enable(2);var v=null,m=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(F){var H=u[F];return H===void 0&&(H={},u[F]=H),H.targetRay===void 0&&(H.targetRay=new Tc,H.targetRay.matrixAutoUpdate=!1,H.targetRay.visible=!1),H.targetRay},this.getControllerGrip=function(F){var H=u[F];return H===void 0&&(H={},u[F]=H),H.grip===void 0&&(H.grip=new Tc,H.grip.matrixAutoUpdate=!1,H.grip.visible=!1),H.grip};function _(F){var H=c.get(F.inputSource);H&&(H.targetRay&&H.targetRay.dispatchEvent({type:F.type}),H.grip&&H.grip.dispatchEvent({type:F.type}))}function g(){c.forEach(function(F,H){F.targetRay&&(F.targetRay.dispatchEvent({type:"disconnected",data:H}),F.targetRay.visible=!1),F.grip&&(F.grip.dispatchEvent({type:"disconnected",data:H}),F.grip.visible=!1)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),L.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(F){i=F,L.setContext(r),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(F){a=F},this.getReferenceSpace=function(){return i},this.getSession=function(){return r},this.setSession=function(F){if(r=F,r!==null){r.addEventListener("select",_),r.addEventListener("selectstart",_),r.addEventListener("selectend",_),r.addEventListener("squeeze",_),r.addEventListener("squeezestart",_),r.addEventListener("squeezeend",_),r.addEventListener("end",g);var H=t.getContextAttributes(),q={antialias:H.antialias,alpha:H.alpha,depth:H.depth,stencil:H.stencil},I=new XRWebGLLayer(r,t,q);r.updateRenderState({baseLayer:I}),r.requestReferenceSpace(a).then(y),r.addEventListener("inputsourceschange",w)}};function w(F){for(var H=r.inputSources,q=0;q<u.length;q++)c.set(H[q],u[q]);for(var q=0;q<F.removed.length;q++){var I=F.removed[q],N=c.get(I);N&&(N.targetRay&&N.targetRay.dispatchEvent({type:"disconnected",data:I}),N.grip&&N.grip.dispatchEvent({type:"disconnected",data:I}),c.delete(I))}for(var q=0;q<F.added.length;q++){var I=F.added[q],N=c.get(I);N&&(N.targetRay&&N.targetRay.dispatchEvent({type:"connected",data:I}),N.grip&&N.grip.dispatchEvent({type:"connected",data:I}))}}var M=new B,E=new B;function S(F,H,q){M.setFromMatrixPosition(H.matrixWorld),E.setFromMatrixPosition(q.matrixWorld);var I=M.distanceTo(E),N=H.projectionMatrix.elements,z=q.projectionMatrix.elements,W=N[14]/(N[10]-1),Z=N[14]/(N[10]+1),ee=(N[9]+1)/N[5],J=(N[9]-1)/N[5],te=(N[8]-1)/N[0],ne=(z[8]+1)/z[0],ue=W*te,_e=W*ne,Fe=I/(-te+ne),De=Fe*-te;H.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(De),F.translateZ(Fe),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.getInverse(F.matrixWorld);var Me=W+Fe,ae=Z+Fe,ft=ue-De,Ue=_e+(I-De),it=ee*Z/ae*Me,Be=J*Z/ae*Me;F.projectionMatrix.makePerspective(ft,Ue,it,Be,Me,ae)}function b(F,H){H===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(H.matrixWorld,F.matrix),F.matrixWorldInverse.getInverse(F.matrixWorld)}this.getCamera=function(F){d.near=h.near=f.near=F.near,d.far=h.far=f.far=F.far,(v!==d.near||m!==d.far)&&(r.updateRenderState({depthNear:d.near,depthFar:d.far}),v=d.near,m=d.far);var H=F.parent,q=d.cameras;b(d,H);for(var I=0;I<q.length;I++)b(q[I],H);F.matrixWorld.copy(d.matrixWorld);for(var N=F.children,I=0,z=N.length;I<z;I++)N[I].updateMatrixWorld(!0);return S(d,f,h),d};var P=null;function D(F,H){if(s=H.getViewerPose(i),s!==null){var q=s.views,I=r.renderState.baseLayer;e.setFramebuffer(I.framebuffer);for(var N=0;N<q.length;N++){var z=q[N],W=I.getViewport(z),Z=d.cameras[N];Z.matrix.fromArray(z.transform.matrix),Z.projectionMatrix.fromArray(z.projectionMatrix),Z.viewport.set(W.x,W.y,W.width,W.height),N===0&&d.matrix.copy(Z.matrix)}}for(var ee=r.inputSources,N=0;N<u.length;N++){var J=u[N],te=ee[N],ne=null,ue=null;te&&(J.targetRay&&(ne=H.getPose(te.targetRaySpace,i),ne!==null&&(J.targetRay.matrix.fromArray(ne.transform.matrix),J.targetRay.matrix.decompose(J.targetRay.position,J.targetRay.rotation,J.targetRay.scale))),J.grip&&te.gripSpace&&(ue=H.getPose(te.gripSpace,i),ue!==null&&(J.grip.matrix.fromArray(ue.transform.matrix),J.grip.matrix.decompose(J.grip.position,J.grip.rotation,J.grip.scale)))),J.targetRay&&(J.targetRay.visible=ne!==null),J.grip&&(J.grip.visible=ue!==null)}P&&P(F,H)}var L=new WT;L.setAnimationLoop(D),this.setAnimationLoop=function(F){P=F},this.dispose=function(){}}Object.assign(JT.prototype,La.prototype);function wp(e){e=e||{};var t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,r=e.alpha!==void 0?e.alpha:!1,i=e.depth!==void 0?e.depth:!0,a=e.stencil!==void 0?e.stencil:!0,s=e.antialias!==void 0?e.antialias:!1,u=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,c=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,f=e.powerPreference!==void 0?e.powerPreference:"default",h=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,d=null,v=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Br,this.physicallyCorrectLights=!1,this.toneMapping=M0,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var m=this,_=!1,g=null,y=0,w=0,M=null,E=null,S=-1,b={geometry:null,program:null,wireframe:!1},P=null,D=null,L=new Gt,F=new Gt,H=null,q=t.width,I=t.height,N=1,z=null,W=null,Z=new Gt(0,0,q,I),ee=new Gt(0,0,q,I),J=!1,te=new cf,ne=new _H,ue=!1,_e=!1,Fe=new dt,De=new B;function Me(){return M===null?N:1}var ae;try{var ft={alpha:r,depth:i,stencil:a,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(t.addEventListener("webglcontextlost",Ce,!1),t.addEventListener("webglcontextrestored",$,!1),ae=n||t.getContext("webgl",ft)||t.getContext("experimental-webgl",ft),ae===null)throw t.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");ae.getShaderPrecisionFormat===void 0&&(ae.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}var Ue,it,Be,he,tt,Mt,gt,Cn,Yt,U,k,me,fe,qe,Ne,Pe,We;function at(){Ue=new yH(ae),it=new gH(ae,Ue,e),it.isWebGL2===!1&&(Ue.get("WEBGL_depth_texture"),Ue.get("OES_texture_float"),Ue.get("OES_texture_half_float"),Ue.get("OES_texture_half_float_linear"),Ue.get("OES_standard_derivatives"),Ue.get("OES_element_index_uint"),Ue.get("ANGLE_instanced_arrays")),Ue.get("OES_texture_float_linear"),We=new Bk(ae,Ue,it),Be=new Nk(ae,Ue,it),Be.scissor(F.copy(ee).multiplyScalar(N).floor()),Be.viewport(L.copy(Z).multiplyScalar(N).floor()),he=new bH,tt=new Sk,Mt=new Fk(ae,Ue,Be,tt,it,We,he),gt=new YU(ae,it),Cn=new xH(ae,gt,he),Yt=new TH(ae,Cn,gt,he),qe=new SH(ae),U=new Mk(m,Ue,it),k=new Ak,me=new Ok,fe=new vH(m,Be,Yt,u),Ne=new mH(ae,Ue,he,it),Pe=new wH(ae,Ue,he,it),he.programs=U.programs,m.capabilities=it,m.extensions=Ue,m.properties=tt,m.renderLists=k,m.state=Be,m.info=he}at();var Ge=new JT(m,ae);this.xr=Ge;var we=new zk(m,ae),Le=new ZT(m,Yt,it.maxTextureSize);this.shadowMap=Le,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){var A=Ue.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){var A=Ue.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(A){A!==void 0&&(N=A,this.setSize(q,I,!1))},this.getSize=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),A=new le),A.set(q,I)},this.setSize=function(A,R,j){if(Ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=A,I=R,t.width=Math.floor(A*N),t.height=Math.floor(R*N),j!==!1&&(t.style.width=A+"px",t.style.height=R+"px"),this.setViewport(0,0,A,R)},this.getDrawingBufferSize=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),A=new le),A.set(q*N,I*N).floor()},this.setDrawingBufferSize=function(A,R,j){q=A,I=R,N=j,t.width=Math.floor(A*j),t.height=Math.floor(R*j),this.setViewport(0,0,A,R)},this.getCurrentViewport=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),A=new Gt),A.copy(L)},this.getViewport=function(A){return A.copy(Z)},this.setViewport=function(A,R,j,ie){A.isVector4?Z.set(A.x,A.y,A.z,A.w):Z.set(A,R,j,ie),Be.viewport(L.copy(Z).multiplyScalar(N).floor())},this.getScissor=function(A){return A.copy(ee)},this.setScissor=function(A,R,j,ie){A.isVector4?ee.set(A.x,A.y,A.z,A.w):ee.set(A,R,j,ie),Be.scissor(F.copy(ee).multiplyScalar(N).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(A){Be.setScissorTest(J=A)},this.setOpaqueSort=function(A){z=A},this.setTransparentSort=function(A){W=A},this.getClearColor=function(){return fe.getClearColor()},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function(A,R,j){var ie=0;(A===void 0||A)&&(ie|=16384),(R===void 0||R)&&(ie|=256),(j===void 0||j)&&(ie|=1024),ae.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ce,!1),t.removeEventListener("webglcontextrestored",$,!1),k.dispose(),me.dispose(),tt.dispose(),Yt.dispose(),Ge.dispose(),Pt.stop()};function Ce(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function $(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1,at()}function de(A){var R=A.target;R.removeEventListener("dispose",de),Ae(R)}function Ae(A){Ye(A),tt.remove(A)}function Ye(A){var R=tt.get(A).program;A.program=void 0,R!==void 0&&U.releaseProgram(R)}function Te(A,R){A.render(function(j){m.renderBufferImmediate(j,R)})}this.renderBufferImmediate=function(A,R){Be.initAttributes();var j=tt.get(A);A.hasPositions&&!j.position&&(j.position=ae.createBuffer()),A.hasNormals&&!j.normal&&(j.normal=ae.createBuffer()),A.hasUvs&&!j.uv&&(j.uv=ae.createBuffer()),A.hasColors&&!j.color&&(j.color=ae.createBuffer());var ie=R.getAttributes();A.hasPositions&&(ae.bindBuffer(34962,j.position),ae.bufferData(34962,A.positionArray,35048),Be.enableAttribute(ie.position),ae.vertexAttribPointer(ie.position,3,5126,!1,0,0)),A.hasNormals&&(ae.bindBuffer(34962,j.normal),ae.bufferData(34962,A.normalArray,35048),Be.enableAttribute(ie.normal),ae.vertexAttribPointer(ie.normal,3,5126,!1,0,0)),A.hasUvs&&(ae.bindBuffer(34962,j.uv),ae.bufferData(34962,A.uvArray,35048),Be.enableAttribute(ie.uv),ae.vertexAttribPointer(ie.uv,2,5126,!1,0,0)),A.hasColors&&(ae.bindBuffer(34962,j.color),ae.bufferData(34962,A.colorArray,35048),Be.enableAttribute(ie.color),ae.vertexAttribPointer(ie.color,3,5126,!1,0,0)),Be.disableUnusedAttributes(),ae.drawArrays(4,0,A.count),A.count=0};var pt=new wi;this.renderBufferDirect=function(A,R,j,ie,pe,He){R===null&&(R=pt);var Re=pe.isMesh&&pe.matrixWorld.determinant()<0,ot=Mo(A,R,ie,pe);Be.setMaterial(ie,Re);var et=!1;(b.geometry!==j.id||b.program!==ot.id||b.wireframe!==(ie.wireframe===!0))&&(b.geometry=j.id,b.program=ot.id,b.wireframe=ie.wireframe===!0,et=!0),(ie.morphTargets||ie.morphNormals)&&(qe.update(pe,j,ie,ot),et=!0);var Ke=j.index,Lt=j.attributes.position;if(Ke===null){if(Lt===void 0||Lt.count===0)return}else if(Ke.count===0)return;var Tt=1;ie.wireframe===!0&&(Ke=Cn.getWireframeAttribute(j),Tt=2);var _t,Ie=Ne;Ke!==null&&(_t=gt.get(Ke),Ie=Pe,Ie.setIndex(_t)),et&&(Ct(pe,j,ie,ot),Ke!==null&&ae.bindBuffer(34963,_t.buffer));var ke=Ke!==null?Ke.count:Lt.count,br=j.drawRange.start*Tt,sn=j.drawRange.count*Tt,Ra=He!==null?He.start*Tt:0,Jn=He!==null?He.count*Tt:1/0,Pn=Math.max(br,Ra),To=Math.min(ke,br+sn,Ra+Jn)-1,bs=Math.max(0,To-Pn+1);if(bs!==0){if(pe.isMesh)ie.wireframe===!0?(Be.setLineWidth(ie.wireframeLinewidth*Me()),Ie.setMode(1)):Ie.setMode(4);else if(pe.isLine){var Eo=ie.linewidth;Eo===void 0&&(Eo=1),Be.setLineWidth(Eo*Me()),pe.isLineSegments?Ie.setMode(1):pe.isLineLoop?Ie.setMode(2):Ie.setMode(3)}else pe.isPoints?Ie.setMode(0):pe.isSprite&&Ie.setMode(4);pe.isInstancedMesh?Ie.renderInstances(j,Pn,bs,pe.count):j.isInstancedBufferGeometry?Ie.renderInstances(j,Pn,bs,j.maxInstancedCount):Ie.render(Pn,bs)}};function Ct(A,R,j,ie){if(!(it.isWebGL2===!1&&(A.isInstancedMesh||R.isInstancedBufferGeometry)&&Ue.get("ANGLE_instanced_arrays")===null)){Be.initAttributes();var pe=R.attributes,He=ie.getAttributes(),Re=j.defaultAttributeValues;for(var ot in He){var et=He[ot];if(et>=0){var Ke=pe[ot];if(Ke!==void 0){var Lt=Ke.normalized,Tt=Ke.itemSize,_t=gt.get(Ke);if(_t===void 0)continue;var Ie=_t.buffer,ke=_t.type,br=_t.bytesPerElement;if(Ke.isInterleavedBufferAttribute){var sn=Ke.data,Ra=sn.stride,Jn=Ke.offset;sn&&sn.isInstancedInterleavedBuffer?(Be.enableAttributeAndDivisor(et,sn.meshPerAttribute),R.maxInstancedCount===void 0&&(R.maxInstancedCount=sn.meshPerAttribute*sn.count)):Be.enableAttribute(et),ae.bindBuffer(34962,Ie),ae.vertexAttribPointer(et,Tt,ke,Lt,Ra*br,Jn*br)}else Ke.isInstancedBufferAttribute?(Be.enableAttributeAndDivisor(et,Ke.meshPerAttribute),R.maxInstancedCount===void 0&&(R.maxInstancedCount=Ke.meshPerAttribute*Ke.count)):Be.enableAttribute(et),ae.bindBuffer(34962,Ie),ae.vertexAttribPointer(et,Tt,ke,Lt,0,0)}else if(ot==="instanceMatrix"){var _t=gt.get(A.instanceMatrix);if(_t===void 0)continue;var Ie=_t.buffer,ke=_t.type;Be.enableAttributeAndDivisor(et+0,1),Be.enableAttributeAndDivisor(et+1,1),Be.enableAttributeAndDivisor(et+2,1),Be.enableAttributeAndDivisor(et+3,1),ae.bindBuffer(34962,Ie),ae.vertexAttribPointer(et+0,4,ke,!1,64,0),ae.vertexAttribPointer(et+1,4,ke,!1,64,16),ae.vertexAttribPointer(et+2,4,ke,!1,64,32),ae.vertexAttribPointer(et+3,4,ke,!1,64,48)}else if(Re!==void 0){var Pn=Re[ot];if(Pn!==void 0)switch(Pn.length){case 2:ae.vertexAttrib2fv(et,Pn);break;case 3:ae.vertexAttrib3fv(et,Pn);break;case 4:ae.vertexAttrib4fv(et,Pn);break;default:ae.vertexAttrib1fv(et,Pn)}}}}Be.disableUnusedAttributes()}}this.compile=function(A,R){v=me.get(A,R),v.init(),A.traverse(function(ie){ie.isLight&&(v.pushLight(ie),ie.castShadow&&v.pushShadow(ie))}),v.setupLights(R);var j={};A.traverse(function(ie){if(ie.material)if(Array.isArray(ie.material))for(var pe=0;pe<ie.material.length;pe++)ie.material[pe].uuid in j||(wr(ie.material[pe],A,ie),j[ie.material[pe].uuid]=!0);else ie.material.uuid in j||(wr(ie.material,A,ie),j[ie.material.uuid]=!0)})};var Nt=null;function xr(A){Ge.isPresenting||Nt&&Nt(A)}var Pt=new WT;Pt.setAnimationLoop(xr),typeof window<"u"&&Pt.setContext(window),this.setAnimationLoop=function(A){Nt=A,Ge.setAnimationLoop(A),Pt.start()},this.render=function(A,R){var j,ie;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),j=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),ie=arguments[3]),!(R&&R.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!_){b.geometry=null,b.program=null,b.wireframe=!1,S=-1,P=null,A.autoUpdate===!0&&A.updateMatrixWorld(),R.parent===null&&R.updateMatrixWorld(),Ge.enabled&&Ge.isPresenting&&(R=Ge.getCamera(R)),v=me.get(A,R),v.init(),A.onBeforeRender(m,A,R,j||M),Fe.multiplyMatrices(R.projectionMatrix,R.matrixWorldInverse),te.setFromProjectionMatrix(Fe),_e=this.localClippingEnabled,ue=ne.init(this.clippingPlanes,_e,R),d=k.get(A,R),d.init(),Zn(A,R,0,m.sortObjects),m.sortObjects===!0&&d.sort(z,W),ue&&ne.beginShadows();var pe=v.state.shadowsArray;Le.render(pe,A,R),v.setupLights(R),ue&&ne.endShadows(),this.info.autoReset&&this.info.reset(),j!==void 0&&this.setRenderTarget(j),Ge.enabled&&we.isAvailable()&&we.attachCamera(R),fe.render(d,A,R,ie);var He=d.opaque,Re=d.transparent;if(A.overrideMaterial){var ot=A.overrideMaterial;He.length&&Sn(He,A,R,ot),Re.length&&Sn(Re,A,R,ot)}else He.length&&Sn(He,A,R),Re.length&&Sn(Re,A,R);A.onAfterRender(m,A,R),M!==null&&(Mt.updateRenderTargetMipmap(M),Mt.updateMultisampleRenderTarget(M)),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1),Ge.enabled&&we.isAvailable()&&we.detachCamera(R),d=null,v=null}};function Zn(A,R,j,ie){if(A.visible!==!1){var pe=A.layers.test(R.layers);if(pe){if(A.isGroup)j=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(R);else if(A.isLight)v.pushLight(A),A.castShadow&&v.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||te.intersectsSprite(A)){ie&&De.setFromMatrixPosition(A.matrixWorld).applyMatrix4(Fe);var He=Yt.update(A),Re=A.material;Re.visible&&d.push(A,He,Re,j,De.z,null)}}else if(A.isImmediateRenderObject)ie&&De.setFromMatrixPosition(A.matrixWorld).applyMatrix4(Fe),d.push(A,null,A.material,j,De.z,null);else if((A.isMesh||A.isLine||A.isPoints)&&(A.isSkinnedMesh&&A.skeleton.frame!==he.render.frame&&(A.skeleton.update(),A.skeleton.frame=he.render.frame),!A.frustumCulled||te.intersectsObject(A))){ie&&De.setFromMatrixPosition(A.matrixWorld).applyMatrix4(Fe);var He=Yt.update(A),Re=A.material;if(Array.isArray(Re))for(var ot=He.groups,et=0,Ke=ot.length;et<Ke;et++){var Lt=ot[et],Tt=Re[Lt.materialIndex];Tt&&Tt.visible&&d.push(A,He,Tt,j,De.z,Lt)}else Re.visible&&d.push(A,He,Re,j,De.z,null)}}for(var _t=A.children,et=0,Ke=_t.length;et<Ke;et++)Zn(_t[et],R,j,ie)}}function Sn(A,R,j,ie){for(var pe=0,He=A.length;pe<He;pe++){var Re=A[pe],ot=Re.object,et=Re.geometry,Ke=ie===void 0?Re.material:ie,Lt=Re.group;if(j.isArrayCamera)if(D=j,Ge.enabled&&we.isAvailable())Zi(ot,R,j,et,Ke,Lt);else for(var Tt=j.cameras,_t=0,Ie=Tt.length;_t<Ie;_t++){var ke=Tt[_t];ot.layers.test(ke.layers)&&(Be.viewport(L.copy(ke.viewport)),v.setupLights(ke),Zi(ot,R,ke,et,Ke,Lt))}else D=null,Zi(ot,R,j,et,Ke,Lt)}}function Zi(A,R,j,ie,pe,He){if(A.onBeforeRender(m,R,j,ie,pe,He),v=me.get(R,D||j),A.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),A.isImmediateRenderObject){var Re=Mo(j,R,pe,A);Be.setMaterial(pe),b.geometry=null,b.program=null,b.wireframe=!1,Te(A,Re)}else m.renderBufferDirect(j,R,ie,pe,A,He);A.onAfterRender(m,R,j,ie,pe,He),v=me.get(R,D||j)}function wr(A,R,j){var ie=tt.get(A),pe=v.state.lights,He=v.state.shadowsArray,Re=pe.state.version,ot=U.getParameters(A,pe.state,He,R,ne.numPlanes,ne.numIntersection,j),et=U.getProgramCacheKey(ot),Ke=ie.program,Lt=!0;if(Ke===void 0)A.addEventListener("dispose",de);else if(Ke.cacheKey!==et)Ye(A);else if(ie.lightsStateVersion!==Re)ie.lightsStateVersion=Re,Lt=!1;else{if(ot.shaderID!==void 0)return;Lt=!1}Lt&&(Ke=U.acquireProgram(ot,et),ie.program=Ke,ie.uniforms=ot.uniforms,ie.environment=A.isMeshStandardMaterial?R.environment:null,ie.outputEncoding=m.outputEncoding,A.program=Ke);var Tt=Ke.getAttributes();if(A.morphTargets){A.numSupportedMorphTargets=0;for(var _t=0;_t<m.maxMorphTargets;_t++)Tt["morphTarget"+_t]>=0&&A.numSupportedMorphTargets++}if(A.morphNormals){A.numSupportedMorphNormals=0;for(var _t=0;_t<m.maxMorphNormals;_t++)Tt["morphNormal"+_t]>=0&&A.numSupportedMorphNormals++}var Ie=ie.uniforms;(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(ie.numClippingPlanes=ne.numPlanes,ie.numIntersection=ne.numIntersection,Ie.clippingPlanes=ne.uniform),ie.fog=R.fog,ie.needsLights=Fp(A),ie.lightsStateVersion=Re,ie.needsLights&&(Ie.ambientLightColor.value=pe.state.ambient,Ie.lightProbe.value=pe.state.probe,Ie.directionalLights.value=pe.state.directional,Ie.spotLights.value=pe.state.spot,Ie.rectAreaLights.value=pe.state.rectArea,Ie.pointLights.value=pe.state.point,Ie.hemisphereLights.value=pe.state.hemi,Ie.directionalShadowMap.value=pe.state.directionalShadowMap,Ie.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,Ie.spotShadowMap.value=pe.state.spotShadowMap,Ie.spotShadowMatrix.value=pe.state.spotShadowMatrix,Ie.pointShadowMap.value=pe.state.pointShadowMap,Ie.pointShadowMatrix.value=pe.state.pointShadowMatrix);var ke=ie.program.getUniforms(),br=is.seqWithValue(ke.seq,Ie);ie.uniformsList=br}function Mo(A,R,j,ie){Mt.resetTextureUnits();var pe=R.fog,He=j.isMeshStandardMaterial?R.environment:null,Re=tt.get(j),ot=v.state.lights;if(ue&&(_e||A!==P)){var et=A===P&&j.id===S;ne.setState(j.clippingPlanes,j.clipIntersection,j.clipShadows,A,Re,et)}j.version===Re.__version?(Re.program===void 0||j.fog&&Re.fog!==pe||Re.environment!==He||Re.needsLights&&Re.lightsStateVersion!==ot.state.version||Re.numClippingPlanes!==void 0&&(Re.numClippingPlanes!==ne.numPlanes||Re.numIntersection!==ne.numIntersection)||Re.outputEncoding!==m.outputEncoding)&&wr(j,R,ie):(wr(j,R,ie),Re.__version=j.version);var Ke=!1,Lt=!1,Tt=!1,_t=Re.program,Ie=_t.getUniforms(),ke=Re.uniforms;if(Be.useProgram(_t.program)&&(Ke=!0,Lt=!0,Tt=!0),j.id!==S&&(S=j.id,Lt=!0),Ke||P!==A){if(_t.numMultiviewViews>0?we.updateCameraProjectionMatricesUniform(A,Ie):Ie.setValue(ae,"projectionMatrix",A.projectionMatrix),it.logarithmicDepthBuffer&&Ie.setValue(ae,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),P!==A&&(P=A,Lt=!0,Tt=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){var br=Ie.map.cameraPosition;br!==void 0&&br.setValue(ae,De.setFromMatrixPosition(A.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&Ie.setValue(ae,"isOrthographic",A.isOrthographicCamera===!0),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.skinning)&&(_t.numMultiviewViews>0?we.updateCameraViewMatricesUniform(A,Ie):Ie.setValue(ae,"viewMatrix",A.matrixWorldInverse))}if(j.skinning){Ie.setOptional(ae,ie,"bindMatrix"),Ie.setOptional(ae,ie,"bindMatrixInverse");var sn=ie.skeleton;if(sn){var Ra=sn.bones;if(it.floatVertexTextures){if(sn.boneTexture===void 0){var Jn=Math.sqrt(Ra.length*4);Jn=ct.ceilPowerOfTwo(Jn),Jn=Math.max(Jn,4);var Pn=new Float32Array(Jn*Jn*4);Pn.set(sn.boneMatrices);var To=new Fu(Pn,Jn,Jn,Hi,gc);sn.boneMatrices=Pn,sn.boneTexture=To,sn.boneTextureSize=Jn}Ie.setValue(ae,"boneTexture",sn.boneTexture,Mt),Ie.setValue(ae,"boneTextureSize",sn.boneTextureSize)}else Ie.setOptional(ae,sn,"boneMatrices")}}return(Lt||Re.receiveShadow!==ie.receiveShadow)&&(Re.receiveShadow=ie.receiveShadow,Ie.setValue(ae,"receiveShadow",ie.receiveShadow)),Lt&&(Ie.setValue(ae,"toneMappingExposure",m.toneMappingExposure),Ie.setValue(ae,"toneMappingWhitePoint",m.toneMappingWhitePoint),Re.needsLights&&Np(ke,Tt),pe&&j.fog&&Cp(ke,pe),j.isMeshBasicMaterial?or(ke,j):j.isMeshLambertMaterial?(or(ke,j),ol(ke,j)):j.isMeshToonMaterial?(or(ke,j),ul(ke,j)):j.isMeshPhongMaterial?(or(ke,j),Pp(ke,j)):j.isMeshStandardMaterial?(or(ke,j,He),j.isMeshPhysicalMaterial?Lp(ke,j,He):ff(ke,j,He)):j.isMeshMatcapMaterial?(or(ke,j),Rp(ke,j)):j.isMeshDepthMaterial?(or(ke,j),Op(ke,j)):j.isMeshDistanceMaterial?(or(ke,j),Ip(ke,j)):j.isMeshNormalMaterial?(or(ke,j),Dp(ke,j)):j.isLineBasicMaterial?(So(ke,j),j.isLineDashedMaterial&&Ji(ke,j)):j.isPointsMaterial?Ep(ke,j):j.isSpriteMaterial?Ap(ke,j):j.isShadowMaterial&&(ke.color.value.copy(j.color),ke.opacity.value=j.opacity),ke.ltc_1!==void 0&&(ke.ltc_1.value=ge.LTC_1),ke.ltc_2!==void 0&&(ke.ltc_2.value=ge.LTC_2),is.upload(ae,Re.uniformsList,ke,Mt),j.isShaderMaterial&&(j.uniformsNeedUpdate=!1)),j.isShaderMaterial&&j.uniformsNeedUpdate===!0&&(is.upload(ae,Re.uniformsList,ke,Mt),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&Ie.setValue(ae,"center",ie.center),_t.numMultiviewViews>0?we.updateObjectMatricesUniforms(ie,A,Ie):(Ie.setValue(ae,"modelViewMatrix",ie.modelViewMatrix),Ie.setValue(ae,"normalMatrix",ie.normalMatrix)),Ie.setValue(ae,"modelMatrix",ie.matrixWorld),_t}function or(A,R,j){A.opacity.value=R.opacity,R.color&&A.diffuse.value.copy(R.color),R.emissive&&A.emissive.value.copy(R.emissive).multiplyScalar(R.emissiveIntensity),R.map&&(A.map.value=R.map),R.alphaMap&&(A.alphaMap.value=R.alphaMap),R.specularMap&&(A.specularMap.value=R.specularMap);var ie=R.envMap||j;ie&&(A.envMap.value=ie,A.flipEnvMap.value=ie.isCubeTexture?-1:1,A.reflectivity.value=R.reflectivity,A.refractionRatio.value=R.refractionRatio,A.maxMipLevel.value=tt.get(ie).__maxMipLevel),R.lightMap&&(A.lightMap.value=R.lightMap,A.lightMapIntensity.value=R.lightMapIntensity),R.aoMap&&(A.aoMap.value=R.aoMap,A.aoMapIntensity.value=R.aoMapIntensity);var pe;R.map?pe=R.map:R.specularMap?pe=R.specularMap:R.displacementMap?pe=R.displacementMap:R.normalMap?pe=R.normalMap:R.bumpMap?pe=R.bumpMap:R.roughnessMap?pe=R.roughnessMap:R.metalnessMap?pe=R.metalnessMap:R.alphaMap?pe=R.alphaMap:R.emissiveMap&&(pe=R.emissiveMap),pe!==void 0&&(pe.isWebGLRenderTarget&&(pe=pe.texture),pe.matrixAutoUpdate===!0&&pe.updateMatrix(),A.uvTransform.value.copy(pe.matrix));var He;R.aoMap?He=R.aoMap:R.lightMap&&(He=R.lightMap),He!==void 0&&(He.isWebGLRenderTarget&&(He=He.texture),He.matrixAutoUpdate===!0&&He.updateMatrix(),A.uv2Transform.value.copy(He.matrix))}function So(A,R){A.diffuse.value.copy(R.color),A.opacity.value=R.opacity}function Ji(A,R){A.dashSize.value=R.dashSize,A.totalSize.value=R.dashSize+R.gapSize,A.scale.value=R.scale}function Ep(A,R){A.diffuse.value.copy(R.color),A.opacity.value=R.opacity,A.size.value=R.size*N,A.scale.value=I*.5,R.map&&(A.map.value=R.map),R.alphaMap&&(A.alphaMap.value=R.alphaMap);var j;R.map?j=R.map:R.alphaMap&&(j=R.alphaMap),j!==void 0&&(j.matrixAutoUpdate===!0&&j.updateMatrix(),A.uvTransform.value.copy(j.matrix))}function Ap(A,R){A.diffuse.value.copy(R.color),A.opacity.value=R.opacity,A.rotation.value=R.rotation,R.map&&(A.map.value=R.map),R.alphaMap&&(A.alphaMap.value=R.alphaMap);var j;R.map?j=R.map:R.alphaMap&&(j=R.alphaMap),j!==void 0&&(j.matrixAutoUpdate===!0&&j.updateMatrix(),A.uvTransform.value.copy(j.matrix))}function Cp(A,R){A.fogColor.value.copy(R.color),R.isFog?(A.fogNear.value=R.near,A.fogFar.value=R.far):R.isFogExp2&&(A.fogDensity.value=R.density)}function ol(A,R){R.emissiveMap&&(A.emissiveMap.value=R.emissiveMap)}function Pp(A,R){A.specular.value.copy(R.specular),A.shininess.value=Math.max(R.shininess,1e-4),R.emissiveMap&&(A.emissiveMap.value=R.emissiveMap),R.bumpMap&&(A.bumpMap.value=R.bumpMap,A.bumpScale.value=R.bumpScale,R.side===En&&(A.bumpScale.value*=-1)),R.normalMap&&(A.normalMap.value=R.normalMap,A.normalScale.value.copy(R.normalScale),R.side===En&&A.normalScale.value.negate()),R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias)}function ul(A,R){A.specular.value.copy(R.specular),A.shininess.value=Math.max(R.shininess,1e-4),R.gradientMap&&(A.gradientMap.value=R.gradientMap),R.emissiveMap&&(A.emissiveMap.value=R.emissiveMap),R.bumpMap&&(A.bumpMap.value=R.bumpMap,A.bumpScale.value=R.bumpScale,R.side===En&&(A.bumpScale.value*=-1)),R.normalMap&&(A.normalMap.value=R.normalMap,A.normalScale.value.copy(R.normalScale),R.side===En&&A.normalScale.value.negate()),R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias)}function ff(A,R,j){A.roughness.value=R.roughness,A.metalness.value=R.metalness,R.roughnessMap&&(A.roughnessMap.value=R.roughnessMap),R.metalnessMap&&(A.metalnessMap.value=R.metalnessMap),R.emissiveMap&&(A.emissiveMap.value=R.emissiveMap),R.bumpMap&&(A.bumpMap.value=R.bumpMap,A.bumpScale.value=R.bumpScale,R.side===En&&(A.bumpScale.value*=-1)),R.normalMap&&(A.normalMap.value=R.normalMap,A.normalScale.value.copy(R.normalScale),R.side===En&&A.normalScale.value.negate()),R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias),(R.envMap||j)&&(A.envMapIntensity.value=R.envMapIntensity)}function Lp(A,R,j){ff(A,R,j),A.reflectivity.value=R.reflectivity,A.clearcoat.value=R.clearcoat,A.clearcoatRoughness.value=R.clearcoatRoughness,R.sheen&&A.sheen.value.copy(R.sheen),R.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(R.clearcoatNormalScale),A.clearcoatNormalMap.value=R.clearcoatNormalMap,R.side===En&&A.clearcoatNormalScale.value.negate()),A.transparency.value=R.transparency}function Rp(A,R){R.matcap&&(A.matcap.value=R.matcap),R.bumpMap&&(A.bumpMap.value=R.bumpMap,A.bumpScale.value=R.bumpScale,R.side===En&&(A.bumpScale.value*=-1)),R.normalMap&&(A.normalMap.value=R.normalMap,A.normalScale.value.copy(R.normalScale),R.side===En&&A.normalScale.value.negate()),R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias)}function Op(A,R){R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias)}function Ip(A,R){R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias),A.referencePosition.value.copy(R.referencePosition),A.nearDistance.value=R.nearDistance,A.farDistance.value=R.farDistance}function Dp(A,R){R.bumpMap&&(A.bumpMap.value=R.bumpMap,A.bumpScale.value=R.bumpScale,R.side===En&&(A.bumpScale.value*=-1)),R.normalMap&&(A.normalMap.value=R.normalMap,A.normalScale.value.copy(R.normalScale),R.side===En&&A.normalScale.value.negate()),R.displacementMap&&(A.displacementMap.value=R.displacementMap,A.displacementScale.value=R.displacementScale,A.displacementBias.value=R.displacementBias)}function Np(A,R){A.ambientLightColor.needsUpdate=R,A.lightProbe.needsUpdate=R,A.directionalLights.needsUpdate=R,A.pointLights.needsUpdate=R,A.spotLights.needsUpdate=R,A.rectAreaLights.needsUpdate=R,A.hemisphereLights.needsUpdate=R}function Fp(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.setFramebuffer=function(A){g!==A&&M===null&&ae.bindFramebuffer(36160,A),g=A},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return M},this.setRenderTarget=function(A,R,j){M=A,y=R,w=j,A&&tt.get(A).__webglFramebuffer===void 0&&Mt.setupRenderTarget(A);var ie=g,pe=!1;if(A){var He=tt.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(ie=He[R||0],pe=!0):A.isWebGLMultisampleRenderTarget?ie=tt.get(A).__webglMultisampledFramebuffer:ie=He,L.copy(A.viewport),F.copy(A.scissor),H=A.scissorTest}else L.copy(Z).multiplyScalar(N).floor(),F.copy(ee).multiplyScalar(N).floor(),H=J;if(E!==ie&&(ae.bindFramebuffer(36160,ie),E=ie),Be.viewport(L),Be.scissor(F),Be.setScissorTest(H),pe){var Re=tt.get(A.texture);ae.framebufferTexture2D(36160,36064,34069+(R||0),Re.__webglTexture,j||0)}},this.readRenderTargetPixels=function(A,R,j,ie,pe,He,Re){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var ot=tt.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&Re!==void 0&&(ot=ot[Re]),ot){var et=!1;ot!==E&&(ae.bindFramebuffer(36160,ot),et=!0);try{var Ke=A.texture,Lt=Ke.format,Tt=Ke.type;if(Lt!==Hi&&We.convert(Lt)!==ae.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Tt!==_p&&We.convert(Tt)!==ae.getParameter(35738)&&!(Tt===gc&&(it.isWebGL2||Ue.get("OES_texture_float")||Ue.get("WEBGL_color_buffer_float")))&&!(Tt===P0&&(it.isWebGL2?Ue.get("EXT_color_buffer_float"):Ue.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae.checkFramebufferStatus(36160)===36053?R>=0&&R<=A.width-ie&&j>=0&&j<=A.height-pe&&ae.readPixels(R,j,ie,pe,We.convert(Lt),We.convert(Tt),He):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{et&&ae.bindFramebuffer(36160,E)}}},this.copyFramebufferToTexture=function(A,R,j){j===void 0&&(j=0);var ie=Math.pow(2,-j),pe=Math.floor(R.image.width*ie),He=Math.floor(R.image.height*ie),Re=We.convert(R.format);Mt.setTexture2D(R,0),ae.copyTexImage2D(3553,j,Re,A.x,A.y,pe,He,0),Be.unbindTexture()},this.copyTextureToTexture=function(A,R,j,ie){var pe=R.image.width,He=R.image.height,Re=We.convert(j.format),ot=We.convert(j.type);Mt.setTexture2D(j,0),R.isDataTexture?ae.texSubImage2D(3553,ie||0,A.x,A.y,pe,He,Re,ot,R.image.data):ae.texSubImage2D(3553,ie||0,A.x,A.y,Re,ot,R.image),Be.unbindTexture()},this.initTexture=function(A){Mt.setTexture2D(A,0),Be.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function jg(e,t){this.name="",this.color=new Se(e),this.density=t!==void 0?t:25e-5}Object.assign(jg.prototype,{isFogExp2:!0,clone:function(){return new jg(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function qg(e,t,n){this.name="",this.color=new Se(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}Object.assign(qg.prototype,{isFog:!0,clone:function(){return new qg(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function ds(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yp,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(ds.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(ds.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var Hs=new B;function Ad(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}Object.defineProperties(Ad.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Ad.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Hs.x=this.getX(t),Hs.y=this.getY(t),Hs.z=this.getZ(t),Hs.applyMatrix4(e),this.setXYZ(t,Hs.x,Hs.y,Hs.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}});function vo(e){Xe.call(this),this.type="SpriteMaterial",this.color=new Se(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}vo.prototype=Object.create(Xe.prototype);vo.prototype.constructor=vo;vo.prototype.isSpriteMaterial=!0;vo.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var tu,Bl=new B,nu=new B,ru=new B,iu=new le,zl=new le,KT=new dt,Mh=new B,Ul=new B,Sh=new B,_1=new le,Bm=new le,y1=new le;function Xg(e){if(xe.call(this),this.type="Sprite",tu===void 0){tu=new Ee;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new ds(t,5);tu.setIndex([0,1,2,0,2,3]),tu.setAttribute("position",new Ad(n,3,0,!1)),tu.setAttribute("uv",new Ad(n,2,3,!1))}this.geometry=tu,this.material=e!==void 0?e:new vo,this.center=new le(.5,.5)}Xg.prototype=Object.assign(Object.create(xe.prototype),{constructor:Xg,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),nu.setFromMatrixScale(this.matrixWorld),KT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ru.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&nu.multiplyScalar(-ru.z);var n=this.material.rotation,r,i;n!==0&&(i=Math.cos(n),r=Math.sin(n));var a=this.center;Th(Mh.set(-.5,-.5,0),ru,a,nu,r,i),Th(Ul.set(.5,-.5,0),ru,a,nu,r,i),Th(Sh.set(.5,.5,0),ru,a,nu,r,i),_1.set(0,0),Bm.set(1,0),y1.set(1,1);var s=e.ray.intersectTriangle(Mh,Ul,Sh,!1,Bl);if(!(s===null&&(Th(Ul.set(-.5,.5,0),ru,a,nu,r,i),Bm.set(0,1),s=e.ray.intersectTriangle(Mh,Sh,Ul,!1,Bl),s===null))){var u=e.ray.origin.distanceTo(Bl);u<e.near||u>e.far||t.push({distance:u,point:Bl.clone(),uv:Dn.getUV(Bl,Mh,Ul,Sh,_1,Bm,y1,new le),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return xe.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this}});function Th(e,t,n,r,i,a){iu.subVectors(e,n).addScalar(.5).multiply(r),i!==void 0?(zl.x=a*iu.x-i*iu.y,zl.y=i*iu.x+a*iu.y):zl.copy(iu),e.copy(t),e.x+=zl.x,e.y+=zl.y,e.applyMatrix4(KT)}var Eh=new B,x1=new B;function Cd(){xe.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Cd.prototype=Object.assign(Object.create(xe.prototype),{constructor:Cd,isLOD:!0,copy:function(e){xe.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){var n=this.levels;if(n.length>0){Eh.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(Eh);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Eh.setFromMatrixPosition(e.matrixWorld),x1.setFromMatrixPosition(this.matrixWorld);var n=Eh.distanceTo(x1);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=xe.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});function Pd(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Vt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dt,this.bindMatrixInverse=new dt}Pd.prototype=Object.assign(Object.create(Vt.prototype),{constructor:Pd,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Gt,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Vt.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var w1=new dt,Uk=new dt;function Yg(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new dt)}}Object.assign(Yg.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new dt;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var s=e[i]?e[i].matrixWorld:Uk;w1.multiplyMatrices(s,t[i]),w1.toArray(n,i*16)}r!==void 0&&(r.needsUpdate=!0)},clone:function(){return new Yg(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}});function b1(){xe.call(this),this.type="Bone"}b1.prototype=Object.assign(Object.create(xe.prototype),{constructor:b1,isBone:!0});var M1=new dt,S1=new dt,au=[],Gl=new Vt;function Zg(e,t,n){Vt.call(this,e,t),this.instanceMatrix=new Ze(new Float32Array(n*16),16),this.count=n,this.frustumCulled=!1}Zg.prototype=Object.assign(Object.create(Vt.prototype),{constructor:Zg,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(Gl.geometry=this.geometry,Gl.material=this.material,Gl.material!==void 0)for(var i=0;i<r;i++)this.getMatrixAt(i,M1),S1.multiplyMatrices(n,M1),Gl.matrixWorld=S1,Gl.raycast(e,au),au.length>0&&(au[0].instanceId=i,au[0].object=this,t.push(au[0]),au.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function vn(e){Xe.call(this),this.type="LineBasicMaterial",this.color=new Se(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}vn.prototype=Object.create(Xe.prototype);vn.prototype.constructor=vn;vn.prototype.isLineBasicMaterial=!0;vn.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var T1=new B,E1=new B,A1=new dt,Ah=new il,Ch=new ws;function si(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),xe.call(this),this.type="Line",this.geometry=e!==void 0?e:new Ee,this.material=t!==void 0?t:new vn}si.prototype=Object.assign(Object.create(xe.prototype),{constructor:si,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)T1.fromBufferAttribute(t,r-1),E1.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=T1.distanceTo(E1);e.setAttribute("lineDistance",new ye(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices,n=e.lineDistances;n[0]=0;for(var r=1,i=a.length;r<i;r++)n[r]=n[r-1],n[r]+=a[r-1].distanceTo(a[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ch.copy(r.boundingSphere),Ch.applyMatrix4(i),Ch.radius+=n,e.ray.intersectsSphere(Ch)!==!1){A1.getInverse(i),Ah.copy(e.ray).applyMatrix4(A1);var a=n/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,u=new B,c=new B,f=new B,h=new B,d=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var v=r.index,m=r.attributes,_=m.position.array;if(v!==null)for(var g=v.array,y=0,w=g.length-1;y<w;y+=d){var M=g[y],E=g[y+1];u.fromArray(_,M*3),c.fromArray(_,E*3);var S=Ah.distanceSqToSegment(u,c,h,f);if(!(S>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(var y=0,w=_.length/3-1;y<w;y+=d){u.fromArray(_,3*y),c.fromArray(_,3*y+3);var S=Ah.distanceSqToSegment(u,c,h,f);if(!(S>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(r.isGeometry)for(var P=r.vertices,D=P.length,y=0;y<D-1;y+=d){var S=Ah.distanceSqToSegment(P[y],P[y+1],h,f);if(!(S>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Ph=new B,Lh=new B;function yn(e,t){si.call(this,e,t),this.type="LineSegments"}yn.prototype=Object.assign(Object.create(si.prototype),{constructor:yn,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Ph.fromBufferAttribute(t,r),Lh.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+Ph.distanceTo(Lh);e.setAttribute("lineDistance",new ye(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var a=e.vertices,n=e.lineDistances,r=0,i=a.length;r<i;r+=2)Ph.copy(a[r]),Lh.copy(a[r+1]),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+Ph.distanceTo(Lh);return this}});function Jg(e,t){si.call(this,e,t),this.type="LineLoop"}Jg.prototype=Object.assign(Object.create(si.prototype),{constructor:Jg,isLineLoop:!0});function mo(e){Xe.call(this),this.type="PointsMaterial",this.color=new Se(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}mo.prototype=Object.create(Xe.prototype);mo.prototype.constructor=mo;mo.prototype.isPointsMaterial=!0;mo.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var C1=new dt,Kg=new il,Rh=new ws,Oh=new B;function Qg(e,t){xe.call(this),this.type="Points",this.geometry=e!==void 0?e:new Ee,this.material=t!==void 0?t:new mo,this.updateMorphTargets()}Qg.prototype=Object.assign(Object.create(xe.prototype),{constructor:Qg,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Rh.copy(n.boundingSphere),Rh.applyMatrix4(r),Rh.radius+=i,e.ray.intersectsSphere(Rh)!==!1){C1.getInverse(r),Kg.copy(e.ray).applyMatrix4(C1);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){var u=n.index,c=n.attributes,f=c.position.array;if(u!==null)for(var h=u.array,d=0,v=h.length;d<v;d++){var m=h[d];Oh.fromArray(f,m*3),zm(Oh,m,s,r,e,t,this)}else for(var d=0,_=f.length/3;d<_;d++)Oh.fromArray(f,d*3),zm(Oh,d,s,r,e,t,this)}else for(var g=n.vertices,d=0,_=g.length;d<_;d++)zm(g[d],d,s,r,e,t,this)}},updateMorphTargets:function(){var e=this.geometry,t,n,r;if(e.isBufferGeometry){var i=e.morphAttributes,a=Object.keys(i);if(a.length>0){var s=i[a[0]];if(s!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,n=s.length;t<n;t++)r=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var u=e.morphTargets;u!==void 0&&u.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function zm(e,t,n,r,i,a,s){var u=Kg.distanceSqToPoint(e);if(u<n){var c=new B;Kg.closestPointToPoint(e,c),c.applyMatrix4(r);var f=i.ray.origin.distanceTo(c);if(f<i.near||f>i.far)return;a.push({distance:f,distanceToRay:Math.sqrt(u),point:c,index:t,face:null,object:s})}}function P1(e,t,n,r,i,a,s,u,c){Ot.call(this,e,t,n,r,i,a,s,u,c),this.format=s!==void 0?s:co,this.minFilter=a!==void 0?a:Mn,this.magFilter=i!==void 0?i:Mn,this.generateMipmaps=!1}P1.prototype=Object.assign(Object.create(Ot.prototype),{constructor:P1,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Ec(e,t,n,r,i,a,s,u,c,f,h,d){Ot.call(this,null,a,s,u,c,f,r,i,h,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}Ec.prototype=Object.create(Ot.prototype);Ec.prototype.constructor=Ec;Ec.prototype.isCompressedTexture=!0;function Ld(e,t,n,r,i,a,s,u,c){Ot.call(this,e,t,n,r,i,a,s,u,c),this.needsUpdate=!0}Ld.prototype=Object.create(Ot.prototype);Ld.prototype.constructor=Ld;Ld.prototype.isCanvasTexture=!0;function Rd(e,t,n,r,i,a,s,u,c,f){if(f=f!==void 0?f:Tu,f!==Tu&&f!==_c)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&f===Tu&&(n=wd),n===void 0&&f===_c&&(n=bd),Ot.call(this,null,r,i,a,s,u,f,n,c),this.image={width:e,height:t},this.magFilter=s!==void 0?s:dn,this.minFilter=u!==void 0?u:dn,this.flipY=!1,this.generateMipmaps=!1}Rd.prototype=Object.create(Ot.prototype);Rd.prototype.constructor=Rd;Rd.prototype.isDepthTexture=!0;function Od(e){Ee.call(this),this.type="WireframeGeometry";var t=[],n,r,i,a,s,u=[0,0],c={},f,h,d,v,m=["a","b","c"],_;if(e&&e.isGeometry){var g=e.faces;for(n=0,i=g.length;n<i;n++){var y=g[n];for(r=0;r<3;r++)h=y[m[r]],d=y[m[(r+1)%3]],u[0]=Math.min(h,d),u[1]=Math.max(h,d),v=u[0]+","+u[1],c[v]===void 0&&(c[v]={index1:u[0],index2:u[1]})}for(v in c)f=c[v],_=e.vertices[f.index1],t.push(_.x,_.y,_.z),_=e.vertices[f.index2],t.push(_.x,_.y,_.z)}else if(e&&e.isBufferGeometry){var w,M,E,S,b,P,D,L;if(_=new B,e.index!==null){for(w=e.attributes.position,M=e.index,E=e.groups,E.length===0&&(E=[{start:0,count:M.count,materialIndex:0}]),a=0,s=E.length;a<s;++a)for(S=E[a],b=S.start,P=S.count,n=b,i=b+P;n<i;n+=3)for(r=0;r<3;r++)h=M.getX(n+r),d=M.getX(n+(r+1)%3),u[0]=Math.min(h,d),u[1]=Math.max(h,d),v=u[0]+","+u[1],c[v]===void 0&&(c[v]={index1:u[0],index2:u[1]});for(v in c)f=c[v],_.fromBufferAttribute(w,f.index1),t.push(_.x,_.y,_.z),_.fromBufferAttribute(w,f.index2),t.push(_.x,_.y,_.z)}else for(w=e.attributes.position,n=0,i=w.count/3;n<i;n++)for(r=0;r<3;r++)D=3*n+r,_.fromBufferAttribute(w,D),t.push(_.x,_.y,_.z),L=3*n+(r+1)%3,_.fromBufferAttribute(w,L),t.push(_.x,_.y,_.z)}this.setAttribute("position",new ye(t,3))}Od.prototype=Object.create(Ee.prototype);Od.prototype.constructor=Od;function Id(e,t,n){Je.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Ac(e,t,n)),this.mergeVertices()}Id.prototype=Object.create(Je.prototype);Id.prototype.constructor=Id;function Ac(e,t,n){Ee.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],a=[],s=[],u=1e-5,c=new B,f=new B,h=new B,d=new B,v=new B,m,_;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var g=t+1;for(m=0;m<=n;m++){var y=m/n;for(_=0;_<=t;_++){var w=_/t;e(w,y,f),i.push(f.x,f.y,f.z),w-u>=0?(e(w-u,y,h),d.subVectors(f,h)):(e(w+u,y,h),d.subVectors(h,f)),y-u>=0?(e(w,y-u,h),v.subVectors(f,h)):(e(w,y+u,h),v.subVectors(h,f)),c.crossVectors(d,v).normalize(),a.push(c.x,c.y,c.z),s.push(w,y)}}for(m=0;m<n;m++)for(_=0;_<t;_++){var M=m*g+_,E=m*g+_+1,S=(m+1)*g+_+1,b=(m+1)*g+_;r.push(M,E,b),r.push(E,S,b)}this.setIndex(r),this.setAttribute("position",new ye(i,3)),this.setAttribute("normal",new ye(a,3)),this.setAttribute("uv",new ye(s,2))}Ac.prototype=Object.create(Ee.prototype);Ac.prototype.constructor=Ac;function Dd(e,t,n,r){Je.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Ur(e,t,n,r)),this.mergeVertices()}Dd.prototype=Object.create(Je.prototype);Dd.prototype.constructor=Dd;function Ur(e,t,n,r){Ee.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var i=[],a=[];s(r),c(n),f(),this.setAttribute("position",new ye(i,3)),this.setAttribute("normal",new ye(i.slice(),3)),this.setAttribute("uv",new ye(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(w){for(var M=new B,E=new B,S=new B,b=0;b<t.length;b+=3)v(t[b+0],M),v(t[b+1],E),v(t[b+2],S),u(M,E,S,w)}function u(w,M,E,S){var b=Math.pow(2,S),P=[],D,L;for(D=0;D<=b;D++){P[D]=[];var F=w.clone().lerp(E,D/b),H=M.clone().lerp(E,D/b),q=b-D;for(L=0;L<=q;L++)L===0&&D===b?P[D][L]=F:P[D][L]=F.clone().lerp(H,L/q)}for(D=0;D<b;D++)for(L=0;L<2*(b-D)-1;L++){var I=Math.floor(L/2);L%2===0?(d(P[D][I+1]),d(P[D+1][I]),d(P[D][I])):(d(P[D][I+1]),d(P[D+1][I+1]),d(P[D+1][I]))}}function c(w){for(var M=new B,E=0;E<i.length;E+=3)M.x=i[E+0],M.y=i[E+1],M.z=i[E+2],M.normalize().multiplyScalar(w),i[E+0]=M.x,i[E+1]=M.y,i[E+2]=M.z}function f(){for(var w=new B,M=0;M<i.length;M+=3){w.x=i[M+0],w.y=i[M+1],w.z=i[M+2];var E=g(w)/2/Math.PI+.5,S=y(w)/Math.PI+.5;a.push(E,1-S)}m(),h()}function h(){for(var w=0;w<a.length;w+=6){var M=a[w+0],E=a[w+2],S=a[w+4],b=Math.max(M,E,S),P=Math.min(M,E,S);b>.9&&P<.1&&(M<.2&&(a[w+0]+=1),E<.2&&(a[w+2]+=1),S<.2&&(a[w+4]+=1))}}function d(w){i.push(w.x,w.y,w.z)}function v(w,M){var E=w*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function m(){for(var w=new B,M=new B,E=new B,S=new B,b=new le,P=new le,D=new le,L=0,F=0;L<i.length;L+=9,F+=6){w.set(i[L+0],i[L+1],i[L+2]),M.set(i[L+3],i[L+4],i[L+5]),E.set(i[L+6],i[L+7],i[L+8]),b.set(a[F+0],a[F+1]),P.set(a[F+2],a[F+3]),D.set(a[F+4],a[F+5]),S.copy(w).add(M).add(E).divideScalar(3);var H=g(S);_(b,F+0,w,H),_(P,F+2,M,H),_(D,F+4,E,H)}}function _(w,M,E,S){S<0&&w.x===1&&(a[M]=w.x-1),E.x===0&&E.z===0&&(a[M]=S/2/Math.PI+.5)}function g(w){return Math.atan2(w.z,-w.x)}function y(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}Ur.prototype=Object.create(Ee.prototype);Ur.prototype.constructor=Ur;function Nd(e,t){Je.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Cc(e,t)),this.mergeVertices()}Nd.prototype=Object.create(Je.prototype);Nd.prototype.constructor=Nd;function Cc(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Ur.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}Cc.prototype=Object.create(Ur.prototype);Cc.prototype.constructor=Cc;function Fd(e,t){Je.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Bu(e,t)),this.mergeVertices()}Fd.prototype=Object.create(Je.prototype);Fd.prototype.constructor=Fd;function Bu(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ur.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Bu.prototype=Object.create(Ur.prototype);Bu.prototype.constructor=Bu;function Bd(e,t){Je.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Pc(e,t)),this.mergeVertices()}Bd.prototype=Object.create(Je.prototype);Bd.prototype.constructor=Bd;function Pc(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ur.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Pc.prototype=Object.create(Ur.prototype);Pc.prototype.constructor=Pc;function zd(e,t){Je.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Lc(e,t)),this.mergeVertices()}zd.prototype=Object.create(Je.prototype);zd.prototype.constructor=zd;function Lc(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ur.call(this,i,a,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}Lc.prototype=Object.create(Ur.prototype);Lc.prototype.constructor=Lc;function Ud(e,t,n,r,i,a){Je.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},a!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var s=new zu(e,t,n,r,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}Ud.prototype=Object.create(Je.prototype);Ud.prototype.constructor=Ud;function zu(e,t,n,r,i){Ee.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var s=new B,u=new B,c=new le,f=new B,h,d,v=[],m=[],_=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new ye(v,3)),this.setAttribute("normal",new ye(m,3)),this.setAttribute("uv",new ye(_,2));function y(){for(h=0;h<t;h++)w(h);w(i===!1?t:0),E(),M()}function w(S){f=e.getPointAt(S/t,f);var b=a.normals[S],P=a.binormals[S];for(d=0;d<=r;d++){var D=d/r*Math.PI*2,L=Math.sin(D),F=-Math.cos(D);u.x=F*b.x+L*P.x,u.y=F*b.y+L*P.y,u.z=F*b.z+L*P.z,u.normalize(),m.push(u.x,u.y,u.z),s.x=f.x+n*u.x,s.y=f.y+n*u.y,s.z=f.z+n*u.z,v.push(s.x,s.y,s.z)}}function M(){for(d=1;d<=t;d++)for(h=1;h<=r;h++){var S=(r+1)*(d-1)+(h-1),b=(r+1)*d+(h-1),P=(r+1)*d+h,D=(r+1)*(d-1)+h;g.push(S,b,D),g.push(b,P,D)}}function E(){for(h=0;h<=t;h++)for(d=0;d<=r;d++)c.x=h/t,c.y=d/r,_.push(c.x,c.y)}}zu.prototype=Object.create(Ee.prototype);zu.prototype.constructor=zu;zu.prototype.toJSON=function(){var e=Ee.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function Gd(e,t,n,r,i,a,s){Je.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},s!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Rc(e,t,n,r,i,a)),this.mergeVertices()}Gd.prototype=Object.create(Je.prototype);Gd.prototype.constructor=Gd;function Rc(e,t,n,r,i,a){Ee.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var s=[],u=[],c=[],f=[],h,d,v=new B,m=new B,_=new B,g=new B,y=new B,w=new B,M=new B;for(h=0;h<=n;++h){var E=h/n*i*Math.PI*2;for(q(E,i,a,e,_),q(E+.01,i,a,e,g),w.subVectors(g,_),M.addVectors(g,_),y.crossVectors(w,M),M.crossVectors(y,w),y.normalize(),M.normalize(),d=0;d<=r;++d){var S=d/r*Math.PI*2,b=-t*Math.cos(S),P=t*Math.sin(S);v.x=_.x+(b*M.x+P*y.x),v.y=_.y+(b*M.y+P*y.y),v.z=_.z+(b*M.z+P*y.z),u.push(v.x,v.y,v.z),m.subVectors(v,_).normalize(),c.push(m.x,m.y,m.z),f.push(h/n),f.push(d/r)}}for(d=1;d<=n;d++)for(h=1;h<=r;h++){var D=(r+1)*(d-1)+(h-1),L=(r+1)*d+(h-1),F=(r+1)*d+h,H=(r+1)*(d-1)+h;s.push(D,L,H),s.push(L,F,H)}this.setIndex(s),this.setAttribute("position",new ye(u,3)),this.setAttribute("normal",new ye(c,3)),this.setAttribute("uv",new ye(f,2));function q(I,N,z,W,Z){var ee=Math.cos(I),J=Math.sin(I),te=z/N*I,ne=Math.cos(te);Z.x=W*(2+ne)*.5*ee,Z.y=W*(2+ne)*J*.5,Z.z=W*Math.sin(te)*.5}}Rc.prototype=Object.create(Ee.prototype);Rc.prototype.constructor=Rc;function Hd(e,t,n,r,i){Je.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Oc(e,t,n,r,i)),this.mergeVertices()}Hd.prototype=Object.create(Je.prototype);Hd.prototype.constructor=Hd;function Oc(e,t,n,r,i){Ee.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||Math.PI*2;var a=[],s=[],u=[],c=[],f=new B,h=new B,d=new B,v,m;for(v=0;v<=n;v++)for(m=0;m<=r;m++){var _=m/r*i,g=v/n*Math.PI*2;h.x=(e+t*Math.cos(g))*Math.cos(_),h.y=(e+t*Math.cos(g))*Math.sin(_),h.z=t*Math.sin(g),s.push(h.x,h.y,h.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),d.subVectors(h,f).normalize(),u.push(d.x,d.y,d.z),c.push(m/r),c.push(v/n)}for(v=1;v<=n;v++)for(m=1;m<=r;m++){var y=(r+1)*v+m-1,w=(r+1)*(v-1)+m-1,M=(r+1)*(v-1)+m,E=(r+1)*v+m;a.push(y,w,E),a.push(w,M,E)}this.setIndex(a),this.setAttribute("position",new ye(s,3)),this.setAttribute("normal",new ye(u,3)),this.setAttribute("uv",new ye(c,2))}Oc.prototype=Object.create(Ee.prototype);Oc.prototype.constructor=Oc;var Gk={triangulate:function(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=QT(e,0,i,n,!0),s=[];if(!a||a.next===a.prev)return s;var u,c,f,h,d,v,m;if(r&&(a=$k(e,t,a,n)),e.length>80*n){u=f=e[0],c=h=e[1];for(var _=n;_<i;_+=n)d=e[_],v=e[_+1],d<u&&(u=d),v<c&&(c=v),d>f&&(f=d),v>h&&(h=v);m=Math.max(f-u,h-c),m=m!==0?1/m:0}return Dc(a,s,n,u,c,m),s}};function QT(e,t,n,r,i){var a,s;if(i===t5(e,t,n,r)>0)for(a=t;a<n;a+=r)s=L1(a,e[a],e[a+1],s);else for(a=n-r;a>=t;a-=r)s=L1(a,e[a],e[a+1],s);return s&&Ys(s,s.next)&&(Fc(s),s=s.next),s}function Ic(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Ys(n,n.next)||Nn(n.prev,n,n.next)===0)){if(Fc(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Dc(e,t,n,r,i,a,s){if(!!e){!s&&a&&Yk(e,r,i,a);for(var u=e,c,f;e.prev!==e.next;){if(c=e.prev,f=e.next,a?kk(e,r,i,a):Hk(e)){t.push(c.i/n),t.push(e.i/n),t.push(f.i/n),Fc(e),e=f.next,u=f.next;continue}if(e=f,e===u){s?s===1?(e=Wk(e,t,n),Dc(e,t,n,r,i,a,2)):s===2&&Vk(e,t,n,r,i,a):Dc(Ic(e),t,n,r,i,a,1);break}}}}function Hk(e){var t=e.prev,n=e,r=e.next;if(Nn(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(xu(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Nn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function kk(e,t,n,r){var i=e.prev,a=e,s=e.next;if(Nn(i,a,s)>=0)return!1;for(var u=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,c=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,f=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,h=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,d=e_(u,c,t,n,r),v=e_(f,h,t,n,r),m=e.prevZ,_=e.nextZ;m&&m.z>=d&&_&&_.z<=v;){if(m!==e.prev&&m!==e.next&&xu(i.x,i.y,a.x,a.y,s.x,s.y,m.x,m.y)&&Nn(m.prev,m,m.next)>=0||(m=m.prevZ,_!==e.prev&&_!==e.next&&xu(i.x,i.y,a.x,a.y,s.x,s.y,_.x,_.y)&&Nn(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;m&&m.z>=d;){if(m!==e.prev&&m!==e.next&&xu(i.x,i.y,a.x,a.y,s.x,s.y,m.x,m.y)&&Nn(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;_&&_.z<=v;){if(_!==e.prev&&_!==e.next&&xu(i.x,i.y,a.x,a.y,s.x,s.y,_.x,_.y)&&Nn(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Wk(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Ys(i,a)&&eE(i,r,r.next,a)&&Nc(i,a)&&Nc(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Fc(r),Fc(r.next),r=e=a),r=r.next}while(r!==e);return r}function Vk(e,t,n,r,i,a){var s=e;do{for(var u=s.next.next;u!==s.prev;){if(s.i!==u.i&&Kk(s,u)){var c=tE(s,u);s=Ic(s,s.next),c=Ic(c,c.next),Dc(s,t,n,r,i,a),Dc(c,t,n,r,i,a);return}u=u.next}s=s.next}while(s!==e)}function $k(e,t,n,r){var i=[],a,s,u,c,f;for(a=0,s=t.length;a<s;a++)u=t[a]*r,c=a<s-1?t[a+1]*r:e.length,f=QT(e,u,c,r,!1),f===f.next&&(f.steiner=!0),i.push(Jk(f));for(i.sort(jk),a=0;a<i.length;a++)qk(i[a],n),n=Ic(n,n.next);return n}function jk(e,t){return e.x-t.x}function qk(e,t){if(t=Xk(e,t),t){var n=tE(t,e);Ic(n,n.next)}}function Xk(e,t){var n=t,r=e.x,i=e.y,a=-1/0,s;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>a){if(a=u,u===r){if(i===n.y)return n;if(i===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(r===a)return s.prev;var c=s,f=s.x,h=s.y,d=1/0,v;for(n=s.next;n!==c;)r>=n.x&&n.x>=f&&r!==n.x&&xu(i<h?r:a,i,f,h,i<h?a:r,i,n.x,n.y)&&(v=Math.abs(i-n.y)/(r-n.x),(v<d||v===d&&n.x>s.x)&&Nc(n,e)&&(s=n,d=v)),n=n.next;return s}function Yk(e,t,n,r){var i=e;do i.z===null&&(i.z=e_(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Zk(i)}function Zk(e){var t,n,r,i,a,s,u,c,f=1;do{for(n=e,e=null,a=null,s=0;n;){for(s++,r=n,u=0,t=0;t<f&&(u++,r=r.nextZ,!!r);t++);for(c=f;u>0||c>0&&r;)u!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,f*=2}while(s>1);return e}function e_(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Jk(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function xu(e,t,n,r,i,a,s,u){return(i-s)*(t-u)-(e-s)*(a-u)>=0&&(e-s)*(r-u)-(n-s)*(t-u)>=0&&(n-s)*(a-u)-(i-s)*(r-u)>=0}function Kk(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Qk(e,t)&&Nc(e,t)&&Nc(t,e)&&e5(e,t)}function Nn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ys(e,t){return e.x===t.x&&e.y===t.y}function eE(e,t,n,r){return Ys(e,n)&&Ys(t,r)||Ys(e,r)&&Ys(n,t)?!0:Nn(e,t,n)>0!=Nn(e,t,r)>0&&Nn(n,r,e)>0!=Nn(n,r,t)>0}function Qk(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&eE(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Nc(e,t){return Nn(e.prev,e,e.next)<0?Nn(e,t,e.next)>=0&&Nn(e,e.prev,t)>=0:Nn(e,t,e.prev)<0||Nn(e,e.next,t)<0}function e5(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function tE(e,t){var n=new t_(e.i,e.x,e.y),r=new t_(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function L1(e,t,n,r){var i=new t_(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function t_(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function t5(e,t,n,r){for(var i=0,a=t,s=n-r;a<n;a+=r)i+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return i}var as={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return n*.5},isClockWise:function(e){return as.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];R1(e),O1(n,e);var a=e.length;t.forEach(R1);for(var s=0;s<t.length;s++)r.push(a),a+=t[s].length,O1(n,t[s]);for(var u=Gk.triangulate(n,r),s=0;s<u.length;s+=3)i.push(u.slice(s,s+3));return i}};function R1(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function O1(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Uu(e,t){Je.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Ta(e,t)),this.mergeVertices()}Uu.prototype=Object.create(Je.prototype);Uu.prototype.constructor=Uu;Uu.prototype.toJSON=function(){var e=Je.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return nE(t,n,e)};function Ta(e,t){Ee.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,s=e.length;a<s;a++){var u=e[a];c(u)}this.setAttribute("position",new ye(r,3)),this.setAttribute("uv",new ye(i,2)),this.computeVertexNormals();function c(f){var h=[],d=t.curveSegments!==void 0?t.curveSegments:12,v=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:100,_=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:6,y=t.bevelSize!==void 0?t.bevelSize:g-2,w=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3,E=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:n5;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=t.amount);var b,P=!1,D,L,F,H;E&&(b=E.getSpacedPoints(v),P=!0,_=!1,D=E.computeFrenetFrames(v,!1),L=new B,F=new B,H=new B),_||(M=0,g=0,y=0,w=0);var q,I,N,z=f.extractPoints(d),W=z.shape,Z=z.holes,ee=!as.isClockWise(W);if(ee)for(W=W.reverse(),I=0,N=Z.length;I<N;I++)q=Z[I],as.isClockWise(q)&&(Z[I]=q.reverse());var J=as.triangulateShape(W,Z),te=W;for(I=0,N=Z.length;I<N;I++)q=Z[I],W=W.concat(q);function ne(we,Le,Ce){return Le||console.error("THREE.ExtrudeGeometry: vec does not exist"),Le.clone().multiplyScalar(Ce).add(we)}var ue,_e,Fe,De,Me,ae=W.length,ft,Ue=J.length;function it(we,Le,Ce){var $,de,Ae,Ye=we.x-Le.x,Te=we.y-Le.y,pt=Ce.x-we.x,Ct=Ce.y-we.y,Nt=Ye*Ye+Te*Te,xr=Ye*Ct-Te*pt;if(Math.abs(xr)>Number.EPSILON){var Pt=Math.sqrt(Nt),Zn=Math.sqrt(pt*pt+Ct*Ct),Sn=Le.x-Te/Pt,Zi=Le.y+Ye/Pt,wr=Ce.x-Ct/Zn,Mo=Ce.y+pt/Zn,or=((wr-Sn)*Ct-(Mo-Zi)*pt)/(Ye*Ct-Te*pt);$=Sn+Ye*or-we.x,de=Zi+Te*or-we.y;var So=$*$+de*de;if(So<=2)return new le($,de);Ae=Math.sqrt(So/2)}else{var Ji=!1;Ye>Number.EPSILON?pt>Number.EPSILON&&(Ji=!0):Ye<-Number.EPSILON?pt<-Number.EPSILON&&(Ji=!0):Math.sign(Te)===Math.sign(Ct)&&(Ji=!0),Ji?($=-Te,de=Ye,Ae=Math.sqrt(Nt)):($=Ye,de=Te,Ae=Math.sqrt(Nt/2))}return new le($/Ae,de/Ae)}for(var Be=[],he=0,tt=te.length,Mt=tt-1,gt=he+1;he<tt;he++,Mt++,gt++)Mt===tt&&(Mt=0),gt===tt&&(gt=0),Be[he]=it(te[he],te[Mt],te[gt]);var Cn=[],Yt,U=Be.concat();for(I=0,N=Z.length;I<N;I++){for(q=Z[I],Yt=[],he=0,tt=q.length,Mt=tt-1,gt=he+1;he<tt;he++,Mt++,gt++)Mt===tt&&(Mt=0),gt===tt&&(gt=0),Yt[he]=it(q[he],q[Mt],q[gt]);Cn.push(Yt),U=U.concat(Yt)}for(ue=0;ue<M;ue++){for(Fe=ue/M,De=g*Math.cos(Fe*Math.PI/2),_e=y*Math.sin(Fe*Math.PI/2)+w,he=0,tt=te.length;he<tt;he++)Me=ne(te[he],Be[he],_e),Ne(Me.x,Me.y,-De);for(I=0,N=Z.length;I<N;I++)for(q=Z[I],Yt=Cn[I],he=0,tt=q.length;he<tt;he++)Me=ne(q[he],Yt[he],_e),Ne(Me.x,Me.y,-De)}for(_e=y+w,he=0;he<ae;he++)Me=_?ne(W[he],U[he],_e):W[he],P?(F.copy(D.normals[0]).multiplyScalar(Me.x),L.copy(D.binormals[0]).multiplyScalar(Me.y),H.copy(b[0]).add(F).add(L),Ne(H.x,H.y,H.z)):Ne(Me.x,Me.y,0);var k;for(k=1;k<=v;k++)for(he=0;he<ae;he++)Me=_?ne(W[he],U[he],_e):W[he],P?(F.copy(D.normals[k]).multiplyScalar(Me.x),L.copy(D.binormals[k]).multiplyScalar(Me.y),H.copy(b[k]).add(F).add(L),Ne(H.x,H.y,H.z)):Ne(Me.x,Me.y,m/v*k);for(ue=M-1;ue>=0;ue--){for(Fe=ue/M,De=g*Math.cos(Fe*Math.PI/2),_e=y*Math.sin(Fe*Math.PI/2)+w,he=0,tt=te.length;he<tt;he++)Me=ne(te[he],Be[he],_e),Ne(Me.x,Me.y,m+De);for(I=0,N=Z.length;I<N;I++)for(q=Z[I],Yt=Cn[I],he=0,tt=q.length;he<tt;he++)Me=ne(q[he],Yt[he],_e),P?Ne(Me.x,Me.y+b[v-1].y,b[v-1].x+De):Ne(Me.x,Me.y,m+De)}me(),fe();function me(){var we=r.length/3;if(_){var Le=0,Ce=ae*Le;for(he=0;he<Ue;he++)ft=J[he],Pe(ft[2]+Ce,ft[1]+Ce,ft[0]+Ce);for(Le=v+M*2,Ce=ae*Le,he=0;he<Ue;he++)ft=J[he],Pe(ft[0]+Ce,ft[1]+Ce,ft[2]+Ce)}else{for(he=0;he<Ue;he++)ft=J[he],Pe(ft[2],ft[1],ft[0]);for(he=0;he<Ue;he++)ft=J[he],Pe(ft[0]+ae*v,ft[1]+ae*v,ft[2]+ae*v)}n.addGroup(we,r.length/3-we,0)}function fe(){var we=r.length/3,Le=0;for(qe(te,Le),Le+=te.length,I=0,N=Z.length;I<N;I++)q=Z[I],qe(q,Le),Le+=q.length;n.addGroup(we,r.length/3-we,1)}function qe(we,Le){var Ce,$;for(he=we.length;--he>=0;){Ce=he,$=he-1,$<0&&($=we.length-1);var de=0,Ae=v+M*2;for(de=0;de<Ae;de++){var Ye=ae*de,Te=ae*(de+1),pt=Le+Ce+Ye,Ct=Le+$+Ye,Nt=Le+$+Te,xr=Le+Ce+Te;We(pt,Ct,Nt,xr)}}}function Ne(we,Le,Ce){h.push(we),h.push(Le),h.push(Ce)}function Pe(we,Le,Ce){at(we),at(Le),at(Ce);var $=r.length/3,de=S.generateTopUV(n,r,$-3,$-2,$-1);Ge(de[0]),Ge(de[1]),Ge(de[2])}function We(we,Le,Ce,$){at(we),at(Le),at($),at(Le),at(Ce),at($);var de=r.length/3,Ae=S.generateSideWallUV(n,r,de-6,de-3,de-2,de-1);Ge(Ae[0]),Ge(Ae[1]),Ge(Ae[3]),Ge(Ae[1]),Ge(Ae[2]),Ge(Ae[3])}function at(we){r.push(h[we*3+0]),r.push(h[we*3+1]),r.push(h[we*3+2])}function Ge(we){i.push(we.x),i.push(we.y)}}}Ta.prototype=Object.create(Ee.prototype);Ta.prototype.constructor=Ta;Ta.prototype.toJSON=function(){var e=Ee.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return nE(t,n,e)};var n5={generateTopUV:function(e,t,n,r,i){var a=t[n*3],s=t[n*3+1],u=t[r*3],c=t[r*3+1],f=t[i*3],h=t[i*3+1];return[new le(a,s),new le(u,c),new le(f,h)]},generateSideWallUV:function(e,t,n,r,i,a){var s=t[n*3],u=t[n*3+1],c=t[n*3+2],f=t[r*3],h=t[r*3+1],d=t[r*3+2],v=t[i*3],m=t[i*3+1],_=t[i*3+2],g=t[a*3],y=t[a*3+1],w=t[a*3+2];return Math.abs(u-h)<.01?[new le(s,1-c),new le(f,1-d),new le(v,1-_),new le(g,1-w)]:[new le(u,1-c),new le(h,1-d),new le(m,1-_),new le(y,1-w)]}};function nE(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function kd(e,t){Je.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Bc(e,t)),this.mergeVertices()}kd.prototype=Object.create(Je.prototype);kd.prototype.constructor=kd;function Bc(e,t){t=t||{};var n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Je;var r=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),Ta.call(this,r,t),this.type="TextBufferGeometry"}Bc.prototype=Object.create(Ta.prototype);Bc.prototype.constructor=Bc;function Wd(e,t,n,r,i,a,s){Je.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Gu(e,t,n,r,i,a,s)),this.mergeVertices()}Wd.prototype=Object.create(Je.prototype);Wd.prototype.constructor=Wd;function Gu(e,t,n,r,i,a,s){Ee.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=r!==void 0?r:0,i=i!==void 0?i:Math.PI*2,a=a!==void 0?a:0,s=s!==void 0?s:Math.PI;var u=Math.min(a+s,Math.PI),c,f,h=0,d=[],v=new B,m=new B,_=[],g=[],y=[],w=[];for(f=0;f<=n;f++){var M=[],E=f/n,S=0;for(f==0&&a==0?S=.5/t:f==n&&u==Math.PI&&(S=-.5/t),c=0;c<=t;c++){var b=c/t;v.x=-e*Math.cos(r+b*i)*Math.sin(a+E*s),v.y=e*Math.cos(a+E*s),v.z=e*Math.sin(r+b*i)*Math.sin(a+E*s),g.push(v.x,v.y,v.z),m.copy(v).normalize(),y.push(m.x,m.y,m.z),w.push(b+S,1-E),M.push(h++)}d.push(M)}for(f=0;f<n;f++)for(c=0;c<t;c++){var P=d[f][c+1],D=d[f][c],L=d[f+1][c],F=d[f+1][c+1];(f!==0||a>0)&&_.push(P,D,F),(f!==n-1||u<Math.PI)&&_.push(D,L,F)}this.setIndex(_),this.setAttribute("position",new ye(g,3)),this.setAttribute("normal",new ye(y,3)),this.setAttribute("uv",new ye(w,2))}Gu.prototype=Object.create(Ee.prototype);Gu.prototype.constructor=Gu;function Vd(e,t,n,r,i,a){Je.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new zc(e,t,n,r,i,a)),this.mergeVertices()}Vd.prototype=Object.create(Je.prototype);Vd.prototype.constructor=Vd;function zc(e,t,n,r,i,a){Ee.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},e=e||.5,t=t||1,i=i!==void 0?i:0,a=a!==void 0?a:Math.PI*2,n=n!==void 0?Math.max(3,n):8,r=r!==void 0?Math.max(1,r):1;var s=[],u=[],c=[],f=[],h,d=e,v=(t-e)/r,m=new B,_=new le,g,y;for(g=0;g<=r;g++){for(y=0;y<=n;y++)h=i+y/n*a,m.x=d*Math.cos(h),m.y=d*Math.sin(h),u.push(m.x,m.y,m.z),c.push(0,0,1),_.x=(m.x/t+1)/2,_.y=(m.y/t+1)/2,f.push(_.x,_.y);d+=v}for(g=0;g<r;g++){var w=g*(n+1);for(y=0;y<n;y++){h=y+w;var M=h,E=h+n+1,S=h+n+2,b=h+1;s.push(M,E,b),s.push(E,S,b)}}this.setIndex(s),this.setAttribute("position",new ye(u,3)),this.setAttribute("normal",new ye(c,3)),this.setAttribute("uv",new ye(f,2))}zc.prototype=Object.create(Ee.prototype);zc.prototype.constructor=zc;function $d(e,t,n,r){Je.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Uc(e,t,n,r)),this.mergeVertices()}$d.prototype=Object.create(Je.prototype);$d.prototype.constructor=$d;function Uc(e,t,n,r){Ee.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||Math.PI*2,r=ct.clamp(r,0,Math.PI*2);var i=[],a=[],s=[],u,c=1/t,f=new B,h=new le,d,v;for(d=0;d<=t;d++){var m=n+d*c*r,_=Math.sin(m),g=Math.cos(m);for(v=0;v<=e.length-1;v++)f.x=e[v].x*_,f.y=e[v].y,f.z=e[v].x*g,a.push(f.x,f.y,f.z),h.x=d/t,h.y=v/(e.length-1),s.push(h.x,h.y)}for(d=0;d<t;d++)for(v=0;v<e.length-1;v++){u=v+d*e.length;var y=u,w=u+e.length,M=u+e.length+1,E=u+1;i.push(y,w,E),i.push(w,M,E)}if(this.setIndex(i),this.setAttribute("position",new ye(a,3)),this.setAttribute("uv",new ye(s,2)),this.computeVertexNormals(),r===Math.PI*2){var S=this.attributes.normal.array,b=new B,P=new B,D=new B;for(u=t*e.length*3,d=0,v=0;d<e.length;d++,v+=3)b.x=S[v+0],b.y=S[v+1],b.z=S[v+2],P.x=S[u+v+0],P.y=S[u+v+1],P.z=S[u+v+2],D.addVectors(b,P).normalize(),S[v+0]=S[u+v+0]=D.x,S[v+1]=S[u+v+1]=D.y,S[v+2]=S[u+v+2]=D.z}}Uc.prototype=Object.create(Ee.prototype);Uc.prototype.constructor=Uc;function Hu(e,t){Je.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new ku(e,t)),this.mergeVertices()}Hu.prototype=Object.create(Je.prototype);Hu.prototype.constructor=Hu;Hu.prototype.toJSON=function(){var e=Je.prototype.toJSON.call(this),t=this.parameters.shapes;return rE(t,e)};function ku(e,t){Ee.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],a=[],s=0,u=0;if(Array.isArray(e)===!1)f(e);else for(var c=0;c<e.length;c++)f(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(n),this.setAttribute("position",new ye(r,3)),this.setAttribute("normal",new ye(i,3)),this.setAttribute("uv",new ye(a,2));function f(h){var d,v,m,_=r.length/3,g=h.extractPoints(t),y=g.shape,w=g.holes;for(as.isClockWise(y)===!1&&(y=y.reverse()),d=0,v=w.length;d<v;d++)m=w[d],as.isClockWise(m)===!0&&(w[d]=m.reverse());var M=as.triangulateShape(y,w);for(d=0,v=w.length;d<v;d++)m=w[d],y=y.concat(m);for(d=0,v=y.length;d<v;d++){var E=y[d];r.push(E.x,E.y,0),i.push(0,0,1),a.push(E.x,E.y)}for(d=0,v=M.length;d<v;d++){var S=M[d],b=S[0]+_,P=S[1]+_,D=S[2]+_;n.push(b,P,D),u+=3}}}ku.prototype=Object.create(Ee.prototype);ku.prototype.constructor=ku;ku.prototype.toJSON=function(){var e=Ee.prototype.toJSON.call(this),t=this.parameters.shapes;return rE(t,e)};function rE(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function jd(e,t){Ee.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;var n=[],r=Math.cos(ct.DEG2RAD*t),i=[0,0],a={},s,u,c,f=["a","b","c"],h;e.isBufferGeometry?(h=new Je,h.fromBufferGeometry(e)):h=e.clone(),h.mergeVertices(),h.computeFaceNormals();for(var d=h.vertices,v=h.faces,m=0,_=v.length;m<_;m++)for(var g=v[m],y=0;y<3;y++)s=g[f[y]],u=g[f[(y+1)%3]],i[0]=Math.min(s,u),i[1]=Math.max(s,u),c=i[0]+","+i[1],a[c]===void 0?a[c]={index1:i[0],index2:i[1],face1:m,face2:void 0}:a[c].face2=m;for(c in a){var w=a[c];if(w.face2===void 0||v[w.face1].normal.dot(v[w.face2].normal)<=r){var M=d[w.index1];n.push(M.x,M.y,M.z),M=d[w.index2],n.push(M.x,M.y,M.z)}}this.setAttribute("position",new ye(n,3))}jd.prototype=Object.create(Ee.prototype);jd.prototype.constructor=jd;function Wu(e,t,n,r,i,a,s,u){Je.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:u},this.fromBufferGeometry(new ps(e,t,n,r,i,a,s,u)),this.mergeVertices()}Wu.prototype=Object.create(Je.prototype);Wu.prototype.constructor=Wu;function ps(e,t,n,r,i,a,s,u){Ee.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:u};var c=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=a!==void 0?a:!1,s=s!==void 0?s:0,u=u!==void 0?u:Math.PI*2;var f=[],h=[],d=[],v=[],m=0,_=[],g=n/2,y=0;w(),a===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(f),this.setAttribute("position",new ye(h,3)),this.setAttribute("normal",new ye(d,3)),this.setAttribute("uv",new ye(v,2));function w(){var E,S,b=new B,P=new B,D=0,L=(t-e)/n;for(S=0;S<=i;S++){var F=[],H=S/i,q=H*(t-e)+e;for(E=0;E<=r;E++){var I=E/r,N=I*u+s,z=Math.sin(N),W=Math.cos(N);P.x=q*z,P.y=-H*n+g,P.z=q*W,h.push(P.x,P.y,P.z),b.set(z,L,W).normalize(),d.push(b.x,b.y,b.z),v.push(I,1-H),F.push(m++)}_.push(F)}for(E=0;E<r;E++)for(S=0;S<i;S++){var Z=_[S][E],ee=_[S+1][E],J=_[S+1][E+1],te=_[S][E+1];f.push(Z,ee,te),f.push(ee,J,te),D+=6}c.addGroup(y,D,0),y+=D}function M(E){var S,b,P,D=new le,L=new B,F=0,H=E===!0?e:t,q=E===!0?1:-1;for(b=m,S=1;S<=r;S++)h.push(0,g*q,0),d.push(0,q,0),v.push(.5,.5),m++;for(P=m,S=0;S<=r;S++){var I=S/r,N=I*u+s,z=Math.cos(N),W=Math.sin(N);L.x=H*W,L.y=g*q,L.z=H*z,h.push(L.x,L.y,L.z),d.push(0,q,0),D.x=z*.5+.5,D.y=W*.5*q+.5,v.push(D.x,D.y),m++}for(S=0;S<r;S++){var Z=b+S,ee=P+S;E===!0?f.push(ee,ee+1,Z):f.push(ee+1,ee,Z),F+=3}c.addGroup(y,F,E===!0?1:2),y+=F}}ps.prototype=Object.create(Ee.prototype);ps.prototype.constructor=ps;function qd(e,t,n,r,i,a,s){Wu.call(this,0,e,t,n,r,i,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:s}}qd.prototype=Object.create(Wu.prototype);qd.prototype.constructor=qd;function Xd(e,t,n,r,i,a,s){ps.call(this,0,e,t,n,r,i,a,s),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:s}}Xd.prototype=Object.create(ps.prototype);Xd.prototype.constructor=Xd;function Yd(e,t,n,r){Je.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Gc(e,t,n,r)),this.mergeVertices()}Yd.prototype=Object.create(Je.prototype);Yd.prototype.constructor=Yd;function Gc(e,t,n,r){Ee.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,r=r!==void 0?r:Math.PI*2;var i=[],a=[],s=[],u=[],c,f,h=new B,d=new le;for(a.push(0,0,0),s.push(0,0,1),u.push(.5,.5),f=0,c=3;f<=t;f++,c+=3){var v=n+f/t*r;h.x=e*Math.cos(v),h.y=e*Math.sin(v),a.push(h.x,h.y,h.z),s.push(0,0,1),d.x=(a[c]/e+1)/2,d.y=(a[c+1]/e+1)/2,u.push(d.x,d.y)}for(c=1;c<=t;c++)i.push(c,c+1,0);this.setIndex(i),this.setAttribute("position",new ye(a,3)),this.setAttribute("normal",new ye(s,3)),this.setAttribute("uv",new ye(u,2))}Gc.prototype=Object.create(Ee.prototype);Gc.prototype.constructor=Gc;var tr=Object.freeze({__proto__:null,WireframeGeometry:Od,ParametricGeometry:Id,ParametricBufferGeometry:Ac,TetrahedronGeometry:Nd,TetrahedronBufferGeometry:Cc,OctahedronGeometry:Fd,OctahedronBufferGeometry:Bu,IcosahedronGeometry:Bd,IcosahedronBufferGeometry:Pc,DodecahedronGeometry:zd,DodecahedronBufferGeometry:Lc,PolyhedronGeometry:Dd,PolyhedronBufferGeometry:Ur,TubeGeometry:Ud,TubeBufferGeometry:zu,TorusKnotGeometry:Gd,TorusKnotBufferGeometry:Rc,TorusGeometry:Hd,TorusBufferGeometry:Oc,TextGeometry:kd,TextBufferGeometry:Bc,SphereGeometry:Wd,SphereBufferGeometry:Gu,RingGeometry:Vd,RingBufferGeometry:zc,PlaneGeometry:Ed,PlaneBufferGeometry:Sa,LatheGeometry:$d,LatheBufferGeometry:Uc,ShapeGeometry:Hu,ShapeBufferGeometry:ku,ExtrudeGeometry:Uu,ExtrudeBufferGeometry:Ta,EdgesGeometry:jd,ConeGeometry:qd,ConeBufferGeometry:Xd,CylinderGeometry:Wu,CylinderBufferGeometry:ps,CircleGeometry:Yd,CircleBufferGeometry:Gc,BoxGeometry:$U,BoxBufferGeometry:xp});function Vu(e){Xe.call(this),this.type="ShadowMaterial",this.color=new Se(0),this.transparent=!0,this.setValues(e)}Vu.prototype=Object.create(Xe.prototype);Vu.prototype.constructor=Vu;Vu.prototype.isShadowMaterial=!0;Vu.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this};function vs(e){Bn.call(this,e),this.type="RawShaderMaterial"}vs.prototype=Object.create(Bn.prototype);vs.prototype.constructor=vs;vs.prototype.isRawShaderMaterial=!0;function Ea(e){Xe.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Se(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ea.prototype=Object.create(Xe.prototype);Ea.prototype.constructor=Ea;Ea.prototype.isMeshStandardMaterial=!0;Ea.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function $u(e){Ea.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new le(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}$u.prototype=Object.create(Ea.prototype);$u.prototype.constructor=$u;$u.prototype.isMeshPhysicalMaterial=!0;$u.prototype.copy=function(e){return Ea.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new Se).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this};function go(e){Xe.call(this),this.type="MeshPhongMaterial",this.color=new Se(16777215),this.specular=new Se(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}go.prototype=Object.create(Xe.prototype);go.prototype.constructor=go;go.prototype.isMeshPhongMaterial=!0;go.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ju(e){Xe.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Se(16777215),this.specular=new Se(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}ju.prototype=Object.create(Xe.prototype);ju.prototype.constructor=ju;ju.prototype.isMeshToonMaterial=!0;ju.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function qu(e){Xe.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}qu.prototype=Object.create(Xe.prototype);qu.prototype.constructor=qu;qu.prototype.isMeshNormalMaterial=!0;qu.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Xu(e){Xe.call(this),this.type="MeshLambertMaterial",this.color=new Se(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Xu.prototype=Object.create(Xe.prototype);Xu.prototype.constructor=Xu;Xu.prototype.isMeshLambertMaterial=!0;Xu.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Yu(e){Xe.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Se(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Yu.prototype=Object.create(Xe.prototype);Yu.prototype.constructor=Yu;Yu.prototype.isMeshMatcapMaterial=!0;Yu.prototype.copy=function(e){return Xe.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Zu(e){vn.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Zu.prototype=Object.create(vn.prototype);Zu.prototype.constructor=Zu;Zu.prototype.isLineDashedMaterial=!0;Zu.prototype.copy=function(e){return vn.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var r5=Object.freeze({__proto__:null,ShadowMaterial:Vu,SpriteMaterial:vo,RawShaderMaterial:vs,ShaderMaterial:Bn,PointsMaterial:mo,MeshPhysicalMaterial:$u,MeshStandardMaterial:Ea,MeshPhongMaterial:go,MeshToonMaterial:ju,MeshNormalMaterial:qu,MeshLambertMaterial:Xu,MeshDepthMaterial:ho,MeshDistanceMaterial:po,MeshBasicMaterial:bi,MeshMatcapMaterial:Yu,LineDashedMaterial:Zu,LineBasicMaterial:vn,Material:Xe}),cn={arraySlice:function(e,t,n){return cn.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(a,s){return e[a]-e[s]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,s=0;s!==r;++a)for(var u=n[a]*t,c=0;c!==t;++c)i[s++]=e[u+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];a!==void 0&&a[r]===void 0;)a=e[i++];if(a!==void 0){var s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(t.push(a.time),n.push.apply(n,s)),a=e[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(t.push(a.time),s.toArray(n,n.length)),a=e[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(t.push(a.time),n.push(s)),a=e[i++];while(a!==void 0)}},subclip:function(e,t,n,r,i){i=i||30;var a=e.clone();a.name=t;for(var s=[],u=0;u<a.tracks.length;++u){for(var c=a.tracks[u],f=c.getValueSize(),h=[],d=[],v=0;v<c.times.length;++v){var m=c.times[v]*i;if(!(m<n||m>=r)){h.push(c.times[v]);for(var _=0;_<f;++_)d.push(c.values[v*f+_])}}h.length!==0&&(c.times=cn.convertArray(h,c.times.constructor),c.values=cn.convertArray(d,c.values.constructor),s.push(c))}a.tracks=s;for(var g=1/0,u=0;u<a.tracks.length;++u)g>a.tracks[u].times[0]&&(g=a.tracks[u].times[0]);for(var u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*g);return a.resetDuration(),a}};function ri(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(ri.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var s=n+2;;){if(r===void 0){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===s)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=i)){var u=t[1];e<u&&(n=2,i=u);for(var s=n-2;;){if(i===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===s)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0;break n}break e}for(;n<a;){var c=n+a>>>1;e<t[c]?a=c:n=c+1}if(r=t[n],i=t[n-1],i===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ri.prototype,{beforeStart_:ri.prototype.copySampleValue_,afterEnd_:ri.prototype.copySampleValue_});function n_(e,t,n,r){ri.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}n_.prototype=Object.assign(Object.create(ri.prototype),{constructor:n_,DefaultSettings_:{endingStart:Iu,endingEnd:Iu},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,s=r[i],u=r[a];if(s===void 0)switch(this.getSettings_().endingStart){case mu:i=e,s=2*t-n;break;case Sd:i=r.length-2,s=t+r[i]-r[i+1];break;default:i=e,s=n}if(u===void 0)switch(this.getSettings_().endingEnd){case mu:a=e,u=2*n-t;break;case Sd:a=1,u=n+r[1]-r[0];break;default:a=e-1,u=t}var c=(n-t)*.5,f=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(u-n),this._offsetPrev=i*f,this._offsetNext=a*f},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=e*s,c=u-s,f=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,v=this._weightNext,m=(n-t)/(r-t),_=m*m,g=_*m,y=-d*g+2*d*_-d*m,w=(1+d)*g+(-1.5-2*d)*_+(-.5+d)*m+1,M=(-1-v)*g+(1.5+v)*_+.5*m,E=v*g-v*_,S=0;S!==s;++S)i[S]=y*a[f+S]+w*a[c+S]+M*a[u+S]+E*a[h+S];return i}});function Zd(e,t,n,r){ri.call(this,e,t,n,r)}Zd.prototype=Object.assign(Object.create(ri.prototype),{constructor:Zd,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=e*s,c=u-s,f=(n-t)/(r-t),h=1-f,d=0;d!==s;++d)i[d]=a[c+d]*h+a[u+d]*f;return i}});function r_(e,t,n,r){ri.call(this,e,t,n,r)}r_.prototype=Object.assign(Object.create(ri.prototype),{constructor:r_,interpolate_:function(e){return this.copySampleValue_(e-1)}});function Yn(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=cn.convertArray(t,this.TimeBufferType),this.values=cn.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}Object.assign(Yn,{toJSON:function(e){var t=e.constructor,n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:cn.convertArray(e.times,Array),values:cn.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}});Object.assign(Yn.prototype,{constructor:Yn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Kh,InterpolantFactoryMethodDiscrete:function(e){return new r_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Zd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new n_(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Md:t=this.InterpolantFactoryMethodDiscrete;break;case Kh:t=this.InterpolantFactoryMethodLinear;break;case vm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Md;case this.InterpolantFactoryMethodLinear:return Kh;case this.InterpolantFactoryMethodSmooth:return vm}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(e!==1)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;a!==-1&&n[a]>t;)--a;if(++a,i!==0||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);var s=this.getValueSize();this.times=cn.arraySlice(n,i,a),this.values=cn.arraySlice(this.values,i*s,a*s)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;i===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,s=0;s!==i;s++){var u=n[s];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(a!==null&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,u,a),e=!1;break}a=u}if(r!==void 0&&cn.isTypedArray(r))for(var s=0,c=r.length;s!==c;++s){var f=r[s];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,f),e=!1;break}}return e},optimize:function(){for(var e=cn.arraySlice(this.times),t=cn.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===vm,i=1,a=e.length-1,s=1;s<a;++s){var u=!1,c=e[s],f=e[s+1];if(c!==f&&(s!==1||c!==c[0]))if(r)u=!0;else for(var h=s*n,d=h-n,v=h+n,m=0;m!==n;++m){var _=t[h+m];if(_!==t[d+m]||_!==t[v+m]){u=!0;break}}if(u){if(s!==i){e[i]=e[s];for(var g=s*n,y=i*n,m=0;m!==n;++m)t[y+m]=t[g+m]}++i}}if(a>0){e[i]=e[a];for(var g=a*n,y=i*n,m=0;m!==n;++m)t[y+m]=t[g+m];++i}return i!==e.length?(this.times=cn.arraySlice(e,0,i),this.values=cn.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this},clone:function(){var e=cn.arraySlice(this.times,0),t=cn.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}});function i_(e,t,n){Yn.call(this,e,t,n)}i_.prototype=Object.assign(Object.create(Yn.prototype),{constructor:i_,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Md,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function a_(e,t,n,r){Yn.call(this,e,t,n,r)}a_.prototype=Object.assign(Object.create(Yn.prototype),{constructor:a_,ValueTypeName:"color"});function Hc(e,t,n,r){Yn.call(this,e,t,n,r)}Hc.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Hc,ValueTypeName:"number"});function s_(e,t,n,r){ri.call(this,e,t,n,r)}s_.prototype=Object.assign(Object.create(ri.prototype),{constructor:s_,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=e*s,c=(n-t)/(r-t),f=u+s;u!==f;u+=4)yr.slerpFlat(i,0,a,u-s,a,u,c);return i}});function Jd(e,t,n,r){Yn.call(this,e,t,n,r)}Jd.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Jd,ValueTypeName:"quaternion",DefaultInterpolation:Kh,InterpolantFactoryMethodLinear:function(e){return new s_(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function o_(e,t,n,r){Yn.call(this,e,t,n,r)}o_.prototype=Object.assign(Object.create(Yn.prototype),{constructor:o_,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Md,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function kc(e,t,n,r){Yn.call(this,e,t,n,r)}kc.prototype=Object.assign(Object.create(Yn.prototype),{constructor:kc,ValueTypeName:"vector"});function _i(e,t,n){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.uuid=ct.generateUUID(),this.duration<0&&this.resetDuration()}function i5(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hc;case"vector":case"vector2":case"vector3":case"vector4":return kc;case"color":return a_;case"quaternion":return Jd;case"bool":case"boolean":return i_;case"string":return o_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function a5(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=i5(e.type);if(e.times===void 0){var n=[],r=[];cn.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(_i,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(a5(n[i]).scale(r));return new _i(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(Yn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],s=0;s<i;s++){var u=[],c=[];u.push((s+i-1)%i,s,(s+1)%i),c.push(0,1,0);var f=cn.getKeyframeOrder(u);u=cn.sortedArray(u,1,f),c=cn.sortedArray(c,1,f),!r&&u[0]===0&&(u.push(i),c.push(c[0])),a.push(new Hc(".morphTargetInfluences["+t[s].name+"]",u,c).scale(1/n))}return new _i(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,s=e.length;a<s;a++){var u=e[a],c=u.name.match(i);if(c&&c.length>1){var f=c[1],h=r[f];h||(r[f]=h=[]),h.push(u)}}var d=[];for(var f in r)d.push(_i.CreateFromMorphTargetSequence(f,r[f],t,n));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(E,S,b,P,D){if(b.length!==0){var L=[],F=[];cn.flattenJSON(b,L,F,P),L.length!==0&&D.push(new E(S,L,F))}},r=[],i=e.name||"default",a=e.length||-1,s=e.fps||30,u=e.hierarchy||[],c=0;c<u.length;c++){var f=u[c].keys;if(!(!f||f.length===0))if(f[0].morphTargets){for(var h={},d=0;d<f.length;d++)if(f[d].morphTargets)for(var v=0;v<f[d].morphTargets.length;v++)h[f[d].morphTargets[v]]=-1;for(var m in h){for(var _=[],g=[],v=0;v!==f[d].morphTargets.length;++v){var y=f[d];_.push(y.time),g.push(y.morphTarget===m?1:0)}r.push(new Hc(".morphTargetInfluence["+m+"]",_,g))}a=h.length*(s||1)}else{var w=".bones["+t[c].name+"]";n(kc,w+".position",f,"pos",r),n(Jd,w+".quaternion",f,"rot",r),n(kc,w+".scale",f,"scl",r)}}if(r.length===0)return null;var M=new _i(i,a,r);return M}});Object.assign(_i.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new _i(this.name,this.duration,e)}});var Ju={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function iE(e,t,n){var r=this,i=!1,a=0,s=0,u=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(f){s++,i===!1&&r.onStart!==void 0&&r.onStart(f,a,s),i=!0},this.itemEnd=function(f){a++,r.onProgress!==void 0&&r.onProgress(f,a,s),a===s&&(i=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){var h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(var h=0,d=c.length;h<d;h+=2){var v=c[h],m=c[h+1];if(v.global&&(v.lastIndex=0),v.test(f))return m}return null}}var s5=new iE;function It(e){this.manager=e!==void 0?e:s5,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(It.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var vi={};function ki(e){It.call(this,e)}ki.prototype=Object.assign(Object.create(It.prototype),{constructor:ki,load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Ju.get(e);if(a!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;if(vi[e]!==void 0){vi[e].push({onLoad:t,onProgress:n,onError:r});return}var s=/^data:(.*?)(;base64)?,(.*)$/,u=e.match(s);if(u){var c=u[1],f=!!u[2],h=u[3];h=decodeURIComponent(h),f&&(h=atob(h));try{var d,v=(this.responseType||"").toLowerCase();switch(v){case"arraybuffer":case"blob":for(var m=new Uint8Array(h.length),_=0;_<h.length;_++)m[_]=h.charCodeAt(_);v==="blob"?d=new Blob([m.buffer],{type:c}):d=m.buffer;break;case"document":var g=new DOMParser;d=g.parseFromString(h,c);break;case"json":d=JSON.parse(h);break;default:d=h;break}setTimeout(function(){t&&t(d),i.manager.itemEnd(e)},0)}catch(M){setTimeout(function(){r&&r(M),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{vi[e]=[],vi[e].push({onLoad:t,onProgress:n,onError:r});var y=new XMLHttpRequest;y.open("GET",e,!0),y.addEventListener("load",function(M){var E=this.response,S=vi[e];if(delete vi[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ju.add(e,E);for(var b=0,P=S.length;b<P;b++){var D=S[b];D.onLoad&&D.onLoad(E)}i.manager.itemEnd(e)}else{for(var b=0,P=S.length;b<P;b++){var D=S[b];D.onError&&D.onError(M)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),y.addEventListener("progress",function(M){for(var E=vi[e],S=0,b=E.length;S<b;S++){var P=E[S];P.onProgress&&P.onProgress(M)}},!1),y.addEventListener("error",function(M){var E=vi[e];delete vi[e];for(var S=0,b=E.length;S<b;S++){var P=E[S];P.onError&&P.onError(M)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),y.addEventListener("abort",function(M){var E=vi[e];delete vi[e];for(var S=0,b=E.length;S<b;S++){var P=E[S];P.onError&&P.onError(M)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),this.responseType!==void 0&&(y.responseType=this.responseType),this.withCredentials!==void 0&&(y.withCredentials=this.withCredentials),y.overrideMimeType&&y.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var w in this.requestHeader)y.setRequestHeader(w,this.requestHeader[w]);y.send(null)}return i.manager.itemStart(e),y},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});function I1(e){It.call(this,e)}I1.prototype=Object.assign(Object.create(It.prototype),{constructor:I1,load:function(e,t,n,r){var i=this,a=new ki(i.manager);a.setPath(i.path),a.load(e,function(s){t(i.parse(JSON.parse(s)))},n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=_i.parse(e[n]);t.push(r)}return t}});function D1(e){It.call(this,e)}D1.prototype=Object.assign(Object.create(It.prototype),{constructor:D1,load:function(e,t,n,r){var i=this,a=[],s=new Ec;s.image=a;var u=new ki(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer");function c(v){u.load(e[v],function(m){var _=i.parse(m,!0);a[v]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},f+=1,f===6&&(_.mipmapCount===1&&(s.minFilter=Mn),s.format=_.format,s.needsUpdate=!0,t&&t(s))},n,r)}if(Array.isArray(e))for(var f=0,h=0,d=e.length;h<d;++h)c(h);else u.load(e,function(v){var m=i.parse(v,!0);if(m.isCubemap)for(var _=m.mipmaps.length/m.mipmapCount,g=0;g<_;g++){a[g]={mipmaps:[]};for(var y=0;y<m.mipmapCount;y++)a[g].mipmaps.push(m.mipmaps[g*m.mipmapCount+y]),a[g].format=m.format,a[g].width=m.width,a[g].height=m.height}else s.image.width=m.width,s.image.height=m.height,s.mipmaps=m.mipmaps;m.mipmapCount===1&&(s.minFilter=Mn),s.format=m.format,s.needsUpdate=!0,t&&t(s)},n,r);return s}});function N1(e){It.call(this,e)}N1.prototype=Object.assign(Object.create(It.prototype),{constructor:N1,load:function(e,t,n,r){var i=this,a=new Fu,s=new ki(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,function(u){var c=i.parse(u);!c||(c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:nr,a.wrapT=c.wrapT!==void 0?c.wrapT:nr,a.magFilter=c.magFilter!==void 0?c.magFilter:Mn,a.minFilter=c.minFilter!==void 0?c.minFilter:Mn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=gp),c.mipmapCount===1&&(a.minFilter=Mn),a.needsUpdate=!0,t&&t(a,c))},n,r),a}});function Wc(e){It.call(this,e)}Wc.prototype=Object.assign(Object.create(It.prototype),{constructor:Wc,load:function(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Ju.get(e);if(a!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;var s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function u(){s.removeEventListener("load",u,!1),s.removeEventListener("error",c,!1),Ju.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(f){s.removeEventListener("load",u,!1),s.removeEventListener("error",c,!1),r&&r(f),i.manager.itemError(e),i.manager.itemEnd(e)}return s.addEventListener("load",u,!1),s.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s}});function u_(e){It.call(this,e)}u_.prototype=Object.assign(Object.create(It.prototype),{constructor:u_,load:function(e,t,n,r){var i=new hs,a=new Wc(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var s=0;function u(f){a.load(e[f],function(h){i.images[f]=h,s++,s===6&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(var c=0;c<e.length;++c)u(c);return i}});function Vc(e){It.call(this,e)}Vc.prototype=Object.assign(Object.create(It.prototype),{constructor:Vc,load:function(e,t,n,r){var i=new Ot,a=new Wc(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){i.image=s;var u=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;i.format=u?co:Hi,i.needsUpdate=!0,t!==void 0&&t(i)},n,r),i}});function ze(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(ze.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],n,r=this.getPoint(0),i,a=0;for(t.push(0),i=1;i<=e;i++)n=this.getPoint(i/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths(),r=0,i=n.length,a;t?a=t:a=e*n[i-1];for(var s=0,u=i-1,c;s<=u;)if(r=Math.floor(s+(u-s)/2),c=n[r]-a,c<0)s=r+1;else if(c>0)u=r-1;else{u=r;break}if(r=u,n[r]===a)return r/(i-1);var f=n[r],h=n[r+1],d=h-f,v=(a-f)/d,m=(r+v)/(i-1);return m},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),a=this.getPoint(r),s=a.clone().sub(i);return s.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n=new B,r=[],i=[],a=[],s=new B,u=new dt,c,f,h;for(c=0;c<=e;c++)f=c/e,r[c]=this.getTangentAt(f),r[c].normalize();i[0]=new B,a[0]=new B;var d=Number.MAX_VALUE,v=Math.abs(r[0].x),m=Math.abs(r[0].y),_=Math.abs(r[0].z);for(v<=d&&(d=v,n.set(1,0,0)),m<=d&&(d=m,n.set(0,1,0)),_<=d&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),a[0].crossVectors(r[0],i[0]),c=1;c<=e;c++)i[c]=i[c-1].clone(),a[c]=a[c-1].clone(),s.crossVectors(r[c-1],r[c]),s.length()>Number.EPSILON&&(s.normalize(),h=Math.acos(ct.clamp(r[c-1].dot(r[c]),-1,1)),i[c].applyMatrix4(u.makeRotationAxis(s,h))),a[c].crossVectors(r[c],i[c]);if(t===!0)for(h=Math.acos(ct.clamp(i[0].dot(i[e]),-1,1)),h/=e,r[0].dot(s.crossVectors(i[0],i[e]))>0&&(h=-h),c=1;c<=e;c++)i[c].applyMatrix4(u.makeRotationAxis(r[c],h*c)),a[c].crossVectors(r[c],i[c]);return{tangents:r,normals:i,binormals:a}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function oi(e,t,n,r,i,a,s,u){ze.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=s||!1,this.aRotation=u||0}oi.prototype=Object.create(ze.prototype);oi.prototype.constructor=oi;oi.prototype.isEllipseCurve=!0;oi.prototype.getPoint=function(e,t){for(var n=t||new le,r=Math.PI*2,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(a?i=0:i=r),this.aClockwise===!0&&!a&&(i===r?i=-r:i=i-r);var s=this.aStartAngle+e*i,u=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){var f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=u-this.aX,v=c-this.aY;u=d*f-v*h+this.aX,c=d*h+v*f+this.aY}return n.set(u,c)};oi.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};oi.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};oi.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function $c(e,t,n,r,i,a){oi.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}$c.prototype=Object.create(oi.prototype);$c.prototype.constructor=$c;$c.prototype.isArcCurve=!0;function O0(){var e=0,t=0,n=0,r=0;function i(a,s,u,c){e=a,t=u,n=-3*a+3*s-2*u-c,r=2*a-2*s+u+c}return{initCatmullRom:function(a,s,u,c,f){i(s,u,f*(u-a),f*(c-s))},initNonuniformCatmullRom:function(a,s,u,c,f,h,d){var v=(s-a)/f-(u-a)/(f+h)+(u-s)/h,m=(u-s)/h-(c-s)/(h+d)+(c-u)/d;v*=h,m*=h,i(s,u,v,m)},calc:function(a){var s=a*a,u=s*a;return e+t*a+n*s+r*u}}}var Ih=new B,Um=new O0,Gm=new O0,Hm=new O0;function Gr(e,t,n,r){ze.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}Gr.prototype=Object.create(ze.prototype);Gr.prototype.constructor=Gr;Gr.prototype.isCatmullRomCurve3=!0;Gr.prototype.getPoint=function(e,t){var n=t||new B,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e,s=Math.floor(a),u=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:u===0&&s===i-1&&(s=i-2,u=1);var c,f,h,d;if(this.closed||s>0?c=r[(s-1)%i]:(Ih.subVectors(r[0],r[1]).add(r[0]),c=Ih),f=r[s%i],h=r[(s+1)%i],this.closed||s+2<i?d=r[(s+2)%i]:(Ih.subVectors(r[i-1],r[i-2]).add(r[i-1]),d=Ih),this.curveType==="centripetal"||this.curveType==="chordal"){var v=this.curveType==="chordal"?.5:.25,m=Math.pow(c.distanceToSquared(f),v),_=Math.pow(f.distanceToSquared(h),v),g=Math.pow(h.distanceToSquared(d),v);_<1e-4&&(_=1),m<1e-4&&(m=_),g<1e-4&&(g=_),Um.initNonuniformCatmullRom(c.x,f.x,h.x,d.x,m,_,g),Gm.initNonuniformCatmullRom(c.y,f.y,h.y,d.y,m,_,g),Hm.initNonuniformCatmullRom(c.z,f.z,h.z,d.z,m,_,g)}else this.curveType==="catmullrom"&&(Um.initCatmullRom(c.x,f.x,h.x,d.x,this.tension),Gm.initCatmullRom(c.y,f.y,h.y,d.y,this.tension),Hm.initCatmullRom(c.z,f.z,h.z,d.z,this.tension));return n.set(Um.calc(u),Gm.calc(u),Hm.calc(u)),n};Gr.prototype.copy=function(e){ze.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};Gr.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};Gr.prototype.fromJSON=function(e){ze.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(new B().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function F1(e,t,n,r,i){var a=(r-t)*.5,s=(i-n)*.5,u=e*e,c=e*u;return(2*n-2*r+a+s)*c+(-3*n+3*r-2*a-s)*u+a*e+n}function o5(e,t){var n=1-e;return n*n*t}function u5(e,t){return 2*(1-e)*e*t}function l5(e,t){return e*e*t}function Kl(e,t,n,r){return o5(e,t)+u5(e,n)+l5(e,r)}function c5(e,t){var n=1-e;return n*n*n*t}function f5(e,t){var n=1-e;return 3*n*n*e*t}function h5(e,t){return 3*(1-e)*e*e*t}function d5(e,t){return e*e*e*t}function Ql(e,t,n,r,i){return c5(e,t)+f5(e,n)+h5(e,r)+d5(e,i)}function Wi(e,t,n,r){ze.call(this),this.type="CubicBezierCurve",this.v0=e||new le,this.v1=t||new le,this.v2=n||new le,this.v3=r||new le}Wi.prototype=Object.create(ze.prototype);Wi.prototype.constructor=Wi;Wi.prototype.isCubicBezierCurve=!0;Wi.prototype.getPoint=function(e,t){var n=t||new le,r=this.v0,i=this.v1,a=this.v2,s=this.v3;return n.set(Ql(e,r.x,i.x,a.x,s.x),Ql(e,r.y,i.y,a.y,s.y)),n};Wi.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Wi.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Wi.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Aa(e,t,n,r){ze.call(this),this.type="CubicBezierCurve3",this.v0=e||new B,this.v1=t||new B,this.v2=n||new B,this.v3=r||new B}Aa.prototype=Object.create(ze.prototype);Aa.prototype.constructor=Aa;Aa.prototype.isCubicBezierCurve3=!0;Aa.prototype.getPoint=function(e,t){var n=t||new B,r=this.v0,i=this.v1,a=this.v2,s=this.v3;return n.set(Ql(e,r.x,i.x,a.x,s.x),Ql(e,r.y,i.y,a.y,s.y),Ql(e,r.z,i.z,a.z,s.z)),n};Aa.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Aa.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Aa.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Hr(e,t){ze.call(this),this.type="LineCurve",this.v1=e||new le,this.v2=t||new le}Hr.prototype=Object.create(ze.prototype);Hr.prototype.constructor=Hr;Hr.prototype.isLineCurve=!0;Hr.prototype.getPoint=function(e,t){var n=t||new le;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Hr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Hr.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()};Hr.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Hr.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Hr.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Vi(e,t){ze.call(this),this.type="LineCurve3",this.v1=e||new B,this.v2=t||new B}Vi.prototype=Object.create(ze.prototype);Vi.prototype.constructor=Vi;Vi.prototype.isLineCurve3=!0;Vi.prototype.getPoint=function(e,t){var n=t||new B;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Vi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Vi.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Vi.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Vi.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function $i(e,t,n){ze.call(this),this.type="QuadraticBezierCurve",this.v0=e||new le,this.v1=t||new le,this.v2=n||new le}$i.prototype=Object.create(ze.prototype);$i.prototype.constructor=$i;$i.prototype.isQuadraticBezierCurve=!0;$i.prototype.getPoint=function(e,t){var n=t||new le,r=this.v0,i=this.v1,a=this.v2;return n.set(Kl(e,r.x,i.x,a.x),Kl(e,r.y,i.y,a.y)),n};$i.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};$i.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};$i.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ca(e,t,n){ze.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new B,this.v1=t||new B,this.v2=n||new B}Ca.prototype=Object.create(ze.prototype);Ca.prototype.constructor=Ca;Ca.prototype.isQuadraticBezierCurve3=!0;Ca.prototype.getPoint=function(e,t){var n=t||new B,r=this.v0,i=this.v1,a=this.v2;return n.set(Kl(e,r.x,i.x,a.x),Kl(e,r.y,i.y,a.y),Kl(e,r.z,i.z,a.z)),n};Ca.prototype.copy=function(e){return ze.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ca.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ca.prototype.fromJSON=function(e){return ze.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function ji(e){ze.call(this),this.type="SplineCurve",this.points=e||[]}ji.prototype=Object.create(ze.prototype);ji.prototype.constructor=ji;ji.prototype.isSplineCurve=!0;ji.prototype.getPoint=function(e,t){var n=t||new le,r=this.points,i=(r.length-1)*e,a=Math.floor(i),s=i-a,u=r[a===0?a:a-1],c=r[a],f=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return n.set(F1(s,u.x,c.x,f.x,h.x),F1(s,u.y,c.y,f.y,h.y)),n};ji.prototype.copy=function(e){ze.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this};ji.prototype.toJSON=function(){var e=ze.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e};ji.prototype.fromJSON=function(e){ze.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(new le().fromArray(r))}return this};var l_=Object.freeze({__proto__:null,ArcCurve:$c,CatmullRomCurve3:Gr,CubicBezierCurve:Wi,CubicBezierCurve3:Aa,EllipseCurve:oi,LineCurve:Hr,LineCurve3:Vi,QuadraticBezierCurve:$i,QuadraticBezierCurve3:Ca,SplineCurve:ji});function es(){ze.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}es.prototype=Object.assign(Object.create(ze.prototype),{constructor:es,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Hr(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],s=a.getLength(),u=s===0?0:1-i/s;return a.getPointAt(u)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t=[],n,r=0,i=this.curves;r<i.length;r++)for(var a=i[r],s=a&&a.isEllipseCurve?e*2:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,u=a.getPoints(s),c=0;c<u.length;c++){var f=u[c];n&&n.equals(f)||(t.push(f),n=f)}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){ze.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=ze.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){ze.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(new l_[r.type]().fromJSON(r))}return this}});function Ii(e){es.call(this),this.type="Path",this.currentPoint=new le,e&&this.setFromPoints(e)}Ii.prototype=Object.assign(Object.create(es.prototype),{constructor:Ii,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new Hr(this.currentPoint.clone(),new le(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new $i(this.currentPoint.clone(),new le(e,t),new le(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,a){var s=new Wi(this.currentPoint.clone(),new le(e,t),new le(n,r),new le(i,a));return this.curves.push(s),this.currentPoint.set(i,a),this},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new ji(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,t+u,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,s,u){var c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,n,r,i,a,s,u),this},absellipse:function(e,t,n,r,i,a,s,u){var c=new oi(e,t,n,r,i,a,s,u);if(this.curves.length>0){var f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);var h=c.getPoint(1);return this.currentPoint.copy(h),this},copy:function(e){return es.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=es.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return es.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function io(e){Ii.call(this,e),this.uuid=ct.generateUUID(),this.type="Shape",this.holes=[]}io.prototype=Object.assign(Object.create(Ii.prototype),{constructor:io,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ii.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Ii.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Ii.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(new Ii().fromJSON(r))}return this}});function jt(e,t){xe.call(this),this.type="Light",this.color=new Se(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}jt.prototype=Object.assign(Object.create(xe.prototype),{constructor:jt,isLight:!0,copy:function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=xe.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function c_(e,t,n){jt.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(xe.DefaultUp),this.updateMatrix(),this.groundColor=new Se(t)}c_.prototype=Object.assign(Object.create(jt.prototype),{constructor:c_,isHemisphereLight:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Pa(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new le(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this._frustum=new cf,this._frameExtents=new le(1,1),this._viewportCount=1,this._viewports=[new Gt(0,0,1,1)]}Object.assign(Pa.prototype,{_projScreenMatrix:new dt,_lightPositionWorld:new B,_lookTarget:new B,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return this.bias!==0&&(e.bias=this.bias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function f_(){Pa.call(this,new rn(50,1,.5,500))}f_.prototype=Object.assign(Object.create(Pa.prototype),{constructor:f_,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=ct.RAD2DEG*2*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Pa.prototype.updateMatrices.call(this,e)}});function h_(e,t,n,r,i,a){jt.call(this,e,t),this.type="SpotLight",this.position.copy(xe.DefaultUp),this.updateMatrix(),this.target=new xe,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(s){this.intensity=s/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=r!==void 0?r:Math.PI/3,this.penumbra=i!==void 0?i:0,this.decay=a!==void 0?a:1,this.shadow=new f_}h_.prototype=Object.assign(Object.create(jt.prototype),{constructor:h_,isSpotLight:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function d_(){Pa.call(this,new rn(90,1,.5,500)),this._frameExtents=new le(4,2),this._viewportCount=6,this._viewports=[new Gt(2,1,1,1),new Gt(0,1,1,1),new Gt(3,1,1,1),new Gt(1,1,1,1),new Gt(3,0,1,1),new Gt(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}d_.prototype=Object.assign(Object.create(Pa.prototype),{constructor:d_,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,s=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}});function p_(e,t,n,r){jt.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(i){this.intensity=i/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=r!==void 0?r:1,this.shadow=new d_}p_.prototype=Object.assign(Object.create(jt.prototype),{constructor:p_,isPointLight:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function jc(e,t,n,r,i,a){Ma.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=r!==void 0?r:-1,this.near=i!==void 0?i:.1,this.far=a!==void 0?a:2e3,this.updateProjectionMatrix()}jc.prototype=Object.assign(Object.create(Ma.prototype),{constructor:jc,isOrthographicCamera:!0,copy:function(e,t){return Ma.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,s=r+t,u=r-t;if(this.view!==null&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=c*this.view.offsetX,a=i+c*this.view.width,s-=f*this.view.offsetY,u=s-f*this.view.height}this.projectionMatrix.makeOrthographic(i,a,s,u,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=xe.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function v_(){Pa.call(this,new jc(-5,5,5,-5,.5,500))}v_.prototype=Object.assign(Object.create(Pa.prototype),{constructor:v_,isDirectionalLightShadow:!0,updateMatrices:function(e){Pa.prototype.updateMatrices.call(this,e)}});function m_(e,t){jt.call(this,e,t),this.type="DirectionalLight",this.position.copy(xe.DefaultUp),this.updateMatrix(),this.target=new xe,this.shadow=new v_}m_.prototype=Object.assign(Object.create(jt.prototype),{constructor:m_,isDirectionalLight:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function g_(e,t){jt.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}g_.prototype=Object.assign(Object.create(jt.prototype),{constructor:g_,isAmbientLight:!0});function __(e,t,n,r){jt.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=r!==void 0?r:10}__.prototype=Object.assign(Object.create(jt.prototype),{constructor:__,isRectAreaLight:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=jt.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function y_(e){It.call(this,e),this.textures={}}y_.prototype=Object.assign(Object.create(It.prototype),{constructor:y_,load:function(e,t,n,r){var i=this,a=new ki(i.manager);a.setPath(i.path),a.load(e,function(s){t(i.parse(JSON.parse(s)))},n,r)},parse:function(e){var t=this.textures;function n(c){return t[c]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",c),t[c]}var r=new r5[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=new Se().setHex(e.sheen)),e.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular.setHex(e.specular),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.vertexColors!==void 0&&(r.vertexColors=e.vertexColors),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(r.skinning=e.skinning),e.morphTargets!==void 0&&(r.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(r.morphNormals=e.morphNormals),e.dithering!==void 0&&(r.dithering=e.dithering),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.uniforms!==void 0)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=new Se().setHex(a.value);break;case"v2":r.uniforms[i].value=new le().fromArray(a.value);break;case"v3":r.uniforms[i].value=new B().fromArray(a.value);break;case"v4":r.uniforms[i].value=new Gt().fromArray(a.value);break;case"m3":r.uniforms[i].value=new Vn().fromArray(a.value);case"m4":r.uniforms[i].value=new dt().fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(var s in e.extensions)r.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){var u=e.normalScale;Array.isArray(u)===!1&&(u=[u,u]),r.normalScale=new le().fromArray(u)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new le().fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var aE={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function x_(){Ee.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}x_.prototype=Object.assign(Object.create(Ee.prototype),{constructor:x_,isInstancedBufferGeometry:!0,copy:function(e){return Ee.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e=Ee.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}});function w_(e,t,n,r){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ze.call(this,e,t,n),this.meshPerAttribute=r||1}w_.prototype=Object.assign(Object.create(Ze.prototype),{constructor:w_,isInstancedBufferAttribute:!0,copy:function(e){return Ze.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Ze.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function b_(e){It.call(this,e)}b_.prototype=Object.assign(Object.create(It.prototype),{constructor:b_,load:function(e,t,n,r){var i=this,a=new ki(i.manager);a.setPath(i.path),a.load(e,function(s){t(i.parse(JSON.parse(s)))},n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new x_:new Ee,n=e.data.index;if(n!==void 0){var r=new km[n.type](n.array);t.setIndex(new Ze(r,1))}var i=e.data.attributes;for(var a in i){var s=i[a],r=new km[s.type](s.array),u=s.isInstancedBufferAttribute?w_:Ze,c=new u(r,s.itemSize,s.normalized);s.name!==void 0&&(c.name=s.name),t.setAttribute(a,c)}var f=e.data.morphAttributes;if(f)for(var a in f){for(var h=f[a],d=[],v=0,m=h.length;v<m;v++){var s=h[v],r=new km[s.type](s.array),c=new Ze(r,s.itemSize,s.normalized);s.name!==void 0&&(c.name=s.name),d.push(c)}t.morphAttributes[a]=d}var _=e.data.morphTargetsRelative;_&&(t.morphTargetsRelative=!0);var g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(var v=0,y=g.length;v!==y;++v){var w=g[v];t.addGroup(w.start,w.count,w.materialIndex)}var M=e.data.boundingSphere;if(M!==void 0){var E=new B;M.center!==void 0&&E.fromArray(M.center),t.boundingSphere=new ws(E,M.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var km={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function M_(e){It.call(this,e)}M_.prototype=Object.assign(Object.create(It.prototype),{constructor:M_,load:function(e,t,n,r){var i=this,a=this.path===""?aE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var s=new ki(i.manager);s.setPath(this.path),s.load(e,function(u){var c=null;try{c=JSON.parse(u)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}var f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}i.parse(c,t)},n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,r,s);return e.animations&&(u.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(u),u},parseShape:function(e){var t={};if(e!==void 0)for(var n=0,r=e.length;n<r;n++){var i=new io().fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(e!==void 0)for(var r=new b_,i=0,a=e.length;i<a;i++){var s,u=e[i];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new tr[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new tr[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new tr[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new tr[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new tr[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new tr[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new tr[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new tr[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new tr[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new tr[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new tr[u.type](new l_[u.path.type]().fromJSON(u.path),u.tubularSegments,u.radius,u.radialSegments,u.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new tr[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new tr[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var d=[],c=0,f=u.shapes.length;c<f;c++){var h=t[u.shapes[c]];d.push(h)}s=new tr[u.type](d,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var d=[],c=0,f=u.shapes.length;c<f;c++){var h=t[u.shapes[c]];d.push(h)}var v=u.options.extrudePath;v!==void 0&&(u.options.extrudePath=new l_[v.type]().fromJSON(v)),s=new tr[u.type](d,u.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(u);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var m=new THREE.LegacyJSONLoader;s=m.parse(u,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),s.isBufferGeometry===!0&&u.userData!==void 0&&(s.userData=u.userData),n[u.uuid]=s}return n},parseMaterials:function(e,t){var n={},r={};if(e!==void 0){var i=new y_;i.setTextures(t);for(var a=0,s=e.length;a<s;a++){var u=e[a];if(u.type==="MultiMaterial"){for(var c=[],f=0;f<u.materials.length;f++){var h=u.materials[f];n[h.uuid]===void 0&&(n[h.uuid]=i.parse(h)),c.push(n[h.uuid])}r[u.uuid]=c}else n[u.uuid]===void 0&&(n[u.uuid]=i.parse(u)),r[u.uuid]=n[u.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=_i.parse(r);r.uuid!==void 0&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(g){return n.manager.itemStart(g),s.load(g,function(){n.manager.itemEnd(g)},void 0,function(){n.manager.itemError(g),n.manager.itemEnd(g)})}if(e!==void 0&&e.length>0){var a=new iE(t),s=new Wc(a);s.setCrossOrigin(this.crossOrigin);for(var u=0,c=e.length;u<c;u++){var f=e[u],h=f.url;if(Array.isArray(h)){r[f.uuid]=[];for(var d=0,v=h.length;d<v;d++){var m=h[d],_=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m)?m:n.resourcePath+m;r[f.uuid].push(i(_))}}else{var _=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f.url)?f.url:n.resourcePath+f.url;r[f.uuid]=i(_)}}}return r},parseTextures:function(e,t){function n(c,f){return typeof c=="number"?c:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",c),f[c])}var r={};if(e!==void 0)for(var i=0,a=e.length;i<a;i++){var s=e[i];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u;Array.isArray(t[s.image])?u=new hs(t[s.image]):u=new Ot(t[s.image]),u.needsUpdate=!0,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=n(s.mapping,p5)),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=n(s.wrap[0],B1),u.wrapT=n(s.wrap[1],B1)),s.format!==void 0&&(u.format=s.format),s.type!==void 0&&(u.type=s.type),s.encoding!==void 0&&(u.encoding=s.encoding),s.minFilter!==void 0&&(u.minFilter=n(s.minFilter,z1)),s.magFilter!==void 0&&(u.magFilter=n(s.magFilter,z1)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),r[s.uuid]=u}return r},parseObject:function(e,t,n){var r;function i(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function a(y){if(y!==void 0){if(Array.isArray(y)){for(var w=[],M=0,E=y.length;M<E;M++){var S=y[M];n[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),w.push(n[S])}return w}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}switch(e.type){case"Scene":r=new wi,e.background!==void 0&&Number.isInteger(e.background)&&(r.background=new Se(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?r.fog=new qg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(r.fog=new jg(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new rn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(r.focus=e.focus),e.zoom!==void 0&&(r.zoom=e.zoom),e.filmGauge!==void 0&&(r.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(r.filmOffset=e.filmOffset),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new jc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(r.zoom=e.zoom),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new g_(e.color,e.intensity);break;case"DirectionalLight":r=new m_(e.color,e.intensity);break;case"PointLight":r=new p_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new __(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new h_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new c_(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=i(e.geometry),u=a(e.material);s.bones&&s.bones.length>0?r=new Pd(s,u):r=new Vt(s,u);break;case"InstancedMesh":var s=i(e.geometry),u=a(e.material),c=e.count,f=e.instanceMatrix;r=new Zg(s,u,c),r.instanceMatrix=new Ze(new Float32Array(f.array),16);break;case"LOD":r=new Cd;break;case"Line":r=new si(i(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new Jg(i(e.geometry),a(e.material));break;case"LineSegments":r=new yn(i(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new Qg(i(e.geometry),a(e.material));break;case"Sprite":r=new Xg(a(e.material));break;case"Group":r=new Tc;break;default:r=new xe}if(r.uuid=e.uuid,e.name!==void 0&&(r.name=e.name),e.matrix!==void 0?(r.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(e.position!==void 0&&r.position.fromArray(e.position),e.rotation!==void 0&&r.rotation.fromArray(e.rotation),e.quaternion!==void 0&&r.quaternion.fromArray(e.quaternion),e.scale!==void 0&&r.scale.fromArray(e.scale)),e.castShadow!==void 0&&(r.castShadow=e.castShadow),e.receiveShadow!==void 0&&(r.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(r.shadow.bias=e.shadow.bias),e.shadow.radius!==void 0&&(r.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&r.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(r.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(r.visible=e.visible),e.frustumCulled!==void 0&&(r.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(r.renderOrder=e.renderOrder),e.userData!==void 0&&(r.userData=e.userData),e.layers!==void 0&&(r.layers.mask=e.layers),e.children!==void 0)for(var h=e.children,d=0;d<h.length;d++)r.add(this.parseObject(h[d],t,n));if(e.type==="LOD"){e.autoUpdate!==void 0&&(r.autoUpdate=e.autoUpdate);for(var v=e.levels,m=0;m<v.length;m++){var _=v[m],g=r.getObjectByProperty("uuid",_.object);g!==void 0&&r.addLevel(g,_.distance)}}return r}});var p5={UVMapping:S0,CubeReflectionMapping:T0,CubeRefractionMapping:E0,EquirectangularReflectionMapping:LT,EquirectangularRefractionMapping:A0,SphericalReflectionMapping:RT,CubeUVReflectionMapping:lf,CubeUVRefractionMapping:C0},B1={RepeatWrapping:mc,ClampToEdgeWrapping:nr,MirroredRepeatWrapping:xd},z1={NearestFilter:dn,NearestMipmapNearestFilter:Ng,NearestMipmapLinearFilter:Fg,LinearFilter:Mn,LinearMipmapNearestFilter:OT,LinearMipmapLinearFilter:gp};function U1(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),It.call(this,e),this.options=void 0}U1.prototype=Object.assign(Object.create(It.prototype),{constructor:U1,setOptions:function(t){return this.options=t,this},load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Ju.get(e);if(a!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;fetch(e).then(function(s){return s.blob()}).then(function(s){return i.options===void 0?createImageBitmap(s):createImageBitmap(s,i.options)}).then(function(s){Ju.add(e,s),t&&t(s),i.manager.itemEnd(e)}).catch(function(s){r&&r(s),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}});function sE(){this.type="ShapePath",this.color=new Se,this.subPaths=[],this.currentPath=null}Object.assign(sE.prototype,{moveTo:function(e,t){return this.currentPath=new Ii,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(W){for(var Z=[],ee=0,J=W.length;ee<J;ee++){var te=W[ee],ne=new io;ne.curves=te.curves,Z.push(ne)}return Z}function r(W,Z){for(var ee=Z.length,J=!1,te=ee-1,ne=0;ne<ee;te=ne++){var ue=Z[te],_e=Z[ne],Fe=_e.x-ue.x,De=_e.y-ue.y;if(Math.abs(De)>Number.EPSILON){if(De<0&&(ue=Z[ne],Fe=-Fe,_e=Z[te],De=-De),W.y<ue.y||W.y>_e.y)continue;if(W.y===ue.y){if(W.x===ue.x)return!0}else{var Me=De*(W.x-ue.x)-Fe*(W.y-ue.y);if(Me===0)return!0;if(Me<0)continue;J=!J}}else{if(W.y!==ue.y)continue;if(_e.x<=W.x&&W.x<=ue.x||ue.x<=W.x&&W.x<=_e.x)return!0}}return J}var i=as.isClockWise,a=this.subPaths;if(a.length===0)return[];if(t===!0)return n(a);var s,u,c,f=[];if(a.length===1)return u=a[0],c=new io,c.curves=u.curves,f.push(c),f;var h=!i(a[0].getPoints());h=e?!h:h;var d=[],v=[],m=[],_=0,g;v[_]=void 0,m[_]=[];for(var y=0,w=a.length;y<w;y++)u=a[y],g=u.getPoints(),s=i(g),s=e?!s:s,s?(!h&&v[_]&&_++,v[_]={s:new io,p:g},v[_].s.curves=u.curves,h&&_++,m[_]=[]):m[_].push({h:u,p:g[0]});if(!v[0])return n(a);if(v.length>1){for(var M=!1,E=[],S=0,b=v.length;S<b;S++)d[S]=[];for(var S=0,b=v.length;S<b;S++)for(var P=m[S],D=0;D<P.length;D++){for(var L=P[D],F=!0,H=0;H<v.length;H++)r(L.p,v[H].p)&&(S!==H&&E.push({froms:S,tos:H,hole:D}),F?(F=!1,d[H].push(L)):M=!0);F&&d[S].push(L)}E.length>0&&(M||(m=d))}for(var q,y=0,I=v.length;y<I;y++){c=v[y].s,f.push(c),q=m[y];for(var N=0,z=q.length;N<z;N++)c.holes.push(q[N].h)}return f}});function oE(e){this.type="Font",this.data=e}Object.assign(oE.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);for(var n=[],r=v5(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}});function v5(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[],u=0,c=0,f=0;f<r.length;f++){var h=r[f];if(h===`
`)u=0,c-=a;else{var d=m5(h,i,u,c,n);u+=d.offsetX,s.push(d.path)}}return s}function m5(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(!a){console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");return}var s=new sE,u,c,f,h,d,v,m,_;if(a.o)for(var g=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),y=0,w=g.length;y<w;){var M=g[y++];switch(M){case"m":u=g[y++]*t+n,c=g[y++]*t+r,s.moveTo(u,c);break;case"l":u=g[y++]*t+n,c=g[y++]*t+r,s.lineTo(u,c);break;case"q":f=g[y++]*t+n,h=g[y++]*t+r,d=g[y++]*t+n,v=g[y++]*t+r,s.quadraticCurveTo(d,v,f,h);break;case"b":f=g[y++]*t+n,h=g[y++]*t+r,d=g[y++]*t+n,v=g[y++]*t+r,m=g[y++]*t+n,_=g[y++]*t+r,s.bezierCurveTo(d,v,m,_,f,h);break}}return{offsetX:a.ha*t,path:s}}function G1(e){It.call(this,e)}G1.prototype=Object.assign(Object.create(It.prototype),{constructor:G1,load:function(e,t,n,r){var i=this,a=new ki(this.manager);a.setPath(this.path),a.load(e,function(s){var u;try{u=JSON.parse(s)}catch(f){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),u=JSON.parse(s.substring(65,s.length-2))}var c=i.parse(u);t&&t(c)},n,r)},parse:function(e){return new oE(e)}});var Dh,uE={getContext:function(){return Dh===void 0&&(Dh=new(window.AudioContext||window.webkitAudioContext)),Dh},setContext:function(e){Dh=e}};function S_(e){It.call(this,e)}S_.prototype=Object.assign(Object.create(It.prototype),{constructor:S_,load:function(e,t,n,r){var i=new ki(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(a){var s=a.slice(0),u=uE.getContext();u.decodeAudioData(s,function(c){t(c)})},n,r)}});function I0(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new B)}Object.assign(I0.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScale(a[1],.488603*r),t.addScale(a[2],.488603*i),t.addScale(a[3],.488603*n),t.addScale(a[4],1.092548*(n*r)),t.addScale(a[5],1.092548*(r*i)),t.addScale(a[6],.315392*(3*i*i-1)),t.addScale(a[7],1.092548*(n*i)),t.addScale(a[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScale(a[1],2*.511664*r),t.addScale(a[2],2*.511664*i),t.addScale(a[3],2*.511664*n),t.addScale(a[4],2*.429043*n*r),t.addScale(a[5],2*.429043*r*i),t.addScale(a[6],.743125*i*i-.247708),t.addScale(a[7],2*.429043*n*i),t.addScale(a[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}});Object.assign(I0,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}});function zi(e,t){jt.call(this,void 0,t),this.sh=e!==void 0?e:new I0}zi.prototype=Object.assign(Object.create(jt.prototype),{constructor:zi,isLightProbe:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){var t=jt.prototype.toJSON.call(this,e);return t}});function H1(e,t,n){zi.call(this,void 0,n);var r=new Se().set(e),i=new Se().set(t),a=new B(r.r,r.g,r.b),s=new B(i.r,i.g,i.b),u=Math.sqrt(Math.PI),c=u*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(s).multiplyScalar(u),this.sh.coefficients[1].copy(a).sub(s).multiplyScalar(c)}H1.prototype=Object.assign(Object.create(zi.prototype),{constructor:H1,isHemisphereLightProbe:!0,copy:function(e){return zi.prototype.copy.call(this,e),this},toJSON:function(e){var t=zi.prototype.toJSON.call(this,e);return t}});function k1(e,t){zi.call(this,void 0,t);var n=new Se().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}k1.prototype=Object.assign(Object.create(zi.prototype),{constructor:k1,isAmbientLightProbe:!0,copy:function(e){return zi.prototype.copy.call(this,e),this},toJSON:function(e){var t=zi.prototype.toJSON.call(this,e);return t}});var W1=new dt,V1=new dt;function g5(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(g5.prototype,{update:function(e){var t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r=e.projectionMatrix.clone(),i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(ct.DEG2RAD*t.fov*.5)/t.zoom,u,c;V1.elements[12]=-i,W1.elements[12]=i,u=-s*t.aspect+a,c=s*t.aspect+a,r.elements[0]=2*t.near/(c-u),r.elements[8]=(c+u)/(c-u),this.cameraL.projectionMatrix.copy(r),u=-s*t.aspect-a,c=s*t.aspect-a,r.elements[0]=2*t.near/(c-u),r.elements[8]=(c+u)/(c-u),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(V1),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(W1)}});function lE(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(lE.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var ks=new B,$1=new yr,_5=new B,Ws=new B;function j1(){xe.call(this),this.type="AudioListener",this.context=uE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new lE}j1.prototype=Object.assign(Object.create(xe.prototype),{constructor:j1,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){xe.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ks,$1,_5),Ws.set(0,0,-1).applyQuaternion($1),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ks.x,r),t.positionY.linearRampToValueAtTime(ks.y,r),t.positionZ.linearRampToValueAtTime(ks.z,r),t.forwardX.linearRampToValueAtTime(Ws.x,r),t.forwardY.linearRampToValueAtTime(Ws.y,r),t.forwardZ.linearRampToValueAtTime(Ws.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(ks.x,ks.y,ks.z),t.setOrientation(Ws.x,Ws.y,Ws.z,n.x,n.y,n.z)}});function qc(e){xe.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}qc.prototype=Object.assign(Object.create(xe.prototype),{constructor:qc,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var Vs=new B,q1=new yr,y5=new B,$s=new B;function X1(e){qc.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}X1.prototype=Object.assign(Object.create(qc.prototype),{constructor:X1,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(xe.prototype.updateMatrixWorld.call(this,e),!(this.hasPlaybackControl===!0&&this.isPlaying===!1)){this.matrixWorld.decompose(Vs,q1,y5),$s.set(0,0,1).applyQuaternion(q1);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Vs.x,n),t.positionY.linearRampToValueAtTime(Vs.y,n),t.positionZ.linearRampToValueAtTime(Vs.z,n),t.orientationX.linearRampToValueAtTime($s.x,n),t.orientationY.linearRampToValueAtTime($s.y,n),t.orientationZ.linearRampToValueAtTime($s.z,n)}else t.setPosition(Vs.x,Vs.y,Vs.z),t.setOrientation($s.x,$s.y,$s.z)}}});function cE(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(cE.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}});function fE(e,t,n){this.binding=e,this.valueSize=n;var r=Float64Array,i;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(n*4),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(fE.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(a===0){for(var s=0;s!==r;++s)n[i+s]=n[s];a=t}else{a+=t;var u=t/a;this._mixBufferRegion(n,i,0,u,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var s=t*3;this._mixBufferRegion(n,r,s,1-i,t)}for(var u=t,c=t+t;u!==c;++u)if(n[u]!==n[u+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*3;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){yr.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,s=0;s!==i;++s){var u=t+s;e[u]=e[u]*a+e[n+s]*r}}});var D0="\\[\\]\\.:\\/",x5=new RegExp("["+D0+"]","g"),N0="[^"+D0+"]",w5="[^"+D0.replace("\\.","")+"]",b5=/((?:WC+[\/:])*)/.source.replace("WC",N0),M5=/(WCOD+)?/.source.replace("WCOD",w5),S5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",N0),T5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",N0),E5=new RegExp("^"+b5+M5+S5+T5+"$"),A5=["material","materials","bones"];function hE(e,t,n){var r=n||ar.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}Object.assign(hE.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function ar(e,t,n){this.path=t,this.parsedPath=n||ar.parseTrackName(t),this.node=ar.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(ar,{Composite:hE,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new ar.Composite(e,t,n):new ar(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(x5,"")},parseTrackName:function(e){var t=E5.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){var i=n.nodeName.substring(r+1);A5.indexOf(i)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="root"||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){var r=function(a){for(var s=0;s<a.length;s++){var u=a[s];if(u.name===t||u.uuid===t)return u;var c=r(u.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}});Object.assign(ar.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){for(var r=this.resolvedProperty,i=0,a=r.length;i!==a;++i)t[n++]=r[i]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){for(var r=this.resolvedProperty,i=0,a=r.length;i!==a;++i)r[i]=t[n++]},function(t,n){for(var r=this.resolvedProperty,i=0,a=r.length;i!==a;++i)r[i]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){for(var r=this.resolvedProperty,i=0,a=r.length;i!==a;++i)r[i]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=ar.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===a){a=s;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(a!==void 0){if(e[a]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[a]}}var u=e[r];if(u===void 0){var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}var f=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?f=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(f=this.Versioning.MatrixWorldNeedsUpdate);var h=this.BindingType.Direct;if(i!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var s=0;s<this.node.geometry.morphAttributes.position.length;s++)if(e.geometry.morphAttributes.position[s].name===i){i=s;break}}else{if(!e.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(e.geometry.morphTargets[s].name===i){i=s;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=i}else u.fromArray!==void 0&&u.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(h=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][f]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ar.prototype,{_getValue_unbound:ar.prototype.getValue,_setValue_unbound:ar.prototype.setValue});function C5(){this.uuid=ct.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(C5.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=void 0,f=0,h=arguments.length;f!==h;++f){var d=arguments[f],v=d.uuid,m=r[v];if(m===void 0){m=t++,r[v]=m,e.push(d);for(var _=0,g=u;_!==g;++_)s[_].push(new ar(d,i[_],a[_]))}else if(m<n){c=e[m];var y=--n,w=e[y];r[w.uuid]=m,e[m]=w,r[v]=y,e[y]=d;for(var _=0,g=u;_!==g;++_){var M=s[_],E=M[y],S=M[m];M[m]=E,S===void 0&&(S=new ar(d,i[_],a[_])),M[y]=S}}else e[m]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0&&f>=t){var h=t++,d=e[h];n[d.uuid]=f,e[f]=d,n[c]=h,e[h]=u;for(var v=0,m=i;v!==m;++v){var _=r[v],g=_[h],y=_[f];_[f]=g,_[h]=y}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],f=c.uuid,h=r[f];if(h!==void 0)if(delete r[f],h<n){var d=--n,v=e[d],m=--t,_=e[m];r[v.uuid]=h,e[h]=v,r[_.uuid]=d,e[d]=_,e.pop();for(var g=0,y=a;g!==y;++g){var w=i[g],M=w[d],E=w[m];w[h]=M,w[d]=E,w.pop()}}else{var m=--t,_=e[m];r[_.uuid]=h,e[h]=_,e.pop();for(var g=0,y=a;g!==y;++g){var w=i[g];w[h]=w[m],w.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(r!==void 0)return i[r];var a=this._paths,s=this._parsedPaths,u=this._objects,c=u.length,f=this.nCachedObjects_,h=new Array(c);r=i.length,n[e]=r,a.push(e),s.push(t),i.push(h);for(var d=f,v=u.length;d!==v;++d){var m=u[d];h[d]=new ar(m,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){var r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length-1,u=a[s],c=e[s];t[c]=n,a[n]=u,a.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}});function dE(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),s={endingStart:Iu,endingEnd:Iu},u=0;u!==i;++u){var c=r[u].createInterpolant(null);a[u]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(dE.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,s=r/i;e.warp(1,a,t),this.warp(s,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,s=this.timeScale;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var u=a.parameterPositions,c=a.sampleValues;return u[0]=i,u[1]=i+n,c[0]=e/s,c[1]=t/s,this},stopWarping:function(){var e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}var i=this._startTime;if(i!==null){var a=(e-i)*n;if(a<0||n===0)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var s=this._updateTime(t),u=this._updateWeight(e);if(u>0)for(var c=this._interpolants,f=this._propertyBindings,h=0,d=c.length;h!==d;++h)c[h].evaluate(s),f[h].accumulate(r,u)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(n!==null){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(n!==null){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=r===SU;if(e===0)return i===-1?t:a&&(i&1)===1?n-t:t;if(r===bU){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else if(t<0)t=0;else{this.time=t;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),t>=n||t<0){var s=Math.floor(t/n);t-=n*s,i+=Math.abs(s);var u=this.repetitions-i;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){var c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=t;if(a&&(i&1)===1)return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=mu,r.endingEnd=mu):(e?r.endingStart=this.zeroSlopeAtStart?mu:Iu:r.endingStart=Sd,t?r.endingEnd=this.zeroSlopeAtEnd?mu:Iu:r.endingEnd=Sd)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=i,u[0]=t,s[1]=i+e,u[1]=n,this}});function Y1(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Y1.prototype=Object.assign(Object.create(La.prototype),{constructor:Y1,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,s=e._interpolants,u=n.uuid,c=this._bindingsByRootAndName,f=c[u];f===void 0&&(f={},c[u]=f);for(var h=0;h!==i;++h){var d=r[h],v=d.name,m=f[v];if(m!==void 0)a[h]=m;else{if(m=a[h],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,u,v));continue}var _=t&&t._propertyBindings[h].binding.parsedPath;m=new fE(ar.create(n,v,_),d.ValueTypeName,d.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,u,v),a[h]=m}s[h].resultBuffer=m.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,s=i.length;a!==s;++a){var u=i[a];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,s=a[i],u=s.knownActions,c=u[u.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,u[f]=c,u.pop(),e._byClipCacheIndex=null;var h=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],u.length===0&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];--i.referenceCount===0&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;i===void 0&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,s=a[r],u=t[t.length-1],c=e._cacheIndex;u._cacheIndex=c,t[c]=u,t.pop(),delete s[i],Object.keys(s).length===0&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new Zd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i=typeof e=="string"?_i.findByName(n,e):e,a=i!==null?i.uuid:e,s=this._actionsByClip[a],u=null;if(s!==void 0){var c=s.actionByRoot[r];if(c!==void 0)return c;u=s.knownActions[0],i===null&&(i=u._clip)}if(i===null)return null;var f=new dE(this,i,t);return this._bindAction(f,u),this._addInactiveAction(f,a,r),f},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i=typeof e=="string"?_i.findByName(n,e):e,a=i?i.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,s=0;s!==n;++s){var u=t[s];u._update(r,e,i,a)}for(var c=this._bindings,f=this._nActiveBindings,s=0;s!==f;++s)c[s].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(i!==void 0){for(var a=i.knownActions,s=0,u=a.length;s!==u;++s){var c=a[s];this._deactivateAction(c);var f=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,a=i[t];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}var s=this._bindingsByRootAndName,u=s[t];if(u!==void 0)for(var c in u){var f=u[c];f.restoreOriginalState(),this._removeInactiveBinding(f)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function T_(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}T_.prototype.clone=function(){return new T_(this.value.clone===void 0?this.value:this.value.clone())};function Z1(e,t,n){ds.call(this,e,t),this.meshPerAttribute=n||1}Z1.prototype=Object.assign(Object.create(ds.prototype),{constructor:Z1,isInstancedInterleavedBuffer:!0,copy:function(e){return ds.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}});function P5(e,t,n,r){this.ray=new il(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function J1(e,t){return e.distance-t.distance}function E_(e,t,n,r){if(e.visible!==!1&&(e.raycast(t,n),r===!0))for(var i=e.children,a=0,s=i.length;a<s;a++)E_(i[a],t,n,!0)}Object.assign(P5.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return E_(e,this,r,t),r.sort(J1),r},intersectObjects:function(e,t,n){var r=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)E_(e[i],this,r,t);return r.sort(J1),r}});function L5(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(L5.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ct.clamp(t/this.radius,-1,1))),this}});function R5(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(R5.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var K1=new le;function pE(e,t){this.min=e!==void 0?e:new le(1/0,1/0),this.max=t!==void 0?t:new le(-1/0,-1/0)}Object.assign(pE.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=K1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new le),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new le),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new le),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new le),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){var t=K1.copy(e).clamp(this.min,this.max);return t.sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Q1=new B,Nh=new B;function vE(e,t){this.start=e!==void 0?e:new B,this.end=t!==void 0?t:new B}Object.assign(vE.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new B),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new B),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new B),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Q1.subVectors(e,this.start),Nh.subVectors(this.end,this.start);var n=Nh.dot(Nh),r=Nh.dot(Q1),i=r/n;return t&&(i=ct.clamp(i,0,1)),i},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new B),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function Kd(e){xe.call(this),this.material=e,this.render=function(){}}Kd.prototype=Object.create(xe.prototype);Kd.prototype.constructor=Kd;Kd.prototype.isImmediateRenderObject=!0;var eM=new B;function Xc(e,t){xe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Ee,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1,s=32;i<s;i++,a++){var u=i/s*Math.PI*2,c=a/s*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new ye(r,3));var f=new vn({fog:!1});this.cone=new yn(n,f),this.add(this.cone),this.update()}Xc.prototype=Object.create(xe.prototype);Xc.prototype.constructor=Xc;Xc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};Xc.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),eM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var $a=new B,Fh=new dt,Wm=new dt;function mE(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,mE(e.children[n]));return t}function Yc(e){for(var t=mE(e),n=new Ee,r=[],i=[],a=new Se(0,0,1),s=new Se(0,1,0),u=0;u<t.length;u++){var c=t[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(s.r,s.g,s.b))}n.setAttribute("position",new ye(r,3)),n.setAttribute("color",new ye(i,3));var f=new vn({vertexColors:uf,depthTest:!1,depthWrite:!1,transparent:!0});yn.call(this,n,f),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Yc.prototype=Object.create(yn.prototype);Yc.prototype.constructor=Yc;Yc.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");Wm.getInverse(this.root.matrixWorld);for(var i=0,a=0;i<t.length;i++){var s=t[i];s.parent&&s.parent.isBone&&(Fh.multiplyMatrices(Wm,s.matrixWorld),$a.setFromMatrixPosition(Fh),r.setXYZ(a,$a.x,$a.y,$a.z),Fh.multiplyMatrices(Wm,s.parent.matrixWorld),$a.setFromMatrixPosition(Fh),r.setXYZ(a+1,$a.x,$a.y,$a.z),a+=2)}n.getAttribute("position").needsUpdate=!0,xe.prototype.updateMatrixWorld.call(this,e)};function Zc(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Gu(t,4,2),i=new bi({wireframe:!0,fog:!1});Vt.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Zc.prototype=Object.create(Vt.prototype);Zc.prototype.constructor=Zc;Zc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};Zc.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var O5=new B,tM=new Se,nM=new Se;function Jc(e,t,n){xe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Bu(t);r.rotateY(Math.PI*.5),this.material=new bi({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=uf);var i=r.getAttribute("position"),a=new Float32Array(i.count*3);r.setAttribute("color",new Ze(a,3)),this.add(new Vt(r,this.material)),this.update()}Jc.prototype=Object.create(xe.prototype);Jc.prototype.constructor=Jc;Jc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};Jc.prototype.update=function(){var e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");tM.copy(this.light.color),nM.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?tM:nM;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(O5.setFromMatrixPosition(this.light.matrixWorld).negate())};function A_(e,t,n,r){e=e||10,t=t||10,n=new Se(n!==void 0?n:4473924),r=new Se(r!==void 0?r:8947848);for(var i=t/2,a=e/t,s=e/2,u=[],c=[],f=0,h=0,d=-s;f<=t;f++,d+=a){u.push(-s,0,d,s,0,d),u.push(d,0,-s,d,0,s);var v=f===i?n:r;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}var m=new Ee;m.setAttribute("position",new ye(u,3)),m.setAttribute("color",new ye(c,3));var _=new vn({vertexColors:uf});yn.call(this,m,_)}A_.prototype=Object.assign(Object.create(yn.prototype),{constructor:A_,copy:function(e){return yn.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function C_(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new Se(i!==void 0?i:4473924),a=new Se(a!==void 0?a:8947848);var s=[],u=[],c,f,h,d,v,m,_;for(d=0;d<=t;d++)h=d/t*(Math.PI*2),c=Math.sin(h)*e,f=Math.cos(h)*e,s.push(0,0,0),s.push(c,0,f),_=d&1?i:a,u.push(_.r,_.g,_.b),u.push(_.r,_.g,_.b);for(d=0;d<=n;d++)for(_=d&1?i:a,m=e-e/n*d,v=0;v<r;v++)h=v/r*(Math.PI*2),c=Math.sin(h)*m,f=Math.cos(h)*m,s.push(c,0,f),u.push(_.r,_.g,_.b),h=(v+1)/r*(Math.PI*2),c=Math.sin(h)*m,f=Math.cos(h)*m,s.push(c,0,f),u.push(_.r,_.g,_.b);var g=new Ee;g.setAttribute("position",new ye(s,3)),g.setAttribute("color",new ye(u,3));var y=new vn({vertexColors:uf});yn.call(this,g,y)}C_.prototype=Object.create(yn.prototype);C_.prototype.constructor=C_;var rM=new B,Bh=new B,iM=new B;function Kc(e,t,n){xe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);var r=new Ee;r.setAttribute("position",new ye([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new vn({fog:!1});this.lightPlane=new si(r,i),this.add(this.lightPlane),r=new Ee,r.setAttribute("position",new ye([0,0,0,0,0,1],3)),this.targetLine=new si(r,i),this.add(this.targetLine),this.update()}Kc.prototype=Object.create(xe.prototype);Kc.prototype.constructor=Kc;Kc.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};Kc.prototype.update=function(){rM.setFromMatrixPosition(this.light.matrixWorld),Bh.setFromMatrixPosition(this.light.target.matrixWorld),iM.subVectors(Bh,rM),this.lightPlane.lookAt(Bh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Bh),this.targetLine.scale.z=iM.length()};var zh=new B,tn=new Ma;function Qd(e){var t=new Ee,n=new vn({color:16777215,vertexColors:yz}),r=[],i=[],a={},s=new Se(16755200),u=new Se(16711680),c=new Se(43775),f=new Se(16777215),h=new Se(3355443);d("n1","n2",s),d("n2","n4",s),d("n4","n3",s),d("n3","n1",s),d("f1","f2",s),d("f2","f4",s),d("f4","f3",s),d("f3","f1",s),d("n1","f1",s),d("n2","f2",s),d("n3","f3",s),d("n4","f4",s),d("p","n1",u),d("p","n2",u),d("p","n3",u),d("p","n4",u),d("u1","u2",c),d("u2","u3",c),d("u3","u1",c),d("c","t",f),d("p","c",h),d("cn1","cn2",h),d("cn3","cn4",h),d("cf1","cf2",h),d("cf3","cf4",h);function d(m,_,g){v(m,g),v(_,g)}function v(m,_){r.push(0,0,0),i.push(_.r,_.g,_.b),a[m]===void 0&&(a[m]=[]),a[m].push(r.length/3-1)}t.setAttribute("position",new ye(r,3)),t.setAttribute("color",new ye(i,3)),yn.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}Qd.prototype=Object.create(yn.prototype);Qd.prototype.constructor=Qd;Qd.prototype.update=function(){var e=this.geometry,t=this.pointMap,n=1,r=1;tn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ln("c",t,e,tn,0,0,-1),ln("t",t,e,tn,0,0,1),ln("n1",t,e,tn,-n,-r,-1),ln("n2",t,e,tn,n,-r,-1),ln("n3",t,e,tn,-n,r,-1),ln("n4",t,e,tn,n,r,-1),ln("f1",t,e,tn,-n,-r,1),ln("f2",t,e,tn,n,-r,1),ln("f3",t,e,tn,-n,r,1),ln("f4",t,e,tn,n,r,1),ln("u1",t,e,tn,n*.7,r*1.1,-1),ln("u2",t,e,tn,-n*.7,r*1.1,-1),ln("u3",t,e,tn,0,r*2,-1),ln("cf1",t,e,tn,-n,0,1),ln("cf2",t,e,tn,n,0,1),ln("cf3",t,e,tn,0,-r,1),ln("cf4",t,e,tn,0,r,1),ln("cn1",t,e,tn,-n,0,-1),ln("cn2",t,e,tn,n,0,-1),ln("cn3",t,e,tn,0,-r,-1),ln("cn4",t,e,tn,0,r,-1),e.getAttribute("position").needsUpdate=!0};function ln(e,t,n,r,i,a,s){zh.set(i,a,s).unproject(r);var u=t[e];if(u!==void 0)for(var c=n.getAttribute("position"),f=0,h=u.length;f<h;f++)c.setXYZ(u[f],zh.x,zh.y,zh.z)}var Uh=new Yi;function _o(e,t){this.object=e,t===void 0&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),i=new Ee;i.setIndex(new Ze(n,1)),i.setAttribute("position",new Ze(r,3)),yn.call(this,i,new vn({color:t})),this.matrixAutoUpdate=!1,this.update()}_o.prototype=Object.create(yn.prototype);_o.prototype.constructor=_o;_o.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Uh.setFromObject(this.object),!Uh.isEmpty()){var t=Uh.min,n=Uh.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}};_o.prototype.setFromObject=function(e){return this.object=e,this.update(),this};_o.prototype.copy=function(e){return yn.prototype.copy.call(this,e),this.object=e.object,this};_o.prototype.clone=function(){return new this.constructor().copy(this)};function ep(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new Ee;i.setIndex(new Ze(n,1)),i.setAttribute("position",new ye(r,3)),yn.call(this,i,new vn({color:t})),this.geometry.computeBoundingSphere()}ep.prototype=Object.create(yn.prototype);ep.prototype.constructor=ep;ep.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),xe.prototype.updateMatrixWorld.call(this,e))};function tp(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=t===void 0?1:t;var r=n!==void 0?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Ee;a.setAttribute("position",new ye(i,3)),a.computeBoundingSphere(),si.call(this,a,new vn({color:r}));var s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],u=new Ee;u.setAttribute("position",new ye(s,3)),u.computeBoundingSphere(),this.add(new Vt(u,new bi({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}tp.prototype=Object.create(si.prototype);tp.prototype.constructor=tp;tp.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?En:of,this.lookAt(this.plane.normal),xe.prototype.updateMatrixWorld.call(this,e)};var aM=new B,Gh,Vm;function ms(e,t,n,r,i,a){xe.call(this),e===void 0&&(e=new B(0,0,1)),t===void 0&&(t=new B(0,0,0)),n===void 0&&(n=1),r===void 0&&(r=16776960),i===void 0&&(i=.2*n),a===void 0&&(a=.2*i),Gh===void 0&&(Gh=new Ee,Gh.setAttribute("position",new ye([0,0,0,0,1,0],3)),Vm=new ps(0,.5,1,5,1),Vm.translate(0,-.5,0)),this.position.copy(t),this.line=new si(Gh,new vn({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vt(Vm,new bi({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}ms.prototype=Object.create(xe.prototype);ms.prototype.constructor=ms;ms.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{aM.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(aM,t)}};ms.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};ms.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};ms.prototype.copy=function(e){return xe.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};ms.prototype.clone=function(){return new this.constructor().copy(this)};function P_(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ee;r.setAttribute("position",new ye(t,3)),r.setAttribute("color",new ye(n,3));var i=new vn({vertexColors:uf});yn.call(this,r,i)}P_.prototype=Object.create(yn.prototype);P_.prototype.constructor=P_;var Eu=4,ss=8,Fi=Math.pow(2,ss),gE=[.125,.215,.35,.446,.526,.582],_E=ss-Eu+1+gE.length,cu=20,qi={[Br]:0,[L0]:1,[R0]:2,[NT]:3,[FT]:4,[BT]:5,[DT]:6},F0=new jc,np=F5(cu),qa=null,Xa=null,{_lodPlanes:Qc,_sizeLods:sM,_sigmas:Hh}=I5(),rp=null,zt=null,L_=null,qs=(1+Math.sqrt(5))/2,su=1/qs,oM=[new B(1,1,1),new B(-1,1,1),new B(1,1,-1),new B(-1,1,-1),new B(0,qs,su),new B(0,qs,-su),new B(su,0,qs),new B(-su,0,qs),new B(qs,su,0),new B(-qs,su,0)];function uM(e){zt=e,R_(np)}uM.prototype={constructor:uM,fromScene:function(e,t=0,n=.1,r=100){L_=zt.getRenderTarget();var i=lM();return D5(e,n,r,i),t>0&&yE(i,0,0,t),hM(i),cM(i),i},fromEquirectangular:function(e){return e.magFilter=dn,e.minFilter=dn,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){L_=zt.getRenderTarget();var t=lM(e);return N5(e,t),hM(t),cM(t),t},compileCubemapShader:function(){Xa==null&&(Xa=wE(),R_(Xa))},compileEquirectangularShader:function(){qa==null&&(qa=xE(),R_(qa))},dispose:function(){np.dispose(),Xa!=null&&Xa.dispose(),qa!=null&&qa.dispose();for(var e=0;e<Qc.length;e++)Qc[e].dispose()}};function I5(){for(var e=[],t=[],n=[],r=ss,i=0;i<_E;i++){var a=Math.pow(2,r);t.push(a);var s=1/a;i>ss-Eu?s=gE[i-ss+Eu-1]:i==0&&(s=0),n.push(s);for(var u=1/(a-1),c=-u/2,f=1+u/2,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,v=6,m=3,_=2,g=1,y=new Float32Array(m*v*d),w=new Float32Array(_*v*d),M=new Float32Array(g*v*d),E=0;E<d;E++){var S=E%3*2/3-1,b=E>2?0:-1,P=[S,b,0,S+2/3,b,0,S+2/3,b+1,0,S,b,0,S+2/3,b+1,0,S,b+1,0];y.set(P,m*v*E),w.set(h,_*v*E);var D=[E,E,E,E,E,E];M.set(D,g*v*E)}var L=new Ee;L.setAttribute("position",new Ze(y,m)),L.setAttribute("uv",new Ze(w,_)),L.setAttribute("faceIndex",new Ze(M,g)),e.push(L),r>Eu&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function lM(e){var t={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:e?e.type:_p,format:e?e.format:eU,encoding:e?e.encoding:R0,depthBuffer:!1,stencilBuffer:!1},n=fM(t);return n.depthBuffer=!e,rp=fM(t),n}function cM(e){rp.dispose(),zt.setRenderTarget(L_),e.scissorTest=!1,e.setSize(e.width,e.height)}function D5(e,t,n,r){var i=90,a=1,s=new rn(i,a,t,n),u=[1,1,1,1,-1,1],c=[1,1,-1,-1,-1,1],f=zt.outputEncoding,h=zt.toneMapping,d=zt.toneMappingExposure,v=zt.getClearColor(),m=zt.getClearAlpha();zt.toneMapping=M0,zt.toneMappingExposure=1,zt.outputEncoding=Br,e.scale.z*=-1;var _=e.background;if(_&&_.isColor){_.convertSRGBToLinear();var g=Math.max(_.r,_.g,_.b),y=Math.min(Math.max(Math.ceil(Math.log2(g)),-128),127);_=_.multiplyScalar(Math.pow(2,-y));var w=(y+128)/255;zt.setClearColor(_,w),e.background=null}for(var M=0;M<6;M++){var E=M%3;E==0?(s.up.set(0,u[M],0),s.lookAt(c[M],0,0)):E==1?(s.up.set(0,0,u[M]),s.lookAt(0,c[M],0)):(s.up.set(0,u[M],0),s.lookAt(0,0,c[M])),B0(r,E*Fi,M>2?Fi:0,Fi,Fi),zt.setRenderTarget(r),zt.render(e,s)}zt.toneMapping=h,zt.toneMappingExposure=d,zt.outputEncoding=f,zt.setClearColor(v,m),e.scale.z*=-1}function N5(e,t){var n=new wi;e.isCubeTexture?Xa==null&&(Xa=wE()):qa==null&&(qa=xE());var r=e.isCubeTexture?Xa:qa;n.add(new Vt(Qc[0],r));var i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=qi[e.encoding],i.outputEncoding.value=qi[e.encoding],B0(t,0,0,3*Fi,2*Fi),zt.setRenderTarget(t),zt.render(n,F0)}function R_(e){var t=new wi;t.add(new Vt(Qc[0],e)),zt.compile(t,F0)}function fM(e){var t=new ir(3*Fi,3*Fi,e);return t.texture.mapping=lf,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function B0(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function hM(e){var t=zt.autoClear;zt.autoClear=!1;for(var n=1;n<_E;n++){var r=Math.sqrt(Hh[n]*Hh[n]-Hh[n-1]*Hh[n-1]),i=oM[(n-1)%oM.length];yE(e,n-1,n,r,i)}zt.autoClear=t}function yE(e,t,n,r,i){dM(e,rp,t,n,r,"latitudinal",i),dM(rp,e,n,n,r,"longitudinal",i)}function dM(e,t,n,r,i,a,s){a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var u=3,c=new wi;c.add(new Vt(Qc[r],np));var f=np.uniforms,h=sM[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*cu-1),v=i/d,m=isFinite(i)?1+Math.floor(u*v):cu;m>cu&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${cu}`);for(var _=[],g=0,y=0;y<cu;++y){var E=y/v,w=Math.exp(-E*E/2);_.push(w),y==0?g+=w:y<m&&(g+=2*w)}for(var y=0;y<_.length;y++)_[y]=_[y]/g;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=_,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s),f.dTheta.value=d,f.mipInt.value=ss-n,f.inputEncoding.value=qi[e.texture.encoding],f.outputEncoding.value=qi[e.texture.encoding];var M=sM[r],E=3*Math.max(0,Fi-2*M),S=(r===0?0:2*Fi)+2*M*(r>ss-Eu?r-ss+Eu:0);B0(t,E,S,3*M,2*M),zt.setRenderTarget(t),zt.render(c,F0)}function F5(e){var t=new Float32Array(e),n=new B(0,1,0),r=new vs({defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:qi[Br]},outputEncoding:{value:qi[Br]}},vertexShader:z0(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${U0()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

void main() {
	gl_FragColor = vec4(0.0);
	for (int i = 0; i < n; i++) {
		if (i >= samples)
			break;
		for (int dir = -1; dir < 2; dir += 2) {
			if (i == 0 && dir == 1)
				continue;
			vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
			if (all(equal(axis, vec3(0.0))))
				axis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);
			axis = normalize(axis);
			float theta = dTheta * float(dir * i);
			float cosTheta = cos(theta);
			// Rodrigues' axis-angle rotation
			vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross(axis, vOutputDirection) * sin(theta)
					+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
			gl_FragColor.rgb +=
					weights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);
		}
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:rs,depthTest:!1,depthWrite:!1});return r.type="SphericalGaussianBlur",r}function xE(){var e=new le(1,1),t=new vs({uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:qi[Br]},outputEncoding:{value:qi[Br]}},vertexShader:z0(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${U0()}

#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv;
	uv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;
	uv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:rs,depthTest:!1,depthWrite:!1});return t.type="EquirectangularToCubeUV",t}function wE(){var e=new vs({uniforms:{envMap:{value:null},inputEncoding:{value:qi[Br]},outputEncoding:{value:qi[Br]}},vertexShader:z0(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${U0()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:rs,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}function z0(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function U0(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}ze.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ze.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(es.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Je,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new B(i.x,i.y,i.z||0))}return t}});Object.assign(Ii.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(Gr.prototype);Object.create(Gr.prototype);function bE(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Gr.call(this,e),this.type="catmullrom"}bE.prototype=Object.create(Gr.prototype);Object.assign(bE.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});A_.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Yc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(It.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),aE.extractUrlBase(e)}});It.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(M_.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(pE.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Yi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});cf.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};vE.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(ct,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ct.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ct.ceilPowerOfTwo(e)}});Object.assign(Vn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(dt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new B().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}});Ri.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};yr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(il.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(Dn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(Dn,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Dn.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Dn.getNormal(e,t,n,r)}});Object.assign(io.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Uu(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Hu(this,e)}});Object.assign(le.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(B.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Gt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Je.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(xe.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(xe.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Vt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Vt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TU},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Cd.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Yg.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Pd.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(ze.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});rn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(jt.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Ze.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===yc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(yc)}}});Object.assign(Ze.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?yc:yp),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ee.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ze(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ee.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(ds.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===yc},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(ds.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?yc:yp),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ta.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(T_.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Xe.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Se}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===ET}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(go.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Bn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(wp.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(wp.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?L0:Br}}});Object.defineProperties(ZT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(ir.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(qc.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,n=new S_;return n.load(e,function(r){t.setBuffer(r)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});cE.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};bc.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};fo.crossOrigin=void 0;fo.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Vc;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a};fo.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new u_;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a};fo.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};fo.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vz}}));const B5=`
  varying vec2 vUv;
  varying vec3 v_position;
  uniform float time;
  uniform float blend;
  uniform float scrollFactor;
  uniform sampler2D original;
  uniform sampler2D target;

  uniform vec2 u_mouse;

  void main() {
    vUv = uv;
    v_position = position.xyz;

    vec3 vecPos = position;

    float roundblend = sin(3.1415926*blend);
    float stepblend = clamp( 2.*(v_position.x *scrollFactor) +3.*blend - 1., 0.,1.);
    float originalR = texture2D(original,vUv).r;
    float targetR = texture2D(target,vUv).r;

    v_position.z = 0.2 * mix(originalR, targetR, stepblend) + roundblend * -0.1 * sin(v_position.x * 1. + time / 100.);
    // v_position.x = position.x + roundblend * -0.2 * sin(v_position.z * -8. + v_position.y * 1.6 + v_position.x*1.5 + blend);

    gl_Position = projectionMatrix * modelViewMatrix * vec4(v_position, 1.0);
  }
`,z5=`
  varying vec2 vUv;

  uniform sampler2D original;
  uniform sampler2D target;

  uniform float blend;
  uniform float time;
  uniform float u_scrollProgress;
  uniform vec2 u_mouse;

  #define PI 3.14159265358979323846
  #define HALFPI PI * 0.5
  #define DISSOLVE_COLOR vec4(0.0,0.0,0.0,0.0)
  #define IDLE_DISSOLVE_FACTOR 0.015

  float rand(vec2 c, float time){
    return fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453 + time);
  }

  vec4 dissolve() {
    float p = 0.5; //Distance
    float a = 0.2 * PI; //Angle
    float s;

    s = smoothstep(-0.1, 1., sin(HALFPI * (1. - blend)) + sin(HALFPI * u_scrollProgress));

    vec2 uv = vUv;

    float r = rand(uv, time);
    vec2 f = vec2(cos(a) * s, sin(a) * s);
    uv.x += r * f.x * p * s + IDLE_DISSOLVE_FACTOR * r * sin(-u_mouse.x);
    uv.y += r * f.y * p * s + IDLE_DISSOLVE_FACTOR * r * sin(-u_mouse.y);

    vec4 originalTexture = texture2D(original, uv);
    vec4 target = texture2D(target, uv);

    float transformProgress = clamp(u_scrollProgress * 3.6, 0.0, 1.0);

    vec4 c = mix(originalTexture, target, transformProgress);

    vec2 n = normalize(uv.xy - f);
    float d = dot(f, n);

    if (d < 0.0) {
      discard;
    }

    c = mix(c, DISSOLVE_COLOR, s); //c.a = s,

    return c;
  }

  void main() {
    vec4 dissolvedImage = dissolve();

    gl_FragColor += dissolvedImage;
  }
`,U5=`
  varying vec2 vUv;

  void main() {
    vUv = uv;

    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,G5=`

uniform float time;
uniform vec2 u_resolution;
uniform float bailProgress;
uniform float blend;
varying vec2 vUv;

float normnoise(float noise) {
  return 0.5*(noise+1.0);
}

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

vec4 permute(vec4 x)
{
  return mod(((x*34.0)+1.0)*x, 289.0);
}

vec3 random3(vec3 c) {
	float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
	vec3 r;
	r.z = fract(512.0*j);
	j *= .125;
	r.x = fract(512.0*j);
	j *= .125;
	r.y = fract(512.0*j);
	return r-0.5;
}

const float F3 =  0.3333333;
const float G3 =  0.1666667;
float snoise(vec3 p) {

	vec3 s = floor(p + dot(p, vec3(F3)));
	vec3 x = p - s + dot(s, vec3(G3));
	 
	vec3 e = step(vec3(0.0), x - x.yzx);
	vec3 i1 = e*(1.0 - e.zxy);
	vec3 i2 = 1.0 - e.zxy*(1.0 - e);
	 	
	vec3 x1 = x - i1 + G3;
	vec3 x2 = x - i2 + 2.0*G3;
	vec3 x3 = x - 1.0 + 3.0*G3;
	 
	vec4 w, d;
	 
	w.x = dot(x, x);
	w.y = dot(x1, x1);
	w.z = dot(x2, x2);
	w.w = dot(x3, x3);
	 
	w = max(0.6 - w, 0.0);
	 
	d.x = dot(random3(s), x);
	d.y = dot(random3(s + i1), x1);
	d.z = dot(random3(s + i2), x2);
	d.w = dot(random3(s + 1.0), x3);
	 
	w *= w;
	w *= w;
	d *= w;
	 
	return dot(d, vec4(52.0));
}

  float clouds(vec2 uv) {
    uv -= vec2(0.07 * time, time*0.04);

    vec2 off1 = vec2(50.0,33.0);
    vec2 off2 = vec2(0.0, 0.0);
    vec2 off3 = vec2(-300.0, 50.0);
    vec2 off4 = vec2(-100.0, 200.0);
    vec2 off5 = vec2(400.0, -200.0);
    vec2 off6 = vec2(100.0, -1000.0);
    float scale1 = 3.0;
    float scale2 = 6.0;
    float scale3 = 12.0;
    float scale4 = 24.0;
    float scale5 = 48.0;
    float scale6 = 96.0;

    // return normnoise(snoise(vec3((uv+off1)*scale1,time*0.5))*0.8 +
    //                   snoise(vec3((uv+off2)*scale2,time*0.4))*0.4 +
    //                   snoise(vec3((uv+off3)*scale3,time*0.1))*0.2 +
    //                   snoise(vec3((uv+off4)*scale4,time*0.7))*0.1 +
    //                   snoise(vec3((uv+off5)*scale5,time*0.2))*0.05 +
    //                   snoise(vec3((uv+off6)*scale6,time*0.3))*0.025);

    return normnoise(snoise(vec3((uv+off2)*scale2,time*0.4))*0.4 +
                      snoise(vec3((uv+off3)*scale3,time*0.1))*0.2 +
                      snoise(vec3((uv+off5)*scale5,time*0.2))*0.05);
  }

  void main() {
    vec2 uv = gl_FragCoord.xy / u_resolution.x;

    vec2 smokeOrigin = vec2(0.45, 0.35);

    vec2 light = vec2(
      0.1 + (sin(time * 2.) - 0.5) * 0.2,
      -0.5 + cos(time * 4.) * 0.05
    ) * 0.2 + smokeOrigin;

    light.x += (bailProgress - 1.0) * 0.4 * step(1.001, bailProgress);
    light.y -= (bailProgress - 1.0) * 0.1 * step(1.001, bailProgress);

    vec3 lightColor = vec3(0.6, 0.6, 0.6 + abs(sin(time / 2.) * 0.05));

    float cloudIntensity = 0.7 * (1.0-(2.5*distance(uv, light))) * blend;

    gl_FragColor = vec4(vec3(cloudIntensity * clouds(uv)) * lightColor, 1.);

    // gl_FragColor = vec4(1.0);
  }
`,H5="/assets/wolf-face2.8ae45e05.png",k5="/assets/myface-2.2e07de42.png";var W5=function(){var t=this,n=t._self._c;return n("div",{ref:"canvas",staticClass:"intro__canvas"})},V5=[];const ec={intro:{start:0,end:.9,startAnim:0,endAnim:.8},mywork:{start:.6,end:1.8,startAnim:.8,endAnim:1.4}},$5=function(){this.scrollProgress=0,this.workBlend=0,this.workBlendTl=Or.timeline({paused:!0}),this.workBlendTl.to(this,{duration:1.5,workBlend:1,ease:BF.easeOut}),this.blend=0,this.projectList=[]},bn=new $5,j5=function(){const{currentSection:e,sectionProgress:t}=this.$store.state.scrollState;bn.currentSection=e,bn.sectionProgress=t,bn.scrollProgress=e+t,bn.scrollProgress>=ec.mywork.startAnim&&bn.scrollProgress<=ec.mywork.endAnim?bn.workBlendTl.reversed(0).timeScale(1).play():bn.workBlendTl.timeScale(5).reversed(1)};class q5{constructor(t){this.init(t)}loadImages(){const t=H5,n=k5,r=new Vc,i=[];function a(s){s.minFilter=Mn,s.wrapS=nr,s.wrapT=mc}return this.workImages=[],bn.projectList.forEach((s,u)=>{s.image||console.warn("Invalid image for project "+s.id),i.push(new Promise(c=>{r.load(s.image,f=>{a(f),this.workImages[u]=f,c()})}))}),i.push(new Promise(s=>{r.load(t,u=>{a(u),this.image1=u,s()})})),i.push(new Promise(s=>{r.load(n,u=>{this.image2=u,s()})})),Promise.all(i)}async init(t){typeof t=="string"?this.container=document.getElementById(t):this.container=t,this.state={isActive:!0,transitBlend:0},this.time=0,await this.loadImages(),this.initScene(),this.addObjectsToScene(),this.onWindowResize(),this.animate()}addObjectsToScene(){this.addIntroToScene(),this.addSmokeToScene()}addIntroToScene(){this.geometry=new Sa(.6,.6,1,1),this.material=new Bn({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},uniforms:this.uniforms,vertexShader:B5,fragmentShader:z5,depthTest:1,transparent:1}),this.plane=new Vt(this.geometry,this.material),this.plane.name="Intro"}addSmokeToScene(){const{clientWidth:t,clientHeight:n}=this.container,r=new Sa(t/n,1,1,1),i=new Bn({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},uniforms:this.uniforms,vertexShader:U5,fragmentShader:G5,transparent:!1,depthTest:!1,precision:"highp"}),a=new Vt(r,i);a.name="Smoke",this.scene2.add(a)}onWindowResize(){const{clientWidth:t,clientHeight:n}=this.container;if(this.renderer.setSize(t,n,!0),this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),window.innerWidth<768){this.plane.position.y=.1,this.plane.position.z=-.3;const r=window.innerWidth,i=window.innerHeight,a=Math.max(r,i)/Math.min(r,i)+.5;this.scene2.getObjectByName("Smoke").scale.set(a,1,1)}else this.plane.position.y=0,this.plane.position.z=0,this.scene2.getObjectByName("Smoke").scale.set(1,1,1);this.renderer.setPixelRatio(1)}initScene(){const{clientWidth:t,clientHeight:n}=this.container;this.uniforms={blend:{value:bn.blend},u_scrollProgress:{value:bn.scrollProgress},u_resolution:{type:"vec2",value:new le(t,n)},time:{value:this.time},original:{type:"t",value:this.image1},target:{type:"t",value:this.image2}},this.scene=new wi,this.scene2=new wi,this.camera=new rn(53,t/n,.1,1e3),this.camera.position.set(0,0,1),this.renderer=new wp({precision:"lowp",alpha:!1,depth:!1,antialias:!1,powerPreference:"high-performance"}),this.renderer.autoClear=!1,this.renderer.setClearColor(0,0),this.renderer.getContext().getExtension("OES_standard_derivatives"),this.container.appendChild(this.renderer.domElement)}update(){!this.uniforms||(this.time+=.01,this.uniforms.time.value=this.time,this.uniforms.blend.value=bn.blend,this.uniforms.u_scrollProgress.value=bn.scrollProgress,this.updateIntro(),this.updateMyWork())}updateIntro(){const t=this.scene.getObjectByName("Intro");!t||(bn.scrollProgress>=ec.intro.start&&bn.scrollProgress<=ec.intro.end?t.visible=!0:t.visible=!1)}updateMyWork(){const t=this.scene.getObjectByName("MyWork");if(!t)return;if(!bn.sectionProgress)return t.visible=!1;const{start:n,end:r}=ec.mywork;bn.scrollProgress>=n&&bn.scrollProgress<=r?t.visible=!0:t.visible=!1}animate(){window.requestAnimationFrame(this.animate.bind(this)),this.state.isActive&&(this.update(),this.render())}render(){this.renderer.clear(),window.innerWidth>768&&this.renderer.render(this.scene2,this.camera),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera)}unpause(){this.state.isActive=!0}pause(){this.state.isActive=!1}}const X5={name:"IntroCanvas",data(){return{canvas:null,tl:null}},computed:{isInitted(){return this.$store.state.isInitted},onScrollCanvasFunc(){return j5.bind(this)},currentProject(){return this.$store.state.projectState.currentProject},projectList(){return this.$store.state.projectState.projectList}},watch:{isInitted(e){!e||this.startAnimation()},projectList(){this.init()}},beforeDestroy(){cancelAnimationFrame(this.canvas.animate),document.removeEventListener("resize",this.canvas.onWindowResize),window.removeEventListener("scroll",this.onScrollCanvasFunc),this.canvas=null},mounted(){this.init()},methods:{init(){bn.projectList=this.projectList,this.canvas=new q5(this.$refs.canvas),window.addEventListener("resize",this.canvas.onWindowResize.bind(this.canvas)),window.addEventListener("scroll",this.onScrollCanvasFunc),this.onScrollCanvasFunc()},startAnimation(){Or.fromTo(bn,2.5,{blend:0},{blend:1})}}};var Y5=Xi(X5,W5,V5,!1,null,null,null,null);const Z5=Y5.exports,J5=`
uniform float time;

varying vec2 v_uv;
varying vec3 v_position;
varying vec3 v_normal;

float hash(float n) { return fract(sin(n) * 1e4); }
float hash(vec2 p) { return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); }

float noise(vec2 x) {
  vec2 i = floor(x);
  vec2 f = fract(x);

  // Four corners in 2D of a tile
  float a = hash(i);
  float b = hash(i + vec2(1.0, 0.0));
  float c = hash(i + vec2(0.0, 1.0));
  float d = hash(i + vec2(1.0, 1.0));

  // Simple 2D lerp using smoothstep envelope between the values.
  // return vec3(mix(mix(a, b, smoothstep(0.0, 1.0, f.x)),
  //          mix(c, d, smoothstep(0.0, 1.0, f.x)),
  //          smoothstep(0.0, 1.0, f.y)));

  // Same code, with the clamps in smoothstep and common subexpressions
  // optimized away.
  vec2 u = f * f * (3.0 - 2.0 * f);
  return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
}

void main() {
  v_uv = uv;
  v_normal = normal;

  vec3 pos = position;
  float noiseFreq = 2.5;
  float noiseAmp = 0.06;
  vec3 noisePos = vec3(pos.x * noiseFreq - time * 0.5, pos.y, pos.z);
  float noiseFactor = noise(noisePos.xx * 1.25) * noiseAmp;
  // Waving
  pos.z += noiseFactor;
  pos.x += noiseFactor;
  v_position = pos;

  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
}
`,K5=`
#define PI 3.14159265359

uniform float time;
uniform sampler2D u_workImage;
uniform sampler2D u_nextWorkImage;
uniform vec2 u_resolution;
uniform float u_transitBlend;

varying vec2 v_uv;
varying vec3 v_position;

float hash(float n) { return fract(sin(n) * 1e4); }
float hash(vec2 p) { return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); }

float noise(vec2 x) {
  vec2 i = floor(x);
  vec2 f = fract(x);

  // Four corners in 2D of a tile
  float a = hash(i);
  float b = hash(i + vec2(1.0, 0.0));
  float c = hash(i + vec2(0.0, 1.0));
  float d = hash(i + vec2(1.0, 1.0));

  // Simple 2D lerp using smoothstep envelope between the values.
  // return vec3(mix(mix(a, b, smoothstep(0.0, 1.0, f.x)),
  //          mix(c, d, smoothstep(0.0, 1.0, f.x)),
  //          smoothstep(0.0, 1.0, f.y)));

  // Same code, with the clamps in smoothstep and common subexpressions
  // optimized away.
  vec2 u = f * f * (3.0 - 2.0 * f);
  return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
}

void main() {
  vec2 uv = gl_FragCoord.xy / u_resolution;

  float nf = noise(uv * 181.0);
  float curvyY = pow(cos(PI * uv.y), 2.);

  float blend = u_transitBlend; 
  vec2 directionVec = vec2(0.5, curvyY) * (1.0 - blend);
  vec2 effectVec = nf * (1.0 - blend) * directionVec * 1.5;

  vec4 currentTexture = texture2D(u_workImage, v_uv);
  vec4 nextTexture = texture2D(u_nextWorkImage, v_uv + effectVec);

  gl_FragColor = mix(currentTexture, nextTexture, blend);

  float brightness = (v_position.z * 10.0 + 1.0) * 0.5 + 0.13;
  gl_FragColor *= brightness;
}
`;var Q5=Object.defineProperty,eW=Object.getOwnPropertyDescriptor,tW=(e,t,n,r)=>{for(var i=r>1?void 0:r?eW(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Q5(t,n,i),i};class nW{constructor(){kt(this,"scrollProgress",1);kt(this,"sectionProgress",.5);kt(this,"transitBlend",0);kt(this,"currentSection",0)}}const pa=new nW;class rW{constructor({container:t,state:n}){kt(this,"container");kt(this,"state",{isActive:!0,transitBlend:0});kt(this,"time",0);kt(this,"projectImages",[new Ot]);kt(this,"scene");kt(this,"uniforms",{});kt(this,"renderer");kt(this,"plane");kt(this,"camera",new rn);kt(this,"nextWorkImage");kt(this,"currentWorkImage");kt(this,"transitTimeline",Or.timeline());this.state={...this.state,...n},this.init(t)}loadImages(){const t=new Vc,n=[];function r(i){i.minFilter=dn}return x0.forEach((i,a)=>{n.push(new Promise(s=>{t.load(i.image,u=>{r(u),this.projectImages[a+1]=u,s(1)})}))}),Promise.all(n)}async init(t){this.container=t,this.time=0,await this.loadImages(),this.initScene(),this.addObjectsToScene(),this.onWindowResize(),this.animate()}addObjectsToScene(){this.projectImages.push(new Ot),this.addMyWorkSceneObject()}addMyWorkSceneObject(){const{clientWidth:t,clientHeight:n}=this.container;this.uniforms={u_resolution:{type:"vec2",value:new le(t,n)},time:{value:this.time},u_workImage:{type:"t",value:this.currentWorkImage},u_nextWorkImage:{type:"t",value:this.nextWorkImage},u_transitBlend:{value:pa.transitBlend}};const r=new Sa(.5,.375,32,16),i=new Bn({vertexShader:J5,fragmentShader:K5,uniforms:this.uniforms,blending:Ig}),a=new Vt(r,i);a.name="MyWork",a.position.setX(-.035),a.rotation.set(-.03,0,-.01),this.plane=a,this.scene.add(a)}onWindowResize(){const{clientWidth:t,clientHeight:n}=this.container;if(!this.renderer)return;const r=Math.min(window.innerWidth,t),i=Math.max(window.innerHeight*.3*.95,n);this.renderer.setSize(r,i,!0),this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(1),window.innerWidth<768?(this.plane.position.y=.1,this.plane.position.z=-.3):(this.plane.position.y=0,this.plane.position.z=-.1)}initScene(){const{clientWidth:t,clientHeight:n}=this.container;this.currentWorkImage=this.projectImages[0],this.nextWorkImage=this.projectImages[1],this.scene=new wi,this.camera=new rn(45,t/n,.1,1e3),this.camera.position.set(0,0,.5),this.renderer=new wp({precision:"highp",antialias:!0,powerPreference:"high-performance",alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(16711680,0),this.renderer.getContext().getExtension("OES_standard_derivatives"),this.container.appendChild(this.renderer.domElement)}update(){!this.uniforms||(this.time+=.01,this.uniforms.time.value=this.time,this.uniforms.u_transitBlend.value=pa.transitBlend,this.uniforms.u_workImage.value=this.currentWorkImage,this.uniforms.u_nextWorkImage.value=this.nextWorkImage)}animate(){window.requestAnimationFrame(this.animate.bind(this)),this.state.isActive&&(this.update(),this.render())}render(){!this.renderer||(this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera))}unpause(){this.state.isActive=!0}pause(){this.state.isActive=!1}transit(t){this.currentWorkImage=this.projectImages[t],this.nextWorkImage=this.projectImages[t+1]}}let O_=class extends bt{constructor(){super(...arguments);kt(this,"canvas");kt(this,"currentWorkIndex",0)}get onScrollCanvasEvent(){return this.onScrollCanvas.bind(this)}onScrollCanvas(){var s;if(!this.canvas)return;const{currentSection:t,sectionProgress:n}=this.$store.state.scrollState,r=t+n;pa.currentSection=t,pa.sectionProgress=n,pa.scrollProgress=t+n;const i=1,a=this.canvas.projectImages.length;if(r>.1&&t<=a-i){pa.transitBlend=n,this.canvas.state.isActive=!0;const u=Math.min(Math.max(0,t),a);if(this.currentWorkIndex==u)return;this.currentWorkIndex=u,(s=this.canvas)==null||s.transit(u);return}this.canvas.state.isActive=!1}get onWindowResizeFunc(){var t;return(t=this.canvas)==null?void 0:t.onWindowResize.bind(this.canvas)}mounted(){const{currentSection:t,sectionProgress:n}=this.$store.state.scrollState;pa.currentSection=t,pa.sectionProgress=n,pa.scrollProgress=t+n,this.onScrollCanvasEvent(),this.canvas=new rW({container:this.$refs.canvas,state:{isActive:!1}}),this.addEventListeners(),this.onWindowResizeFunc&&window.addEventListener("resize",this.onWindowResizeFunc)}get isIOS(){return pp().apple.phone}loop(){this.onScrollCanvasEvent(),requestAnimationFrame(this.loop)}addEventListeners(){document.addEventListener("scroll",this.onScrollCanvasEvent),this.isIOS&&this.loop()}beforeDestroy(){document.removeEventListener("scroll",this.onScrollCanvasEvent),this.isIOS&&this.loop(),this.onWindowResizeFunc&&window.removeEventListener("resize",this.onWindowResizeFunc)}};O_=tW([xs],O_);const iW=O_;var aW=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("div",{ref:"canvas",staticClass:"tw-w-full tw-h-3/5 lg:tw-h-2/3"})},sW=[],oW=Xi(iW,aW,sW,!1,null,null,null,null);const uW=oW.exports;var lW=Object.defineProperty,cW=Object.getOwnPropertyDescriptor,ME=(e,t,n,r)=>{for(var i=r>1?void 0:r?cW(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&lW(t,n,i),i};let ip=class extends bt{constructor(){super(...arguments);kt(this,"projects",x0);kt(this,"loopId")}updateScrollState(){const t=this.$refs.sections;let n=0,r=0;const i=t.length,a=30;for(let s=i-1;s>=0;s--){const c=t[s].getBoundingClientRect(),f=c.top;if(f-a<0){n=s,r=Math.abs(f)/c.height;break}}this.$store.commit("setScrollState",{currentSection:n,sectionProgress:r})}get updateScrollStateFunc(){return this.updateScrollState.bind(this)}get isInitted(){return this.$store.state.isInitted}get isIOS(){return pp().apple.phone}onInitted(t){this.isIOS&&t&&require("inobounce")}loop(){this.updateScrollStateFunc(),requestAnimationFrame(this.loop)}mounted(){window.addEventListener("scroll",this.updateScrollStateFunc,!1),this.isIOS&&this.loop()}beforeDestroy(){window.removeEventListener("scroll",this.updateScrollStateFunc),this.isIOS&&this.loopId&&cancelAnimationFrame(this.loopId)}};ME([w0("isInitted")],ip.prototype,"onInitted",1);ip=ME([xs({components:{IntroCanvas:Z5,Intro:nz,Guide:DB,MyWork:lz,ContactMe:pz,Preloader:EB,MyWorkCanvas:uW}})],ip);const fW=ip,hW="/assets/logo.a524eafd.svg";var dW=function(){var t=this,n=t._self._c;return t._self._setupProxy,n("div",{staticClass:"tw-max-w-screen",class:{"tw-max-h-screen":t.isIOS,"tw-overflow-auto":t.isIOS&&t.isInitted,"tw-overflow-hidden":!t.isInitted},style:t.isIOS?"-webkit-overflow-scrolling: touch":""},[t.isInitted?t._e():n("Preloader"),n("IntroCanvas"),n("div",{staticClass:"tw-container tw-relative"},[n("img",{staticClass:"tw-absolute tw-top-10 tw-right-0 tw-mx-auto tw-left-0 tw-w-20 tw-delay-1600 tw-duration-500 tw-transition-opacity lg:tw-right-auto lg:tw-top-20 lg:tw-left-7 lg:tw-w-16",class:{"tw-opacity-80":t.isInitted,"tw-opacity-0":!t.isInitted},attrs:{src:hW,alt:"Trung Do"}})]),n("div",{staticClass:"sections tw-max-w-full"},[n("Guide"),n("div",{directives:[{name:"multi-ref",rawName:"v-multi-ref:sections",arg:"sections"}],staticClass:"section tw-flex tw-items-center tw-z-10"},[n("Intro")],1),n("div",{staticClass:"section tw-container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-lg-7 project__imageContainer"},[n("MyWorkCanvas")],1),n("div",{staticClass:"col-12 col-lg-5"},t._l(t.projects,function(r,i){return n("div",{directives:[{name:"multi-ref",rawName:"v-multi-ref:sections",arg:"sections"}],key:i,staticClass:"project__itemWrapper"},[n("MyWork",{staticClass:"tw-flex tw-items-end lg:tw-items-center",attrs:{project:r}})],1)}),0)])]),n("div",{directives:[{name:"multi-ref",rawName:"v-multi-ref:sections",arg:"sections"}],staticClass:"section tw-flex tw-items-center contact"},[n("ContactMe")],1)],1)],1)},pW=[],vW=Xi(fW,dW,pW,!1,null,null,null,null);const mW=vW.exports;class gW{constructor(t,n){const r=document.scrollingElement||document.documentElement||document.body.parentNode||document.body;let i=!1,a=r.scrollTop;const s=r===document.body&&document.documentElement?document.documentElement:r;var u=function(){return window.requestAnimationFrame||function(d){window.setTimeout(d,1e3/50)}}();function c(){i=!0;var d=(a-r.scrollTop)/n;r.scrollTop+=d,Math.abs(d)>.5?u(c):i=!1}function f(d){return d.detail?d.deltaY?-d.deltaY/d.detail/40*(d.detail>0?1:-1):-d.detail/3:-d.deltaY/120}function h(d){d.preventDefault();const v=f(d);a+=-v*t,a=Math.max(0,Math.min(a,r.scrollHeight-s.clientHeight)),i||c()}document.addEventListener("wheel",h,{passive:!1}),document.addEventListener("mousedown",function(d){d&&(d.which==2||d.button==4)&&document.removeEventListener("wheel",h)}),document.addEventListener("mouseup",function(d){!(d&&(d.which==2||d.button==4))||(a=r.scrollTop,document.addEventListener("wheel",h,{passive:!1}))})}}const _W={name:"App",components:{Home:mW},mounted(){window.history.scrollRestoration="manual";const e=window.location.href;e.indexOf("#")<0?window.location.replace(e+"#r"):window.location.replace(e),!pp().any&&new gW(120,16)}};var yW=function(){var t=this,n=t._self._c;return n("fragment",[n("div",{attrs:{id:"r"}}),n("Home")],1)},xW=[],wW=Xi(_W,yW,xW,!1,null,null,null,null);const bW=wW.exports;function MW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){MW(e,i,n[i])})}return e}var gn=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,get:function(){return n},set:function(r){console.warn("tried to set frozen property ".concat(t," with ").concat(r))}})},vM=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n})},SW={abstract:!0,name:"Fragment",props:{name:{type:String,default:function(){return Math.floor(Date.now()*Math.random()).toString(16)}},html:{type:String,default:null}},mounted:function(){var e=this.$el,t=e.parentNode;e.__isFragment=!0,e.__isMounted=!1;var n=document.createComment("fragment#".concat(this.name,"#head")),r=document.createComment("fragment#".concat(this.name,"#tail"));e.__head=n,e.__tail=r;var i=document.createDocumentFragment();if(i.appendChild(n),Array.from(e.childNodes).forEach(function(u){var c=!u.hasOwnProperty("__isFragmentChild__");i.appendChild(u),c&&(gn(u,"parentNode",e),gn(u,"__isFragmentChild__",!0))}),i.appendChild(r),this.html){var a=document.createElement("template");a.innerHTML=this.html,Array.from(a.content.childNodes).forEach(function(u){i.appendChild(u)})}var s=e.nextSibling;t.insertBefore(i,e,!0),t.removeChild(e),gn(e,"parentNode",t),gn(e,"nextSibling",s),s&&gn(s,"previousSibling",e),e.__isMounted=!0},render:function(e){var t=this,n=this.$slots.default;return n&&n.length&&n.forEach(function(r){return r.data=pM({},r.data,{attrs:pM({fragment:t.name},(r.data||{}).attrs)})}),e("div",{attrs:{fragment:this.name}},n)}},TW={install:function(e){var t=window.Node.prototype.removeChild;window.Node.prototype.removeChild=function(i){if(!this.__isFragment){if(i.__isFragment&&i.__isMounted){for(;i.__head.nextSibling!==i.__tail;)t.call(this,i.__head.nextSibling);t.call(this,i.__head),t.call(this,i.__tail);var a=i.__head.previousSibling,s=i.__tail.nextSibling;return a&&gn(a,"nextSibling",s),s&&gn(s,"previousSibling",a),vM(i,"parentNode"),i}var u=i.previousSibling,c=i.nextSibling,f=t.call(this,i);return u&&gn(u,"nextSibling",c),c&&gn(c,"previousSibling",u),f}if(this.parentNode){var h=this.parentNode.removeChild(i);return vM(i,"parentNode"),h}};var n=window.Node.prototype.insertBefore;window.Node.prototype.insertBefore=function(i,a){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=a&&a.__isFragment&&a.__isMounted?a.__head:a;if(this.__isFragment){var c=!i.hasOwnProperty("__isFragmentChild__"),f=!s||c;c&&gn(i,"__isFragmentChild__",!0);var h=this.parentNode?this.parentNode.insertBefore(i,a):n.call(this,i,u);return f&&gn(i,"parentNode",this),h}if(i.__isFragment&&i.__isMounted){if(i===a)return void console.error("something must be wrong");gn(i,"parentNode",this),i.previousSibling&&gn(i.previousSibling,"nextSibling",i.nextSibling),i.nextSibling&&gn(i.nextSibling,"previousSibling",i.previousSibling),gn(i,"nextSibling",a),gn(i,"previousSibling",a.previousSibling),a.previousSibling&&gn(a.previousSibling,"nextSibling",i),gn(a,"previousSibling",i);for(var d=document.createDocumentFragment(),v=i.__head;v!==i.__tail;)d.appendChild(v),v=v.nextSibling;return d.appendChild(i.__tail),n.call(this,d,u),i}return n.call(this,i,u)};var r=window.Node.prototype.appendChild;window.Node.prototype.appendChild=function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.__isFragment)return r.call(this,i);if(this.parentNode){var s=!i.hasOwnProperty("__isFragmentChild__"),u=!a||s;s&&gn(i,"__isFragmentChild__",!0);var c=this.parentNode.insertBefore(i,this.__tail,a);return u&&gn(i,"parentNode",this),c}},e.component("Fragment",SW)}},SE={exports:{}};(function(e){function t(s){return s.type.indexOf("mouse")!==-1?s.clientX:s.touches[0].clientX}function n(s){return s.type.indexOf("mouse")!==-1?s.clientY:s.touches[0].clientY}var r=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,u)}catch(c){}return s}(),i=0,a={install:function(s,u){var c=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",namespace:"touch"},u);function f(S){var b=this.$$touchObj,P=S.type.indexOf("touch")>=0,D=S.type.indexOf("mouse")>=0,L=this;P&&(i=S.timeStamp),!(D&&i&&S.timeStamp-i<350)&&(b.touchStarted||(y(this),b.touchStarted=!0,b.touchMoved=!1,b.swipeOutBounded=!1,b.startX=t(S),b.startY=n(S),b.currentX=0,b.currentY=0,b.touchStartTime=S.timeStamp,b.touchHoldTimer=setTimeout(function(){b.touchHoldTimer=null,g(S,L,"touchhold")},b.options.touchHoldTolerance),g(S,this,"start")))}function h(S){var b=this.$$touchObj;if(b.currentX=t(S),b.currentY=n(S),b.touchMoved){if(!b.swipeOutBounded){var D=b.options.swipeTolerance;b.swipeOutBounded=Math.abs(b.startX-b.currentX)>D&&Math.abs(b.startY-b.currentY)>D}}else{var P=b.options.tapTolerance;b.touchMoved=Math.abs(b.startX-b.currentX)>P||Math.abs(b.startY-b.currentY)>P,b.touchMoved&&(M(b),g(S,this,"moved"))}b.touchMoved&&g(S,this,"moving")}function d(){var S=this.$$touchObj;M(S),w(this),S.touchStarted=S.touchMoved=!1,S.startX=S.startY=0}function v(S){var b=this.$$touchObj,P=S.type.indexOf("touch")>=0,D=S.type.indexOf("mouse")>=0;P&&(i=S.timeStamp);var L=P&&!b.touchHoldTimer;if(M(b),b.touchStarted=!1,w(this),!(D&&i&&S.timeStamp-i<350))if(g(S,this,"end"),b.touchMoved){if(!b.swipeOutBounded){var F=b.options.swipeTolerance,H,q=Math.abs(b.startY-b.currentY),I=Math.abs(b.startX-b.currentX);(q>F||I>F)&&(q>I?H=b.startY>b.currentY?"top":"bottom":H=b.startX>b.currentX?"left":"right",b.callbacks["swipe."+H]?g(S,this,"swipe."+H,H):g(S,this,"swipe",H))}}else if(b.callbacks.longtap&&S.timeStamp-b.touchStartTime>b.options.longTapTimeInterval)S.cancelable&&S.preventDefault(),g(S,this,"longtap");else if(b.callbacks.touchhold&&L){S.cancelable&&S.preventDefault();return}else g(S,this,"tap")}function m(){y(this)}function _(){w(this)}function g(S,b,P,D){var L=b.$$touchObj,F=L&&L.callbacks[P]||[];if(F.length===0)return null;for(var H=0;H<F.length;H++){var q=F[H];q.modifiers.stop&&S.stopPropagation(),q.modifiers.prevent&&S.cancelable&&S.preventDefault(),!(q.modifiers.self&&S.target!==S.currentTarget)&&typeof q.value=="function"&&(D?q.value(D,S):q.value(S))}}function y(S){var b=S.$$touchObj.options.touchClass;b&&S.classList.add(b)}function w(S){var b=S.$$touchObj.options.touchClass;b&&S.classList.remove(b)}function M(S){S.touchHoldTimer&&(clearTimeout(S.touchHoldTimer),S.touchHoldTimer=null)}function E(S,b){var P=S.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:c};return b&&(P.options=Object.assign({},P.options,b)),S.$$touchObj=P,S.$$touchObj}s.directive(c.namespace,{bind:function(S,b){var P=E(S),D=r?{passive:!0}:!1,L=b.arg||"tap";switch(L){case"swipe":var F=b.modifiers;if(F.left||F.right||F.top||F.bottom){for(var H in b.modifiers)if(["left","right","top","bottom"].indexOf(H)>=0){var q="swipe."+H;P.callbacks[q]=P.callbacks[q]||[],P.callbacks[q].push(b)}}else P.callbacks.swipe=P.callbacks.swipe||[],P.callbacks.swipe.push(b);break;case"start":case"moving":b.modifiers.disablePassive&&(D=!1);default:P.callbacks[L]=P.callbacks[L]||[],P.callbacks[L].push(b)}P.hasBindTouchEvents||(S.addEventListener("touchstart",f,D),S.addEventListener("touchmove",h,D),S.addEventListener("touchcancel",d),S.addEventListener("touchend",v),P.options.disableClick||(S.addEventListener("mousedown",f),S.addEventListener("mousemove",h),S.addEventListener("mouseup",v),S.addEventListener("mouseenter",m),S.addEventListener("mouseleave",_)),P.hasBindTouchEvents=!0)},unbind:function(S){S.removeEventListener("touchstart",f),S.removeEventListener("touchmove",h),S.removeEventListener("touchcancel",d),S.removeEventListener("touchend",v),S.$$touchObj&&!S.$$touchObj.options.disableClick&&(S.removeEventListener("mousedown",f),S.removeEventListener("mousemove",h),S.removeEventListener("mouseup",v),S.removeEventListener("mouseenter",m),S.removeEventListener("mouseleave",_)),delete S.$$touchObj}}),s.directive(c.namespace+"-class",{bind:function(S,b){E(S,{touchClass:b.value})}}),s.directive(c.namespace+"-options",{bind:function(S,b){E(S,b.value)}})}};e.exports=a})(SE);const EW=SE.exports,AW=zB(kN);function mM(e,t,n){const r=t.arg,i=n.context,a=n.componentInstance||n.elm;i.$refs.hasOwnProperty(r)||(i.$refs[r]=[]),i.$refs[r].indexOf(a)==-1&&n.context.$refs[r].push(a)}function CW(e,{arg:t},{context:n},r){if(n.$refs.hasOwnProperty(t)){const i=n.$refs[t],a=r.componentInstance||r.elm,s=i.indexOf(a);s&&i.splice(s,1)}}const PW=window.Vue||AW.default;PW.directive("multi-ref",{bind:mM,update:mM,unbind:CW});/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function LW(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var n=e.prototype._init;e.prototype._init=function(i){i===void 0&&(i={}),i.init=i.init?[r].concat(i.init):r,n.call(this,i)}}function r(){var i=this.$options;i.store?this.$store=typeof i.store=="function"?i.store():i.store:i.parent&&i.parent.$store&&(this.$store=i.parent.$store)}}var RW=typeof window<"u"?window:typeof global<"u"?global:{},ou=RW.__VUE_DEVTOOLS_GLOBAL_HOOK__;function OW(e){!ou||(e._devtoolHook=ou,ou.emit("vuex:init",e),ou.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,n){ou.emit("vuex:mutation",t,n)},{prepend:!0}),e.subscribeAction(function(t,n){ou.emit("vuex:action",t,n)},{prepend:!0}))}function IW(e,t){return e.filter(t)[0]}function I_(e,t){if(t===void 0&&(t=[]),e===null||typeof e!="object")return e;var n=IW(t,function(i){return i.original===e});if(n)return n.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach(function(i){r[i]=I_(e[i],t)}),r}function sl(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function TE(e){return e!==null&&typeof e=="object"}function DW(e){return e&&typeof e.then=="function"}function NW(e,t){return function(){return e(t)}}var Si=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},EE={namespaced:{configurable:!0}};EE.namespaced.get=function(){return!!this._rawModule.namespaced};Si.prototype.addChild=function(t,n){this._children[t]=n};Si.prototype.removeChild=function(t){delete this._children[t]};Si.prototype.getChild=function(t){return this._children[t]};Si.prototype.hasChild=function(t){return t in this._children};Si.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Si.prototype.forEachChild=function(t){sl(this._children,t)};Si.prototype.forEachGetter=function(t){this._rawModule.getters&&sl(this._rawModule.getters,t)};Si.prototype.forEachAction=function(t){this._rawModule.actions&&sl(this._rawModule.actions,t)};Si.prototype.forEachMutation=function(t){this._rawModule.mutations&&sl(this._rawModule.mutations,t)};Object.defineProperties(Si.prototype,EE);var bo=function(t){this.register([],t,!1)};bo.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};bo.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};bo.prototype.update=function(t){AE([],this.root,t)};bo.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var a=new Si(n,r);if(t.length===0)this.root=a;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],a)}n.modules&&sl(n.modules,function(u,c){i.register(t.concat(c),u,r)})};bo.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};bo.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function AE(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;AE(e.concat(r),t.getChild(r),n.modules[r])}}var dr,kr=function(t){var n=this;t===void 0&&(t={}),!dr&&typeof window<"u"&&window.Vue&&LE(window.Vue);var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new bo(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new dr,this._makeLocalGettersCache=Object.create(null);var a=this,s=this,u=s.dispatch,c=s.commit;this.dispatch=function(v,m){return u.call(a,v,m)},this.commit=function(v,m,_){return c.call(a,v,m,_)},this.strict=i;var f=this._modules.root.state;bp(this,f,[],this._modules.root),H0(this,f),r.forEach(function(d){return d(n)});var h=t.devtools!==void 0?t.devtools:dr.config.devtools;h&&OW(this)},G0={state:{configurable:!0}};G0.state.get=function(){return this._vm._data.$$state};G0.state.set=function(e){};kr.prototype.commit=function(t,n,r){var i=this,a=ap(t,n,r),s=a.type,u=a.payload,c={type:s,payload:u},f=this._mutations[s];!f||(this._withCommit(function(){f.forEach(function(d){d(u)})}),this._subscribers.slice().forEach(function(h){return h(c,i.state)}))};kr.prototype.dispatch=function(t,n){var r=this,i=ap(t,n),a=i.type,s=i.payload,u={type:a,payload:s},c=this._actions[a];if(!!c){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(u,r.state)})}catch(h){}var f=c.length>1?Promise.all(c.map(function(h){return h(s)})):c[0](s);return new Promise(function(h,d){f.then(function(v){try{r._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(u,r.state)})}catch(m){}h(v)},function(v){try{r._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(u,r.state,v)})}catch(m){}d(v)})})}};kr.prototype.subscribe=function(t,n){return CE(t,this._subscribers,n)};kr.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return CE(r,this._actionSubscribers,n)};kr.prototype.watch=function(t,n,r){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},n,r)};kr.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._vm._data.$$state=t})};kr.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),bp(this,this.state,t,this._modules.get(t),r.preserveState),H0(this,this.state)};kr.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=k0(n.state,t.slice(0,-1));dr.delete(r,t[t.length-1])}),PE(this)};kr.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};kr.prototype.hotUpdate=function(t){this._modules.update(t),PE(this,!0)};kr.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(kr.prototype,G0);function CE(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function PE(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;bp(e,n,[],e._modules.root,!0),H0(e,n,t)}function H0(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,a={};sl(i,function(u,c){a[c]=NW(u,e),Object.defineProperty(e.getters,c,{get:function(){return e._vm[c]},enumerable:!0})});var s=dr.config.silent;dr.config.silent=!0,e._vm=new dr({data:{$$state:t},computed:a}),dr.config.silent=s,e.strict&&HW(e),r&&(n&&e._withCommit(function(){r._data.$$state=null}),dr.nextTick(function(){return r.$destroy()}))}function bp(e,t,n,r,i){var a=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!a&&!i){var u=k0(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){dr.set(u,c,r.state)})}var f=r.context=FW(e,s,n);r.forEachMutation(function(h,d){var v=s+d;zW(e,v,h,f)}),r.forEachAction(function(h,d){var v=h.root?d:s+d,m=h.handler||h;UW(e,v,m,f)}),r.forEachGetter(function(h,d){var v=s+d;GW(e,v,h,f)}),r.forEachChild(function(h,d){bp(e,t,n.concat(d),h,i)})}function FW(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(a,s,u){var c=ap(a,s,u),f=c.payload,h=c.options,d=c.type;return(!h||!h.root)&&(d=t+d),e.dispatch(d,f)},commit:r?e.commit:function(a,s,u){var c=ap(a,s,u),f=c.payload,h=c.options,d=c.type;(!h||!h.root)&&(d=t+d),e.commit(d,f,h)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return BW(e,t)}},state:{get:function(){return k0(e.state,n)}}}),i}function BW(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function zW(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function UW(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var u=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return DW(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):u})}function GW(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(r.state,r.getters,a.state,a.getters)})}function HW(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function k0(e,t){return t.reduce(function(n,r){return n[r]},e)}function ap(e,t,n){return TE(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function LE(e){dr&&e===dr||(dr=e,LW(dr))}var RE=Sp(function(e,t){var n={};return Mp(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){var u=this.$store.state,c=this.$store.getters;if(e){var f=Tp(this.$store,"mapState",e);if(!f)return;u=f.context.state,c=f.context.getters}return typeof a=="function"?a.call(this,u,c):u[a]},n[i].vuex=!0}),n}),OE=Sp(function(e,t){var n={};return Mp(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];var f=this.$store.commit;if(e){var h=Tp(this.$store,"mapMutations",e);if(!h)return;f=h.context.commit}return typeof a=="function"?a.apply(this,[f].concat(u)):f.apply(this.$store,[a].concat(u))}}),n}),IE=Sp(function(e,t){var n={};return Mp(t).forEach(function(r){var i=r.key,a=r.val;a=e+a,n[i]=function(){if(!(e&&!Tp(this.$store,"mapGetters",e)))return this.$store.getters[a]},n[i].vuex=!0}),n}),DE=Sp(function(e,t){var n={};return Mp(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];var f=this.$store.dispatch;if(e){var h=Tp(this.$store,"mapActions",e);if(!h)return;f=h.context.dispatch}return typeof a=="function"?a.apply(this,[f].concat(u)):f.apply(this.$store,[a].concat(u))}}),n}),kW=function(e){return{mapState:RE.bind(null,e),mapGetters:IE.bind(null,e),mapMutations:OE.bind(null,e),mapActions:DE.bind(null,e)}};function Mp(e){return WW(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function WW(e){return Array.isArray(e)||TE(e)}function Sp(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function Tp(e,t,n){var r=e._modulesNamespaceMap[n];return r}function VW(e){e===void 0&&(e={});var t=e.collapsed;t===void 0&&(t=!0);var n=e.filter;n===void 0&&(n=function(h,d,v){return!0});var r=e.transformer;r===void 0&&(r=function(h){return h});var i=e.mutationTransformer;i===void 0&&(i=function(h){return h});var a=e.actionFilter;a===void 0&&(a=function(h,d){return!0});var s=e.actionTransformer;s===void 0&&(s=function(h){return h});var u=e.logMutations;u===void 0&&(u=!0);var c=e.logActions;c===void 0&&(c=!0);var f=e.logger;return f===void 0&&(f=console),function(h){var d=I_(h.state);typeof f>"u"||(u&&h.subscribe(function(v,m){var _=I_(m);if(n(v,d,_)){var g=yM(),y=i(v),w="mutation "+v.type+g;gM(f,w,t),f.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),f.log("%c mutation","color: #03A9F4; font-weight: bold",y),f.log("%c next state","color: #4CAF50; font-weight: bold",r(_)),_M(f)}d=_}),c&&h.subscribeAction(function(v,m){if(a(v,m)){var _=yM(),g=s(v),y="action "+v.type+_;gM(f,y,t),f.log("%c action","color: #03A9F4; font-weight: bold",g),_M(f)}}))}}function gM(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch(i){e.log(t)}}function _M(e){try{e.groupEnd()}catch(t){e.log("\u2014\u2014 log end \u2014\u2014")}}function yM(){var e=new Date;return" @ "+kh(e.getHours(),2)+":"+kh(e.getMinutes(),2)+":"+kh(e.getSeconds(),2)+"."+kh(e.getMilliseconds(),3)}function $W(e,t){return new Array(t+1).join(e)}function kh(e,t){return $W("0",t-e.toString().length)+e}var jW={Store:kr,install:LE,version:"3.6.2",mapState:RE,mapMutations:OE,mapGetters:IE,mapActions:DE,createNamespacedHelpers:kW,createLogger:VW};const NE=jW;bt.use(NE);const qW={isInitted:!1,scrollState:{currentSection:0,sectionProgress:0},projectState:{currentProject:0,projectList:[]}},XW=new NE.Store({state:qW,mutations:{setScrollState(e,t){e.scrollState=t},setCurrentProject(e,t){e.projectState.currentProject=t},setProjectList(e,t){e.projectState.projectList=t},setInitState(e,t){e.isInitted=Boolean(t)}}});bt.use(TW);bt.use(EW,{disableClick:!0,swipeTolerance:30});bt.config.productionTip=!1;new bt({render:e=>e(bW),store:XW}).$mount("#app");export{ZW as __vite_legacy_guard};
